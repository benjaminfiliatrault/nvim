"use strict";(()=>{var eW=Object.create;var Rb=Object.defineProperty;var _E=Object.getOwnPropertyDescriptor;var tW=Object.getOwnPropertyNames;var rW=Object.getPrototypeOf,iW=Object.prototype.hasOwnProperty;var w=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var nW=(t,e)=>()=>(t&&(e=t(t=0)),e);var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var sW=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of tW(e))!iW.call(t,n)&&n!==r&&Rb(t,n,{get:()=>e[n],enumerable:!(i=_E(e,n))||i.enumerable});return t};var U=(t,e,r)=>(r=t!=null?eW(rW(t)):{},sW(e||!t||!t.__esModule?Rb(r,"default",{value:t,enumerable:!0}):r,t));var z=(t,e,r,i)=>{for(var n=i>1?void 0:i?_E(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(i?o(e,r,n):o(n))||n);return i&&n&&Rb(e,r,n),n},x=(t,e)=>(r,i)=>e(r,i,t);var xt=v((Mle,xE)=>{"use strict";var oW=Object.create,th=Object.defineProperty,aW=Object.getOwnPropertyDescriptor,AE=Object.getOwnPropertyNames,uW=Object.getPrototypeOf,cW=Object.prototype.hasOwnProperty,lW=(t,e)=>function(){return e||(0,t[AE(t)[0]])((e={exports:{}}).exports,e),e.exports},pW=(t,e)=>{for(var r in e)th(t,r,{get:e[r],enumerable:!0})},SE=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of AE(e))!cW.call(t,n)&&n!==r&&th(t,n,{get:()=>e[n],enumerable:!(i=aW(e,n))||i.enumerable});return t},fW=(t,e,r)=>(r=t!=null?oW(uW(t)):{},SE(e||!t||!t.__esModule?th(r,"default",{value:t,enumerable:!0}):r,t)),dW=t=>SE(th({},"__esModule",{value:!0}),t),hW=lW({"node_modules/request-light/lib/node/main.js"(t){(()=>{var e={46:(o,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u,c,{signal:l}={}){return new Promise((p,f)=>{function H(){l==null||l.removeEventListener("abort",H),u.removeListener(c,m),u.removeListener("error",y)}function m(...b){H(),p(b)}function y(b){H(),f(b)}l==null||l.addEventListener("abort",H),u.on(c,m),u.on("error",y)})}},54:function(o,a,u){"use strict";var c=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};let l=u(361),p=c(u(374)),f=c(u(304)),H=p.default("agent-base");function m(){let{stack:b}=new Error;return typeof b=="string"&&b.split(`
`).some(I=>I.indexOf("(https.js:")!==-1||I.indexOf("node:https:")!==-1)}function y(b,I){return new y.Agent(b,I)}(function(b){class I extends l.EventEmitter{constructor(q,C){super();let D=C;typeof q=="function"?this.callback=q:q&&(D=q),this.timeout=null,D&&typeof D.timeout=="number"&&(this.timeout=D.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:m()?443:80}set defaultPort(q){this.explicitDefaultPort=q}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:m()?"https:":"http:"}set protocol(q){this.explicitProtocol=q}callback(q,C,D){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(q,C){let D=Object.assign({},C);typeof D.secureEndpoint!="boolean"&&(D.secureEndpoint=m()),D.host==null&&(D.host="localhost"),D.port==null&&(D.port=D.secureEndpoint?443:80),D.protocol==null&&(D.protocol=D.secureEndpoint?"https:":"http:"),D.host&&D.path&&delete D.path,delete D.agent,delete D.hostname,delete D._defaultAgent,delete D.defaultPort,delete D.createConnection,q._last=!0,q.shouldKeepAlive=!1;let G=!1,W=null,N=D.timeout||this.timeout,M=R=>{q._hadError||(q.emit("error",R),q._hadError=!0)},O=()=>{W=null,G=!0;let R=new Error(`A "socket" was not created for HTTP request before ${N}ms`);R.code="ETIMEOUT",M(R)},S=R=>{G||(W!==null&&(clearTimeout(W),W=null),M(R))},$=R=>{if(G)return;if(W!=null&&(clearTimeout(W),W=null),X=R,Boolean(X)&&typeof X.addRequest=="function")return H("Callback returned another Agent instance %o",R.constructor.name),void R.addRequest(q,D);var X;if(R)return R.once("free",()=>{this.freeSocket(R,D)}),void q.onSocket(R);let L=new Error(`no Duplex stream was returned to agent-base for \`${q.method} ${q.path}\``);M(L)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(H("Converting legacy callback function to promise"),this.promisifiedCallback=f.default(this.callback)):this.promisifiedCallback=this.callback),typeof N=="number"&&N>0&&(W=setTimeout(O,N)),"port"in D&&typeof D.port!="number"&&(D.port=Number(D.port));try{H("Resolving socket for %o request: %o",D.protocol,`${q.method} ${q.path}`),Promise.resolve(this.promisifiedCallback(q,D)).then($,S)}catch(R){Promise.reject(R).catch(S)}}else M(new Error("`callback` is not defined"))}freeSocket(q,C){H("Freeing socket %o %o",q.constructor.name,C),q.destroy()}destroy(){H("Destroying agent %o",this.constructor.name)}}b.Agent=I,b.prototype=b.Agent.prototype})(y||(y={})),o.exports=y},304:(o,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){return function(c,l){return new Promise((p,f)=>{u.call(this,c,l,(H,m)=>{H?f(H):p(m)})})}}},370:function(o,a,u){"use strict";var c=this&&this.__awaiter||function(q,C,D,G){return new(D||(D=Promise))(function(W,N){function M($){try{S(G.next($))}catch(R){N(R)}}function O($){try{S(G.throw($))}catch(R){N(R)}}function S($){var R;$.done?W($.value):(R=$.value,R instanceof D?R:new D(function(X){X(R)})).then(M,O)}S((G=G.apply(q,C||[])).next())})},l=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(u(808)),f=l(u(404)),H=l(u(310)),m=l(u(374)),y=l(u(46)),b=u(54),I=(0,m.default)("http-proxy-agent");class B extends b.Agent{constructor(C){let D;if(D=typeof C=="string"?H.default.parse(C):C,!D)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");I("Creating new HttpProxyAgent instance: %o",D),super(D);let G=Object.assign({},D);var W;this.secureProxy=D.secureProxy||typeof(W=G.protocol)=="string"&&/^https:?$/i.test(W),G.host=G.hostname||G.host,typeof G.port=="string"&&(G.port=parseInt(G.port,10)),!G.port&&G.host&&(G.port=this.secureProxy?443:80),G.host&&G.path&&(delete G.path,delete G.pathname),this.proxy=G}callback(C,D){return c(this,void 0,void 0,function*(){let{proxy:G,secureProxy:W}=this,N=H.default.parse(C.path),M;if(N.protocol||(N.protocol="http:"),N.hostname||(N.hostname=D.hostname||D.host||null),N.port==null&&(D.port,1)&&(N.port=String(D.port)),N.port==="80"&&(N.port=""),C.path=H.default.format(N),G.auth&&C.setHeader("Proxy-Authorization",`Basic ${Buffer.from(G.auth).toString("base64")}`),W?(I("Creating `tls.Socket`: %o",G),M=f.default.connect(G)):(I("Creating `net.Socket`: %o",G),M=p.default.connect(G)),C._header){let O,S;I("Regenerating stored HTTP header string for request"),C._header=null,C._implicitHeader(),C.output&&C.output.length>0?(I("Patching connection write() output buffer with updated header"),O=C.output[0],S=O.indexOf(`\r
\r
`)+4,C.output[0]=C._header+O.substring(S),I("Output buffer: %o",C.output)):C.outputData&&C.outputData.length>0&&(I("Patching connection write() output buffer with updated header"),O=C.outputData[0].data,S=O.indexOf(`\r
\r
`)+4,C.outputData[0].data=C._header+O.substring(S),I("Output buffer: %o",C.outputData[0].data))}return yield(0,y.default)(M,"connect"),M})}}a.default=B},201:function(o,a,u){"use strict";let c=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(u(370));function l(p){return new c.default(p)}(function(p){p.HttpProxyAgent=c.default,p.prototype=c.default.prototype})(l||(l={})),o.exports=l},146:function(o,a,u){"use strict";var c=this&&this.__awaiter||function(D,G,W,N){return new(W||(W=Promise))(function(M,O){function S(X){try{R(N.next(X))}catch(L){O(L)}}function $(X){try{R(N.throw(X))}catch(L){O(L)}}function R(X){var L;X.done?M(X.value):(L=X.value,L instanceof W?L:new W(function(P){P(L)})).then(S,$)}R((N=N.apply(D,G||[])).next())})},l=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(u(808)),f=l(u(404)),H=l(u(310)),m=l(u(491)),y=l(u(374)),b=u(54),I=l(u(829)),B=y.default("https-proxy-agent:agent");class q extends b.Agent{constructor(G){let W;if(W=typeof G=="string"?H.default.parse(G):G,!W)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");B("creating new HttpsProxyAgent instance: %o",W),super(W);let N=Object.assign({},W);var M;this.secureProxy=W.secureProxy||typeof(M=N.protocol)=="string"&&/^https:?$/i.test(M),N.host=N.hostname||N.host,typeof N.port=="string"&&(N.port=parseInt(N.port,10)),!N.port&&N.host&&(N.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in N)&&(N.ALPNProtocols=["http 1.1"]),N.host&&N.path&&(delete N.path,delete N.pathname),this.proxy=N}callback(G,W){return c(this,void 0,void 0,function*(){let{proxy:N,secureProxy:M}=this,O;M?(B("Creating `tls.Socket`: %o",N),O=f.default.connect(N)):(B("Creating `net.Socket`: %o",N),O=p.default.connect(N));let S=Object.assign({},N.headers),$=`CONNECT ${W.host}:${W.port} HTTP/1.1\r
`;N.auth&&(S["Proxy-Authorization"]=`Basic ${Buffer.from(N.auth).toString("base64")}`);let{host:R,port:X,secureEndpoint:L}=W;(function(oe,ie){return Boolean(!ie&&oe===80||ie&&oe===443)})(X,L)||(R+=`:${X}`),S.Host=R,S.Connection="close";for(let oe of Object.keys(S))$+=`${oe}: ${S[oe]}\r
`;let P=I.default(O);O.write(`${$}\r
`);let{statusCode:ee,buffered:re}=yield P;if(ee===200){if(G.once("socket",C),W.secureEndpoint){B("Upgrading socket connection to TLS");let oe=W.servername||W.host;return f.default.connect(Object.assign(Object.assign({},function(ie,...de){let we={},He;for(He in ie)de.includes(He)||(we[He]=ie[He]);return we}(W,"host","hostname","path","port")),{socket:O,servername:oe}))}return O}O.destroy();let se=new p.default.Socket({writable:!1});return se.readable=!0,G.once("socket",oe=>{B("replaying proxy buffer for failed request"),m.default(oe.listenerCount("data")>0),oe.push(re),oe.push(null)}),se})}}function C(D){D.resume()}a.default=q},18:function(o,a,u){"use strict";let c=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(u(146));function l(p){return new c.default(p)}(function(p){p.HttpsProxyAgent=c.default,p.prototype=c.default.prototype})(l||(l={})),o.exports=l},829:function(o,a,u){"use strict";var c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});let l=c(u(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(p){return new Promise((f,H)=>{let m=0,y=[];function b(){let q=p.read();q?function(C){y.push(C),m+=C.length;let D=Buffer.concat(y,m);if(D.indexOf(`\r
\r
`)===-1)return l("have not received end of HTTP headers yet..."),void b();let G=D.toString("ascii",0,D.indexOf(`\r
`)),W=+G.split(" ")[1];l("got proxy server response: %o",G),f({statusCode:W,buffered:D})}(q):p.once("readable",b)}function I(q){l("onclose had error %o",q)}function B(){l("onend")}p.on("error",function q(C){p.removeListener("end",B),p.removeListener("error",q),p.removeListener("close",I),p.removeListener("readable",b),l("onerror %o",C),H(C)}),p.on("close",I),p.on("end",B),b()})}},539:function(o,a,u){"use strict";var c,l=this&&this.__extends||(c=function(M,O){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,$){S.__proto__=$}||function(S,$){for(var R in $)Object.prototype.hasOwnProperty.call($,R)&&(S[R]=$[R])},c(M,O)},function(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function S(){this.constructor=M}c(M,O),M.prototype=O===null?Object.create(O):(S.prototype=O.prototype,new S)}),p=this&&this.__assign||function(){return p=Object.assign||function(M){for(var O,S=1,$=arguments.length;S<$;S++)for(var R in O=arguments[S])Object.prototype.hasOwnProperty.call(O,R)&&(M[R]=O[R]);return M},p.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var f=u(685),H=u(687),m=u(310),y=u(472),b=u(796),I=u(201),B=u(18);if(process.env.VSCODE_NLS_CONFIG){var q=process.env.VSCODE_NLS_CONFIG;y.config(JSON.parse(q))}var C=y.loadMessageBundle(),D=void 0,G=!0;function W(M){var O;return new Promise(function(S,$){var R=(0,m.parse)(M.url),X={hostname:R.hostname,agent:!!M.agent&&M.agent,port:R.port?parseInt(R.port):R.protocol==="https:"?443:80,path:R.path,method:M.type||"GET",headers:M.headers,rejectUnauthorized:typeof M.strictSSL!="boolean"||M.strictSSL};M.user&&M.password&&(X.auth=M.user+":"+M.password);var L=function(P){if(P.statusCode>=300&&P.statusCode<400&&M.followRedirects&&M.followRedirects>0&&P.headers.location){var ee=P.headers.location;ee.startsWith("/")&&(ee=(0,m.format)({protocol:R.protocol,hostname:R.hostname,port:R.port,pathname:ee})),S(W(function(re){for(var se=[],oe=1;oe<arguments.length;oe++)se[oe-1]=arguments[oe];return se.forEach(function(ie){return Object.keys(ie).forEach(function(de){return re[de]=ie[de]})}),re}({},M,{url:ee,followRedirects:M.followRedirects-1})))}else S({req:O,res:P})};(O=R.protocol==="https:"?H.request(X,L):f.request(X,L)).on("error",$),M.timeout&&O.setTimeout(M.timeout),M.data&&O.write(M.data),O.end(),M.token&&(M.token.isCancellationRequested&&O.destroy(new N),M.token.onCancellationRequested(function(){O.destroy(new N)}))})}a.configure=function(M,O){D=M,G=O},a.xhr=function(M){return typeof(M=p({},M)).strictSSL!="boolean"&&(M.strictSSL=G),M.agent||(M.agent=function(O,S){S===void 0&&(S={});var $=(0,m.parse)(O),R=S.proxyUrl||function(P){return P.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:P.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}($);if(!R)return null;var X=(0,m.parse)(R);if(!/^https?:$/.test(X.protocol))return null;var L={host:X.hostname,port:Number(X.port),auth:X.auth,rejectUnauthorized:typeof S.strictSSL!="boolean"||S.strictSSL,protocol:X.protocol};return $.protocol==="http:"?I(L):B(L)}(M.url,{proxyUrl:D,strictSSL:G})),typeof M.followRedirects!="number"&&(M.followRedirects=5),W(M).then(function(O){return new Promise(function(S,$){var R,X,L=O.res,P=L,ee=!1,re=L.headers&&L.headers["content-encoding"];if(re&&(R=M.type,X=O.res.statusCode,!(R==="HEAD"||X>=100&&X<200||X===204||X===304))){var se={flush:b.constants.Z_SYNC_FLUSH,finishFlush:b.constants.Z_SYNC_FLUSH};if(re==="gzip"){var oe=b.createGunzip(se);L.pipe(oe),P=oe}else if(re==="deflate"){var ie=b.createInflate(se);L.pipe(ie),P=ie}}var de=[];P.on("data",function(we){return de.push(we)}),P.on("end",function(){if(!ee){if(ee=!0,M.followRedirects>0&&(L.statusCode>=300&&L.statusCode<=303||L.statusCode===307)){var we=L.headers.location;if(we.startsWith("/")){var He=(0,m.parse)(M.url);we=(0,m.format)({protocol:He.protocol,hostname:He.hostname,port:He.port,pathname:we})}if(we){var Et={type:M.type,url:we,user:M.user,password:M.password,headers:M.headers,timeout:M.timeout,followRedirects:M.followRedirects-1,data:M.data,token:M.token};return void(0,a.xhr)(Et).then(S,$)}}var be=Buffer.concat(de),br={responseText:be.toString(),body:be,status:L.statusCode,headers:L.headers||{}};L.statusCode>=200&&L.statusCode<300||L.statusCode===1223?S(br):$(br)}}),P.on("error",function(we){var He;He=N.is(we)?we:{responseText:C("error","Unable to access {0}. Error: {1}",M.url,we.message),body:Buffer.concat(de),status:500,headers:{}},ee=!0,$(He)}),M.token&&(M.token.isCancellationRequested&&P.destroy(new N),M.token.onCancellationRequested(function(){P.destroy(new N)}))})},function(O){var S;return S=N.is(O)?O:{responseText:M.agent?C("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",M.url,O.message):C("error.cannot.connect","Unable to connect to {0}. Error: {1}",M.url,O.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(S)})},a.getErrorStatusDescription=function(M){if(!(M<400))switch(M){case 400:return C("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return C("status.401","Unauthorized. The server is refusing to respond.");case 403:return C("status.403","Forbidden. The server is refusing to respond.");case 404:return C("status.404","Not Found. The requested location could not be found.");case 405:return C("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return C("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return C("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return C("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return C("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return C("status.410","Gone. The requested page is no longer available.");case 411:return C("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return C("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return C("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return C("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return C("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return C("status.500","Internal Server Error.");case 501:return C("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return C("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return C("status.416","HTTP status code {0}",M)}};var N=function(M){function O(){var S=M.call(this,"The user aborted a request")||this;return S.name="AbortError",Object.setPrototypeOf(S,O.prototype),S}return l(O,M),O.is=function(S){return S instanceof O},O}(Error)},800:(o,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var c,l,p,f=u(926);function H(y){return y!==void 0}function m(y,b){return a.isPseudo&&(y="\uFF3B"+y.replace(/[aouei]/g,"$&$&")+"\uFF3D"),b.length===0?y:y.replace(/\{(\d+)\}/g,function(I,B){var q=B[0],C=b[q],D=I;return typeof C=="string"?D=C:typeof C!="number"&&typeof C!="boolean"&&C!=null||(D=String(C)),D})}(p=a.MessageFormat||(a.MessageFormat={})).file="file",p.bundle="bundle",p.both="both",(l=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",l.languagePack="languagePack",function(y){y.is=function(b){var I=b;return I&&H(I.key)&&H(I.comment)}}(c||(c={})),a.isDefined=H,a.isPseudo=!1,a.setPseudo=function(y){a.isPseudo=y},a.format=m,a.localize=function(y,b){for(var I=[],B=2;B<arguments.length;B++)I[B-2]=arguments[B];return m(b,I)},a.loadMessageBundle=function(y){return(0,f.default)().loadMessageBundle(y)},a.config=function(y){return(0,f.default)().config(y)}},926:(o,a)=>{"use strict";var u;function c(){if(u===void 0)throw new Error("No runtime abstraction layer installed");return u}Object.defineProperty(a,"__esModule",{value:!0}),function(l){l.install=function(p){if(p===void 0)throw new Error("No runtime abstraction layer provided");u=p}}(c||(c={})),a.default=c},472:(o,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var c=u(17),l=u(147),p=u(926),f=u(800),H=u(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return H.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return H.BundleFormat}});var m,y,b=Object.prototype.toString;function I(O){return b.call(O)==="[object Number]"}function B(O){return b.call(O)==="[object String]"}function q(O){return JSON.parse(l.readFileSync(O,"utf8"))}function C(O){return function(S,$){for(var R=[],X=2;X<arguments.length;X++)R[X-2]=arguments[X];return I(S)?S>=O.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,f.format)(O[S],R):B($)?(console.warn("Message ".concat($," didn't get externalized correctly.")),(0,f.format)($,R)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function D(O,S){return m[O]=S,S}function G(O){try{return function(S){var $=q(c.join(S,"nls.metadata.json")),R=Object.create(null);for(var X in $){var L=$[X];R[X]=L.messages}return R}(O)}catch(S){return void console.log("Generating default bundle from meta data failed.",S)}}function W(O,S){var $;if(y.languagePackSupport===!0&&y.cacheRoot!==void 0&&y.languagePackId!==void 0&&y.translationsConfigFile!==void 0&&y.translationsConfig!==void 0)try{$=function(X,L){var P,ee,re,se=c.join(y.cacheRoot,"".concat(X.id,"-").concat(X.hash,".json")),oe=!1,ie=!1;try{return P=JSON.parse(l.readFileSync(se,{encoding:"utf8",flag:"r"})),ee=se,re=new Date,l.utimes(ee,re,re,function(){}),P}catch(de){if(de.code==="ENOENT")ie=!0;else{if(!(de instanceof SyntaxError))throw de;console.log("Syntax error parsing message bundle: ".concat(de.message,".")),l.unlink(se,function(we){we&&console.error("Deleting corrupted bundle ".concat(se," failed."))}),oe=!0}}if(P=function(de,we){var He=y.translationsConfig[de.id];if(He){var Et=q(He).contents,be=q(c.join(we,"nls.metadata.json")),br=Object.create(null);for(var Gr in be){var Q=be[Gr],Le=Et["".concat(de.outDir,"/").concat(Gr)];if(Le){for(var Y=[],ge=0;ge<Q.keys.length;ge++){var Be=Q.keys[ge],ct=Le[B(Be)?Be:Be.key];ct===void 0&&(ct=Q.messages[ge]),Y.push(ct)}br[Gr]=Y}else br[Gr]=Q.messages}return br}}(X,L),!P||oe)return P;if(ie)try{l.writeFileSync(se,JSON.stringify(P),{encoding:"utf8",flag:"wx"})}catch(de){if(de.code==="EEXIST")return P;throw de}return P}(O,S)}catch(X){console.log("Load or create bundle failed ",X)}if(!$){if(y.languagePackSupport)return G(S);var R=function(X){for(var L=y.language;L;){var P=c.join(X,"nls.bundle.".concat(L,".json"));if(l.existsSync(P))return P;var ee=L.lastIndexOf("-");L=ee>0?L.substring(0,ee):void 0}if(L===void 0&&(P=c.join(X,"nls.bundle.json"),l.existsSync(P)))return P}(S);if(R)try{return q(R)}catch(X){console.log("Loading in the box message bundle failed.",X)}$=G(S)}return $}function N(O){if(!O)return f.localize;var S=c.extname(O);if(S&&(O=O.substr(0,O.length-S.length)),y.messageFormat===f.MessageFormat.both||y.messageFormat===f.MessageFormat.bundle){var $=function(oe){for(var ie,de=c.dirname(oe);ie=c.join(de,"nls.metadata.header.json"),!l.existsSync(ie);){var we=c.dirname(de);if(we===de){ie=void 0;break}de=we}return ie}(O);if($){var R=c.dirname($),X=m[R];if(X===void 0)try{var L=JSON.parse(l.readFileSync($,"utf8"));try{var P=W(L,R);X=D(R,P?{header:L,nlsBundle:P}:null)}catch(oe){console.error("Failed to load nls bundle",oe),X=D(R,null)}}catch(oe){console.error("Failed to read header file",oe),X=D(R,null)}if(X){var ee=O.substr(R.length+1).replace(/\\/g,"/"),re=X.nlsBundle[ee];return re===void 0?(console.error("Messages for file ".concat(O," not found. See console for details.")),function(){return"Messages not found."}):C(re)}}}if(y.messageFormat===f.MessageFormat.both||y.messageFormat===f.MessageFormat.file)try{var se=q(function(oe){var ie;if(!(y.cacheLanguageResolution&&ie)){if(f.isPseudo||!y.language)ie=".nls.json";else for(var de=y.language;de;){var we=".nls."+de+".json";if(l.existsSync(oe+we)){ie=we;break}var He=de.lastIndexOf("-");He>0?de=de.substring(0,He):(ie=".nls.json",de=null)}y.cacheLanguageResolution}return oe+ie}(O));return Array.isArray(se)?C(se):(0,f.isDefined)(se.messages)&&(0,f.isDefined)(se.keys)?C(se.messages):(console.error("String bundle '".concat(O,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(oe){oe.code!=="ENOENT"&&console.error("Failed to load single file bundle",oe)}return console.error("Failed to load message bundle for file ".concat(O)),function(){return"Failed to load message bundle. See console for details."}}function M(O){return O&&(B(O.locale)&&(y.locale=O.locale.toLowerCase(),y.language=y.locale,m=Object.create(null)),O.messageFormat!==void 0&&(y.messageFormat=O.messageFormat),O.bundleFormat===f.BundleFormat.standalone&&y.languagePackSupport===!0&&(y.languagePackSupport=!1)),(0,f.setPseudo)(y.locale==="pseudo"),N}(function(){if(y={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:f.MessageFormat.bundle},B(process.env.VSCODE_NLS_CONFIG))try{var O=JSON.parse(process.env.VSCODE_NLS_CONFIG),S=void 0;if(O.availableLanguages){var $=O.availableLanguages["*"];B($)&&(S=$)}if(B(O.locale)&&(y.locale=O.locale.toLowerCase()),S===void 0?y.language=y.locale:S!=="en"&&(y.language=S),function(X){return X===!0||X===!1}(O._languagePackSupport)&&(y.languagePackSupport=O._languagePackSupport),B(O._cacheRoot)&&(y.cacheRoot=O._cacheRoot),B(O._languagePackId)&&(y.languagePackId=O._languagePackId),B(O._translationsConfigFile)){y.translationsConfigFile=O._translationsConfigFile;try{y.translationsConfig=q(y.translationsConfigFile)}catch{if(O._corruptedFile){var R=c.dirname(O._corruptedFile);l.exists(R,function(L){L&&l.writeFile(O._corruptedFile,"corrupted","utf8",function(P){console.error(P)})})}}}}catch{}(0,f.setPseudo)(y.locale==="pseudo"),m=Object.create(null)})(),a.loadMessageBundle=N,a.config=M,p.default.install(Object.freeze({loadMessageBundle:N,config:M}))},374:(o,a)=>{function u(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return u}},491:o=>{"use strict";o.exports=w("assert")},361:o=>{"use strict";o.exports=w("events")},147:o=>{"use strict";o.exports=w("fs")},685:o=>{"use strict";o.exports=w("http")},687:o=>{"use strict";o.exports=w("https")},808:o=>{"use strict";o.exports=w("net")},17:o=>{"use strict";o.exports=w("path")},404:o=>{"use strict";o.exports=w("tls")},310:o=>{"use strict";o.exports=w("url")},796:o=>{"use strict";o.exports=w("zlib")}},r={},i=function o(a){var u=r[a];if(u!==void 0)return u.exports;var c=r[a]={exports:{}};return e[a].call(c.exports,c,c.exports,o),c.exports}(539),n=t;for(var s in i)n[s]=i[s];i.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})()}}),EE={};pW(EE,{config:()=>bW,t:()=>vW});xE.exports=dW(EE);var mW=w("fs"),HW=w("fs/promises"),wE=fW(hW());async function gW(t){if(t.protocol==="file:")return await(0,HW.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:")try{let e=await(0,wE.xhr)({url:t.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(e.body)}catch(e){throw new Error(e.responseText??(0,wE.getErrorStatusDescription)(e.status)??e.toString())}throw new Error("Unsupported protocol")}function yW(t){return(0,mW.readFileSync)(t,"utf8")}var Du;function bW(t){if("contents"in t){typeof t.contents=="string"?Du=JSON.parse(t.contents):Du=t.contents;return}if("fsPath"in t){let e=yW(t.fsPath),r=JSON.parse(e);Du=IE(r)?r.contents.bundle:r;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((r,i)=>{let n=gW(e).then(s=>{try{let o=JSON.parse(s);Du=IE(o)?o.contents.bundle:o}catch(o){i(o)}}).catch(s=>{i(s)});r(n)})}}function vW(...t){let e=t[0],r,i,n;if(typeof e=="string"?(r=e,i=e,t.splice(0,1),n=!t||typeof t[0]!="object"?t:t[0]):(i=e.message,r=i,e.comment&&e.comment.length>0&&(r+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),n=e.args??{}),!Du)return hp(i,n);let s=Du[r];return s?typeof s=="string"?hp(s,n):s.comment?hp(s.message,n):hp(i,n):hp(i,n)}var _W=/{([^}]+)}/g;function hp(t,e){return t.replace(_W,(r,i)=>e[i]??r)}function IE(t){var e;return typeof((e=t==null?void 0:t.contents)==null?void 0:e.bundle)=="object"&&typeof(t==null?void 0:t.version)=="string"}});var Ct=v(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.NON_CUSTOM_TAG_KEYS=De.PRE_DESTROY=De.POST_CONSTRUCT=De.DESIGN_PARAM_TYPES=De.PARAM_TYPES=De.TAGGED_PROP=De.TAGGED=De.MULTI_INJECT_TAG=De.INJECT_TAG=De.OPTIONAL_TAG=De.UNMANAGED_TAG=De.NAME_TAG=De.NAMED_TAG=void 0;De.NAMED_TAG="named";De.NAME_TAG="name";De.UNMANAGED_TAG="unmanaged";De.OPTIONAL_TAG="optional";De.INJECT_TAG="inject";De.MULTI_INJECT_TAG="multi_inject";De.TAGGED="inversify:tagged";De.TAGGED_PROP="inversify:tagged_props";De.PARAM_TYPES="inversify:paramtypes";De.DESIGN_PARAM_TYPES="design:paramtypes";De.POST_CONSTRUCT="post_construct";De.PRE_DESTROY="pre_destroy";function EW(){return[De.INJECT_TAG,De.MULTI_INJECT_TAG,De.NAME_TAG,De.UNMANAGED_TAG,De.NAMED_TAG,De.OPTIONAL_TAG]}De.NON_CUSTOM_TAG_KEYS=EW()});var Ui=v(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.TargetTypeEnum=Xs.BindingTypeEnum=Xs.BindingScopeEnum=void 0;var xW={Request:"Request",Singleton:"Singleton",Transient:"Transient"};Xs.BindingScopeEnum=xW;var CW={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};Xs.BindingTypeEnum=CW;var LW={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};Xs.TargetTypeEnum=LW});var Js=v(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.id=void 0;var PW=0;function DW(){return PW++}ah.id=DW});var WE=v(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.Binding=void 0;var qE=Ui(),TW=Js(),$W=function(){function t(e,r){this.id=(0,TW.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=r,this.type=qE.BindingTypeEnum.Invalid,this.constraint=function(i){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===qE.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();uh.Binding=$W});var cr=v(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.STACK_OVERFLOW=ae.CIRCULAR_DEPENDENCY_IN_FACTORY=ae.ON_DEACTIVATION_ERROR=ae.PRE_DESTROY_ERROR=ae.POST_CONSTRUCT_ERROR=ae.ASYNC_UNBIND_REQUIRED=ae.MULTIPLE_POST_CONSTRUCT_METHODS=ae.MULTIPLE_PRE_DESTROY_METHODS=ae.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=ae.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=ae.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=ae.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=ae.ARGUMENTS_LENGTH_MISMATCH=ae.INVALID_DECORATOR_OPERATION=ae.INVALID_TO_SELF_VALUE=ae.LAZY_IN_SYNC=ae.INVALID_FUNCTION_BINDING=ae.INVALID_MIDDLEWARE_RETURN=ae.NO_MORE_SNAPSHOTS_AVAILABLE=ae.INVALID_BINDING_TYPE=ae.NOT_IMPLEMENTED=ae.CIRCULAR_DEPENDENCY=ae.UNDEFINED_INJECT_ANNOTATION=ae.MISSING_INJECT_ANNOTATION=ae.MISSING_INJECTABLE_ANNOTATION=ae.NOT_REGISTERED=ae.CANNOT_UNBIND=ae.AMBIGUOUS_MATCH=ae.KEY_NOT_FOUND=ae.NULL_ARGUMENT=ae.DUPLICATED_METADATA=ae.DUPLICATED_INJECTABLE_DECORATOR=void 0;ae.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";ae.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";ae.NULL_ARGUMENT="NULL argument";ae.KEY_NOT_FOUND="Key Not Found";ae.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";ae.CANNOT_UNBIND="Could not unbind serviceIdentifier:";ae.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";ae.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";ae.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var MW=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};ae.UNDEFINED_INJECT_ANNOTATION=MW;ae.CIRCULAR_DEPENDENCY="Circular dependency found:";ae.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";ae.INVALID_BINDING_TYPE="Invalid binding type:";ae.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";ae.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";ae.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var kW=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`};ae.LAZY_IN_SYNC=kW;ae.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";ae.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var RW=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")};ae.ARGUMENTS_LENGTH_MISMATCH=RW;ae.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";ae.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";ae.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";ae.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";ae.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";ae.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";ae.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var OW=function(t,e){return"@postConstruct error in class "+t+": "+e};ae.POST_CONSTRUCT_ERROR=OW;var NW=function(t,e){return"@preDestroy error in class "+t+": "+e};ae.PRE_DESTROY_ERROR=NW;var BW=function(t,e){return"onDeactivation() error in class "+t+": "+e};ae.ON_DEACTIVATION_ERROR=BW;var FW=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")};ae.CIRCULAR_DEPENDENCY_IN_FACTORY=FW;ae.STACK_OVERFLOW="Maximum call stack size exceeded"});var Bb=v(fn=>{"use strict";var UW=fn&&fn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),jW=fn&&fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qW=fn&&fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UW(e,t,r);return jW(e,t),e};Object.defineProperty(fn,"__esModule",{value:!0});fn.MetadataReader=void 0;var Nb=qW(Ct()),WW=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var r=Reflect.getMetadata(Nb.PARAM_TYPES,e),i=Reflect.getMetadata(Nb.TAGGED,e);return{compilerGeneratedMetadata:r,userGeneratedMetadata:i||{}}},t.prototype.getPropertiesMetadata=function(e){var r=Reflect.getMetadata(Nb.TAGGED_PROP,e)||[];return r},t}();fn.MetadataReader=WW});var VE=v(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.BindingCount=void 0;var VW={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};ch.BindingCount=VW});var Fb=v(fi=>{"use strict";var GW=fi&&fi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),KW=fi&&fi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zW=fi&&fi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GW(e,t,r);return KW(e,t),e};Object.defineProperty(fi,"__esModule",{value:!0});fi.tryAndThrowErrorIfStackOverflow=fi.isStackOverflowExeption=void 0;var XW=zW(cr());function GE(t){return t instanceof RangeError||t.message===XW.STACK_OVERFLOW}fi.isStackOverflowExeption=GE;var JW=function(t,e){try{return t()}catch(r){throw GE(r)&&(r=e()),r}};fi.tryAndThrowErrorIfStackOverflow=JW});var Ou=v(Lt=>{"use strict";var YW=Lt&&Lt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),QW=Lt&&Lt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZW=Lt&&Lt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YW(e,t,r);return QW(e,t),e};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.getSymbolDescription=Lt.circularDependencyToException=Lt.listMetadataForTarget=Lt.listRegisteredBindingsForServiceIdentifier=Lt.getServiceIdentifierAsString=Lt.getFunctionName=void 0;var eV=ZW(cr());function KE(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}Lt.getServiceIdentifierAsString=KE;function tV(t,e,r){var i="",n=r(t,e);return n.length!==0&&(i=`
Registered bindings:`,n.forEach(function(s){var o="Object";s.implementationType!==null&&(o=JE(s.implementationType)),i=i+`
 `+o,s.constraint.metaData&&(i=i+" - "+s.constraint.metaData)})),i}Lt.listRegisteredBindingsForServiceIdentifier=tV;function zE(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:zE(t.parentRequest,e)}function rV(t){function e(i,n){n===void 0&&(n=[]);var s=KE(i.serviceIdentifier);return n.push(s),i.parentRequest!==null?e(i.parentRequest,n):n}var r=e(t);return r.reverse().join(" --> ")}function XE(t){t.childRequests.forEach(function(e){if(zE(e,e.serviceIdentifier)){var r=rV(e);throw new Error(eV.CIRCULAR_DEPENDENCY+" "+r)}else XE(e)})}Lt.circularDependencyToException=XE;function iV(t,e){if(e.isTagged()||e.isNamed()){var r="",i=e.getNamedTag(),n=e.getCustomTags();return i!==null&&(r+=i.toString()+`
`),n!==null&&n.forEach(function(s){r+=s.toString()+`
`})," "+t+`
 `+t+" - "+r}else return" "+t}Lt.listMetadataForTarget=iV;function JE(t){if(t.name)return t.name;var e=t.toString(),r=e.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+e}Lt.getFunctionName=JE;function nV(t){return t.toString().slice(7,-1)}Lt.getSymbolDescription=nV});var YE=v(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.Context=void 0;var sV=Js(),oV=function(){function t(e){this.id=(0,sV.id)(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();lh.Context=oV});var ji=v(dn=>{"use strict";var aV=dn&&dn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),uV=dn&&dn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cV=dn&&dn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aV(e,t,r);return uV(e,t),e};Object.defineProperty(dn,"__esModule",{value:!0});dn.Metadata=void 0;var lV=cV(Ct()),pV=function(){function t(e,r){this.key=e,this.value=r}return t.prototype.toString=function(){return this.key===lV.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();dn.Metadata=pV});var QE=v(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.Plan=void 0;var fV=function(){function t(e,r){this.parentContext=e,this.rootRequest=r}return t}();ph.Plan=fV});var Ub=v(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.LazyServiceIdentifer=void 0;var dV=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();fh.LazyServiceIdentifer=dV});var ZE=v(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.QueryableString=void 0;var hV=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var r="",i=e.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},i)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();dh.QueryableString=hV});var jb=v(hn=>{"use strict";var mV=hn&&hn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),HV=hn&&hn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gV=hn&&hn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mV(e,t,r);return HV(e,t),e};Object.defineProperty(hn,"__esModule",{value:!0});hn.Target=void 0;var ps=gV(Ct()),yV=Js(),bV=Ou(),ex=ji(),vV=ZE(),_V=function(){function t(e,r,i,n){this.id=(0,yV.id)(),this.type=e,this.serviceIdentifier=i;var s=typeof r=="symbol"?(0,bV.getSymbolDescription)(r):r;this.name=new vV.QueryableString(s||""),this.identifier=r,this.metadata=new Array;var o=null;typeof n=="string"?o=new ex.Metadata(ps.NAMED_TAG,n):n instanceof ex.Metadata&&(o=n),o!==null&&this.metadata.push(o)}return t.prototype.hasTag=function(e){for(var r=0,i=this.metadata;r<i.length;r++){var n=i[r];if(n.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(ps.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(e){return this.matchesTag(ps.MULTI_INJECT_TAG)(e)},t.prototype.isNamed=function(){return this.hasTag(ps.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return ps.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})})},t.prototype.isOptional=function(){return this.matchesTag(ps.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===ps.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return ps.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(ps.NAMED_TAG)(e)},t.prototype.matchesTag=function(e){var r=this;return function(i){for(var n=0,s=r.metadata;n<s.length;n++){var o=s[n];if(o.key===e&&o.value===i)return!0}return!1}},t}();hn.Target=_V});var ux=v(lr=>{"use strict";var wV=lr&&lr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),IV=lr&&lr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tx=lr&&lr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wV(e,t,r);return IV(e,t),e},hh=lr&&lr.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(lr,"__esModule",{value:!0});lr.getFunctionName=lr.getBaseClassDependencyCount=lr.getDependencies=void 0;var AV=Ub(),qb=tx(cr()),rx=Ui(),gp=tx(Ct()),Wb=Ou();Object.defineProperty(lr,"getFunctionName",{enumerable:!0,get:function(){return Wb.getFunctionName}});var ix=jb();function SV(t,e){var r=(0,Wb.getFunctionName)(e);return nx(t,r,e,!1)}lr.getDependencies=SV;function nx(t,e,r,i){var n=t.getConstructorMetadata(r),s=n.compilerGeneratedMetadata;if(s===void 0){var o=qb.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(o)}var a=n.userGeneratedMetadata,u=Object.keys(a),c=r.length===0&&u.length>0,l=u.length>r.length,p=c||l?u.length:r.length,f=xV(i,e,s,a,p),H=sx(t,r,e),m=hh(hh([],f,!0),H,!0);return m}function EV(t,e,r,i,n){var s=n[t.toString()]||[],o=ax(s),a=o.unmanaged!==!0,u=i[t],c=o.inject||o.multiInject;if(u=c||u,u instanceof AV.LazyServiceIdentifer&&(u=u.unwrap()),a){var l=u===Object,p=u===Function,f=u===void 0,H=l||p||f;if(!e&&H){var m=qb.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+r+".";throw new Error(m)}var y=new ix.Target(rx.TargetTypeEnum.ConstructorArgument,o.targetName,u);return y.metadata=s,y}return null}function xV(t,e,r,i,n){for(var s=[],o=0;o<n;o++){var a=o,u=EV(a,t,e,r,i);u!==null&&s.push(u)}return s}function CV(t,e,r,i){var n=t||e;if(n===void 0){var s=qb.MISSING_INJECTABLE_ANNOTATION+" for property "+String(r)+" in class "+i+".";throw new Error(s)}return n}function sx(t,e,r){for(var i=t.getPropertiesMetadata(e),n=[],s=Object.getOwnPropertySymbols(i),o=Object.keys(i),a=o.concat(s),u=0,c=a;u<c.length;u++){var l=c[u],p=i[l],f=ax(p),H=f.targetName||l,m=CV(f.inject,f.multiInject,l,r),y=new ix.Target(rx.TargetTypeEnum.ClassProperty,H,m);y.metadata=p,n.push(y)}var b=Object.getPrototypeOf(e.prototype).constructor;if(b!==Object){var I=sx(t,b,r);n=hh(hh([],n,!0),I,!0)}return n}function ox(t,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var i=(0,Wb.getFunctionName)(r),n=nx(t,i,r,!0),s=n.map(function(u){return u.metadata.filter(function(c){return c.key===gp.UNMANAGED_TAG})}),o=[].concat.apply([],s).length,a=n.length-o;return a>0?a:ox(t,r)}else return 0}lr.getBaseClassDependencyCount=ox;function ax(t){var e={};return t.forEach(function(r){e[r.key.toString()]=r.value}),{inject:e[gp.INJECT_TAG],multiInject:e[gp.MULTI_INJECT_TAG],targetName:e[gp.NAME_TAG],unmanaged:e[gp.UNMANAGED_TAG]}}});var cx=v(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.Request=void 0;var LV=Js(),PV=function(){function t(e,r,i,n,s){this.id=(0,LV.id)(),this.serviceIdentifier=e,this.parentContext=r,this.parentRequest=i,this.target=s,this.childRequests=[],this.bindings=Array.isArray(n)?n:[n],this.requestScope=i===null?new Map:null}return t.prototype.addChildRequest=function(e,r,i){var n=new t(e,this.parentContext,this,r,i);return this.childRequests.push(n),n},t}();mh.Request=PV});var Xb=v(Mr=>{"use strict";var DV=Mr&&Mr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),TV=Mr&&Mr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fx=Mr&&Mr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DV(e,t,r);return TV(e,t),e};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.getBindingDictionary=Mr.createMockRequest=Mr.plan=void 0;var Hh=VE(),Gb=fx(cr()),dx=Ui(),lx=fx(Ct()),$V=Fb(),Nu=Ou(),hx=YE(),Kb=ji(),MV=QE(),Vb=ux(),zb=cx(),mx=jb();function Hx(t){return t._bindingDictionary}Mr.getBindingDictionary=Hx;function kV(t,e,r,i,n,s){var o=t?lx.MULTI_INJECT_TAG:lx.INJECT_TAG,a=new Kb.Metadata(o,r),u=new mx.Target(e,i,r,a);if(n!==void 0){var c=new Kb.Metadata(n,s);u.metadata.push(c)}return u}function px(t,e,r,i,n){var s=yp(r.container,n.serviceIdentifier),o=[];return s.length===Hh.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof n.serviceIdentifier=="function"&&t.getConstructorMetadata(n.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(n.serviceIdentifier).toSelf(),s=yp(r.container,n.serviceIdentifier)),e?o=s:o=s.filter(function(a){var u=new zb.Request(a.serviceIdentifier,r,i,a,n);return a.constraint(u)}),RV(n.serviceIdentifier,o,n,r.container),o}function RV(t,e,r,i){switch(e.length){case Hh.BindingCount.NoBindingsAvailable:if(r.isOptional())return e;var n=(0,Nu.getServiceIdentifierAsString)(t),s=Gb.NOT_REGISTERED;throw s+=(0,Nu.listMetadataForTarget)(n,r),s+=(0,Nu.listRegisteredBindingsForServiceIdentifier)(i,n,yp),new Error(s);case Hh.BindingCount.OnlyOneBindingAvailable:return e;case Hh.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return e;var n=(0,Nu.getServiceIdentifierAsString)(t),s=Gb.AMBIGUOUS_MATCH+" "+n;throw s+=(0,Nu.listRegisteredBindingsForServiceIdentifier)(i,n,yp),new Error(s)}}function gx(t,e,r,i,n,s){var o,a;if(n===null){o=px(t,e,i,null,s),a=new zb.Request(r,i,null,o,s);var u=new MV.Plan(i,a);i.addPlan(u)}else o=px(t,e,i,n,s),a=n.addChildRequest(s.serviceIdentifier,o,s);o.forEach(function(c){var l=null;if(s.isArray())l=a.addChildRequest(c.serviceIdentifier,c,s);else{if(c.cache)return;l=a}if(c.type===dx.BindingTypeEnum.Instance&&c.implementationType!==null){var p=(0,Vb.getDependencies)(t,c.implementationType);if(!i.container.options.skipBaseClassChecks){var f=(0,Vb.getBaseClassDependencyCount)(t,c.implementationType);if(p.length<f){var H=Gb.ARGUMENTS_LENGTH_MISMATCH((0,Vb.getFunctionName)(c.implementationType));throw new Error(H)}}p.forEach(function(m){gx(t,!1,m.serviceIdentifier,i,l,m)})}})}function yp(t,e){var r=[],i=Hx(t);return i.hasKey(e)?r=i.get(e):t.parent!==null&&(r=yp(t.parent,e)),r}function OV(t,e,r,i,n,s,o,a){a===void 0&&(a=!1);var u=new hx.Context(e),c=kV(r,i,n,"",s,o);try{return gx(t,a,n,u,null,c),u}catch(l){throw(0,$V.isStackOverflowExeption)(l)&&(0,Nu.circularDependencyToException)(u.plan.rootRequest),l}}Mr.plan=OV;function NV(t,e,r,i){var n=new mx.Target(dx.TargetTypeEnum.Variable,"",e,new Kb.Metadata(r,i)),s=new hx.Context(t),o=new zb.Request(e,s,null,[],n);return o}Mr.createMockRequest=NV});var bp=v(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.isPromiseOrContainsPromise=Bu.isPromise=void 0;function Jb(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}Bu.isPromise=Jb;function BV(t){return Jb(t)?!0:Array.isArray(t)&&t.some(Jb)}Bu.isPromiseOrContainsPromise=BV});var yx=v(mn=>{"use strict";var FV=mn&&mn.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(p){o(p)}}function u(l){try{c(i.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})},UV=mn&&mn.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(mn,"__esModule",{value:!0});mn.saveToScope=mn.tryGetFromScope=void 0;var gh=pe(),jV=bp(),qV=function(t,e){return e.scope===gh.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===gh.BindingScopeEnum.Request&&t.has(e.id)?t.get(e.id):null};mn.tryGetFromScope=qV;var WV=function(t,e,r){e.scope===gh.BindingScopeEnum.Singleton&&GV(e,r),e.scope===gh.BindingScopeEnum.Request&&VV(t,e,r)};mn.saveToScope=WV;var VV=function(t,e,r){t.has(e.id)||t.set(e.id,r)},GV=function(t,e){t.cache=e,t.activated=!0,(0,jV.isPromise)(e)&&KV(t,e)},KV=function(t,e){return FV(void 0,void 0,void 0,function(){var r,i;return UV(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e];case 1:return r=n.sent(),t.cache=r,[3,3];case 2:throw i=n.sent(),t.cache=null,t.activated=!1,i;case 3:return[2]}})})}});var bx=v(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.FactoryType=void 0;var zV;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(zV=vp.FactoryType||(vp.FactoryType={}))});var Qb=v(kr=>{"use strict";var XV=kr&&kr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),JV=kr&&kr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YV=kr&&kr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&XV(e,t,r);return JV(e,t),e};Object.defineProperty(kr,"__esModule",{value:!0});kr.getFactoryDetails=kr.ensureFullyBound=kr.multiBindToService=void 0;var QV=pe(),ZV=YV(cr()),Hn=Ui(),Yb=bx(),e4=function(t){return function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.forEach(function(n){return t.bind(n).toService(e)})}}};kr.multiBindToService=e4;var t4=function(t){var e=null;switch(t.type){case Hn.BindingTypeEnum.ConstantValue:case Hn.BindingTypeEnum.Function:e=t.cache;break;case Hn.BindingTypeEnum.Constructor:case Hn.BindingTypeEnum.Instance:e=t.implementationType;break;case Hn.BindingTypeEnum.DynamicValue:e=t.dynamicValue;break;case Hn.BindingTypeEnum.Provider:e=t.provider;break;case Hn.BindingTypeEnum.Factory:e=t.factory;break}if(e===null){var r=(0,QV.getServiceIdentifierAsString)(t.serviceIdentifier);throw new Error(ZV.INVALID_BINDING_TYPE+" "+r)}};kr.ensureFullyBound=t4;var r4=function(t){switch(t.type){case Hn.BindingTypeEnum.Factory:return{factory:t.factory,factoryType:Yb.FactoryType.Factory};case Hn.BindingTypeEnum.Provider:return{factory:t.provider,factoryType:Yb.FactoryType.Provider};case Hn.BindingTypeEnum.DynamicValue:return{factory:t.dynamicValue,factoryType:Yb.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};kr.getFactoryDetails=r4});var Sx=v(Gt=>{"use strict";var Fu=Gt&&Gt.__assign||function(){return Fu=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Fu.apply(this,arguments)},i4=Gt&&Gt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),n4=Gt&&Gt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s4=Gt&&Gt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i4(e,t,r);return n4(e,t),e},wx=Gt&&Gt.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(p){o(p)}}function u(l){try{c(i.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})},Ix=Gt&&Gt.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},o4=Gt&&Gt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.resolveInstance=void 0;var Zb=cr(),tv=Ui(),ev=s4(Ct()),rv=bp();function a4(t,e){return t.reduce(function(r,i){var n=e(i),s=i.target.type;return s===tv.TargetTypeEnum.ConstructorArgument?r.constructorInjections.push(n):(r.propertyRequests.push(i),r.propertyInjections.push(n)),r.isAsync||(r.isAsync=(0,rv.isPromiseOrContainsPromise)(n)),r},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function u4(t,e,r){var i;if(e.length>0){var n=a4(e,r),s=Fu(Fu({},n),{constr:t});n.isAsync?i=c4(s):i=Ax(s)}else i=new t;return i}function Ax(t){var e,r=new((e=t.constr).bind.apply(e,o4([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(i,n){var s=i.target.identifier,o=t.propertyInjections[n];r[s]=o}),r}function c4(t){return wx(this,void 0,void 0,function(){var e,r;return Ix(this,function(i){switch(i.label){case 0:return[4,vx(t.constructorInjections)];case 1:return e=i.sent(),[4,vx(t.propertyInjections)];case 2:return r=i.sent(),[2,Ax(Fu(Fu({},t),{constructorInjections:e,propertyInjections:r}))]}})})}function vx(t){return wx(this,void 0,void 0,function(){var e,r,i,n;return Ix(this,function(s){for(e=[],r=0,i=t;r<i.length;r++)n=i[r],Array.isArray(n)?e.push(Promise.all(n)):e.push(n);return[2,Promise.all(e)]})})}function _x(t,e){var r=l4(t,e);return(0,rv.isPromise)(r)?r.then(function(){return e}):e}function l4(t,e){var r,i;if(Reflect.hasMetadata(ev.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(ev.POST_CONSTRUCT,t);try{return(i=(r=e)[n.value])===null||i===void 0?void 0:i.call(r)}catch(s){throw new Error((0,Zb.POST_CONSTRUCT_ERROR)(t.name,s.message))}}}function p4(t,e){t.scope!==tv.BindingScopeEnum.Singleton&&f4(t,e)}function f4(t,e){var r="Class cannot be instantiated in "+(t.scope===tv.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error((0,Zb.ON_DEACTIVATION_ERROR)(e.name,r));if(Reflect.hasMetadata(ev.PRE_DESTROY,e))throw new Error((0,Zb.PRE_DESTROY_ERROR)(e.name,r))}function d4(t,e,r,i){p4(t,e);var n=u4(e,r,i);return(0,rv.isPromise)(n)?n.then(function(s){return _x(e,s)}):_x(e,n)}Gt.resolveInstance=d4});var Px=v(Rr=>{"use strict";var h4=Rr&&Rr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),m4=Rr&&Rr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H4=Rr&&Rr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&h4(e,t,r);return m4(e,t),e},g4=Rr&&Rr.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(p){o(p)}}function u(l){try{c(i.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})},y4=Rr&&Rr.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.resolve=void 0;var b4=H4(cr()),yh=Ui(),v4=Xb(),Ex=yx(),iv=bp(),Cx=Qb(),_4=Fb(),w4=Sx(),nv=function(t){return function(e){e.parentContext.setCurrentRequest(e);var r=e.bindings,i=e.childRequests,n=e.target&&e.target.isArray(),s=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(n&&s)return i.map(function(a){var u=nv(t);return u(a)});if(e.target.isOptional()&&r.length===0)return;var o=r[0];return E4(t,e,o)}},I4=function(t,e){var r=(0,Cx.getFactoryDetails)(t);return(0,_4.tryAndThrowErrorIfStackOverflow)(function(){return r.factory.bind(t)(e)},function(){return new Error(b4.CIRCULAR_DEPENDENCY_IN_FACTORY(r.factoryType,e.currentRequest.serviceIdentifier.toString()))})},A4=function(t,e,r){var i,n=e.childRequests;switch((0,Cx.ensureFullyBound)(r),r.type){case yh.BindingTypeEnum.ConstantValue:case yh.BindingTypeEnum.Function:i=r.cache;break;case yh.BindingTypeEnum.Constructor:i=r.implementationType;break;case yh.BindingTypeEnum.Instance:i=(0,w4.resolveInstance)(r,r.implementationType,n,nv(t));break;default:i=I4(r,e.parentContext)}return i},S4=function(t,e,r){var i=(0,Ex.tryGetFromScope)(t,e);return i!==null||(i=r(),(0,Ex.saveToScope)(t,e,i)),i},E4=function(t,e,r){return S4(t,r,function(){var i=A4(t,e,r);return(0,iv.isPromise)(i)?i=i.then(function(n){return xx(e,r,n)}):i=xx(e,r,i),i})};function xx(t,e,r){var i=x4(t.parentContext,e,r),n=P4(t.parentContext.container),s,o=n.next();do{s=o.value;var a=t.parentContext,u=t.serviceIdentifier,c=L4(s,u);(0,iv.isPromise)(i)?i=Lx(c,a,i):i=C4(c,a,i),o=n.next()}while(o.done!==!0&&!(0,v4.getBindingDictionary)(s).hasKey(t.serviceIdentifier));return i}var x4=function(t,e,r){var i;return typeof e.onActivation=="function"?i=e.onActivation(t,r):i=r,i},C4=function(t,e,r){for(var i=t.next();!i.done;){if(r=i.value(e,r),(0,iv.isPromise)(r))return Lx(t,e,r);i=t.next()}return r},Lx=function(t,e,r){return g4(void 0,void 0,void 0,function(){var i,n;return y4(this,function(s){switch(s.label){case 0:return[4,r];case 1:i=s.sent(),n=t.next(),s.label=2;case 2:return n.done?[3,4]:[4,n.value(e,i)];case 3:return i=s.sent(),n=t.next(),[3,2];case 4:return[2,i]}})})},L4=function(t,e){var r=t._activations;return r.hasKey(e)?r.get(e).values():[].values()},P4=function(t){for(var e=[t],r=t.parent;r!==null;)e.push(r),r=r.parent;var i=function(){var s=e.pop();return s!==void 0?{done:!1,value:s}:{done:!0,value:void 0}},n={next:i};return n};function D4(t){var e=nv(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}Rr.resolve=D4});var sv=v(pr=>{"use strict";var T4=pr&&pr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),$4=pr&&pr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),M4=pr&&pr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&T4(e,t,r);return $4(e,t),e};Object.defineProperty(pr,"__esModule",{value:!0});pr.typeConstraint=pr.namedConstraint=pr.taggedConstraint=pr.traverseAncerstors=void 0;var k4=M4(Ct()),R4=ji(),Dx=function(t,e){var r=t.parentRequest;return r!==null?e(r)?!0:Dx(r,e):!1};pr.traverseAncerstors=Dx;var Tx=function(t){return function(e){var r=function(i){return i!==null&&i.target!==null&&i.target.matchesTag(t)(e)};return r.metaData=new R4.Metadata(t,e),r}};pr.taggedConstraint=Tx;var O4=Tx(k4.NAMED_TAG);pr.namedConstraint=O4;var N4=function(t){return function(e){var r=null;if(e!==null)if(r=e.bindings[0],typeof t=="string"){var i=r.serviceIdentifier;return i===t}else{var n=e.bindings[0].implementationType;return t===n}return!1}};pr.typeConstraint=N4});var vh=v(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.BindingWhenSyntax=void 0;var vr=_h(),Rt=sv(),B4=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new vr.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,Rt.namedConstraint)(e),new vr.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var r=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return r},new vr.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(e,r){return this._binding.constraint=(0,Rt.taggedConstraint)(e)(r),new vr.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Rt.typeConstraint)(e)(r.parentRequest)},new vr.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Rt.namedConstraint)(e)(r.parentRequest)},new vr.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,r){return this._binding.constraint=function(i){return i!==null&&(0,Rt.taggedConstraint)(e)(r)(i.parentRequest)},new vr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Rt.traverseAncerstors)(r,(0,Rt.typeConstraint)(e))},new vr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Rt.traverseAncerstors)(r,(0,Rt.typeConstraint)(e))},new vr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Rt.traverseAncerstors)(r,(0,Rt.namedConstraint)(e))},new vr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Rt.traverseAncerstors)(r,(0,Rt.namedConstraint)(e))},new vr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._binding.constraint=function(i){return i!==null&&(0,Rt.traverseAncerstors)(i,(0,Rt.taggedConstraint)(e)(r))},new vr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,r){return this._binding.constraint=function(i){return i!==null&&!(0,Rt.traverseAncerstors)(i,(0,Rt.taggedConstraint)(e)(r))},new vr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Rt.traverseAncerstors)(r,e)},new vr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Rt.traverseAncerstors)(r,e)},new vr.BindingOnSyntax(this._binding)},t}();bh.BindingWhenSyntax=B4});var _h=v(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.BindingOnSyntax=void 0;var $x=vh(),F4=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new $x.BindingWhenSyntax(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new $x.BindingWhenSyntax(this._binding)},t}();wh.BindingOnSyntax=F4});var ov=v(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});Ih.BindingWhenOnSyntax=void 0;var U4=_h(),j4=vh(),q4=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new j4.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new U4.BindingOnSyntax(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();Ih.BindingWhenOnSyntax=q4});var Mx=v(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.BindingInSyntax=void 0;var av=Ui(),uv=ov(),W4=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=av.BindingScopeEnum.Request,new uv.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=av.BindingScopeEnum.Singleton,new uv.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=av.BindingScopeEnum.Transient,new uv.BindingWhenOnSyntax(this._binding)},t}();Ah.BindingInSyntax=W4});var kx=v(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.BindingInWhenOnSyntax=void 0;var V4=Mx(),G4=_h(),K4=vh(),z4=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new K4.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new G4.BindingOnSyntax(this._binding),this._bindingInSyntax=new V4.BindingInSyntax(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();Sh.BindingInWhenOnSyntax=z4});var Nx=v(gn=>{"use strict";var X4=gn&&gn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),J4=gn&&gn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y4=gn&&gn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X4(e,t,r);return J4(e,t),e};Object.defineProperty(gn,"__esModule",{value:!0});gn.BindingToSyntax=void 0;var Rx=Y4(cr()),_r=Ui(),Ox=kx(),Uu=ov(),Q4=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=_r.BindingTypeEnum.Instance,this._binding.implementationType=e,new Ox.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+Rx.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=_r.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=_r.BindingScopeEnum.Singleton,new Uu.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=_r.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Ox.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=_r.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=_r.BindingScopeEnum.Singleton,new Uu.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=_r.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=_r.BindingScopeEnum.Singleton,new Uu.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(Rx.INVALID_FUNCTION_BINDING);var r=this.toConstantValue(e);return this._binding.type=_r.BindingTypeEnum.Function,this._binding.scope=_r.BindingScopeEnum.Singleton,r},t.prototype.toAutoFactory=function(e){return this._binding.type=_r.BindingTypeEnum.Factory,this._binding.factory=function(r){var i=function(){return r.container.get(e)};return i},this._binding.scope=_r.BindingScopeEnum.Singleton,new Uu.BindingWhenOnSyntax(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=_r.BindingTypeEnum.Factory,this._binding.factory=function(r){return function(i){return r.container.getNamed(e,i)}},new Uu.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=_r.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=_r.BindingScopeEnum.Singleton,new Uu.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(r){return r.container.get(e)})},t}();gn.BindingToSyntax=Q4});var Bx=v(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.ContainerSnapshot=void 0;var Z4=function(){function t(){}return t.of=function(e,r,i,n,s){var o=new t;return o.bindings=e,o.middleware=r,o.deactivations=n,o.activations=i,o.moduleActivationStore=s,o},t}();Eh.ContainerSnapshot=Z4});var Fx=v(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.isClonable=void 0;function e5(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}xh.isClonable=e5});var cv=v(yn=>{"use strict";var t5=yn&&yn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),r5=yn&&yn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i5=yn&&yn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&t5(e,t,r);return r5(e,t),e};Object.defineProperty(yn,"__esModule",{value:!0});yn.Lookup=void 0;var ba=i5(cr()),n5=Fx(),s5=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,r){if(e==null)throw new Error(ba.NULL_ARGUMENT);if(r==null)throw new Error(ba.NULL_ARGUMENT);var i=this._map.get(e);i!==void 0?i.push(r):this._map.set(e,[r])},t.prototype.get=function(e){if(e==null)throw new Error(ba.NULL_ARGUMENT);var r=this._map.get(e);if(r!==void 0)return r;throw new Error(ba.KEY_NOT_FOUND)},t.prototype.remove=function(e){if(e==null)throw new Error(ba.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(ba.KEY_NOT_FOUND)},t.prototype.removeIntersection=function(e){var r=this;this.traverse(function(i,n){var s=e.hasKey(i)?e.get(i):void 0;if(s!==void 0){var o=n.filter(function(a){return!s.some(function(u){return a===u})});r._setValue(i,o)}})},t.prototype.removeByCondition=function(e){var r=this,i=[];return this._map.forEach(function(n,s){for(var o=[],a=0,u=n;a<u.length;a++){var c=u[a],l=e(c);l?i.push(c):o.push(c)}r._setValue(s,o)}),i},t.prototype.hasKey=function(e){if(e==null)throw new Error(ba.NULL_ARGUMENT);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,i){r.forEach(function(n){return e.add(i,(0,n5.isClonable)(n)?n.clone():n)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(r,i){e(i,r)})},t.prototype._setValue=function(e,r){r.length>0?this._map.set(e,r):this._map.delete(e)},t}();yn.Lookup=s5});var jx=v(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.ModuleActivationStore=void 0;var Ux=cv(),o5=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var r=this._map.get(e);return this._map.delete(e),r}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,r,i){this._getModuleActivationHandlers(e).onDeactivations.add(r,i)},t.prototype.addActivation=function(e,r,i){this._getModuleActivationHandlers(e).onActivations.add(r,i)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,i){e._map.set(i,{onActivations:r.onActivations.clone(),onDeactivations:r.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var r=this._map.get(e);return r===void 0&&(r=this._getEmptyHandlersStore(),this._map.set(e,r)),r},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new Ux.Lookup,onDeactivations:new Ux.Lookup};return e},t}();Ch.ModuleActivationStore=o5});var Wx=v(Kt=>{"use strict";var Ph=Kt&&Kt.__assign||function(){return Ph=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Ph.apply(this,arguments)},a5=Kt&&Kt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),u5=Kt&&Kt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qx=Kt&&Kt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&a5(e,t,r);return u5(e,t),e},di=Kt&&Kt.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(p){o(p)}}function u(l){try{c(i.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})},hi=Kt&&Kt.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},c5=Kt&&Kt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.Container=void 0;var l5=WE(),qi=qx(cr()),ju=Ui(),va=qx(Ct()),p5=Bb(),Lh=Xb(),f5=Px(),d5=Nx(),_a=bp(),h5=Js(),m5=Ou(),H5=Bx(),_p=cv(),g5=jx(),y5=function(){function t(e){var r=e||{};if(typeof r!="object")throw new Error(""+qi.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(r.defaultScope===void 0)r.defaultScope=ju.BindingScopeEnum.Transient;else if(r.defaultScope!==ju.BindingScopeEnum.Singleton&&r.defaultScope!==ju.BindingScopeEnum.Transient&&r.defaultScope!==ju.BindingScopeEnum.Request)throw new Error(""+qi.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(r.autoBindInjectable===void 0)r.autoBindInjectable=!1;else if(typeof r.autoBindInjectable!="boolean")throw new Error(""+qi.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(r.skipBaseClassChecks===void 0)r.skipBaseClassChecks=!1;else if(typeof r.skipBaseClassChecks!="boolean")throw new Error(""+qi.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:r.autoBindInjectable,defaultScope:r.defaultScope,skipBaseClassChecks:r.skipBaseClassChecks},this.id=(0,h5.id)(),this._bindingDictionary=new _p.Lookup,this._snapshots=[],this._middleware=null,this._activations=new _p.Lookup,this._deactivations=new _p.Lookup,this.parent=null,this._metadataReader=new p5.MetadataReader,this._moduleActivationStore=new g5.ModuleActivationStore}return t.merge=function(e,r){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=new t,o=c5([e,r],i,!0).map(function(c){return(0,Lh.getBindingDictionary)(c)}),a=(0,Lh.getBindingDictionary)(s);function u(c,l){c.traverse(function(p,f){f.forEach(function(H){l.add(H.serviceIdentifier,H.clone())})})}return o.forEach(function(c){u(c,a)}),s},t.prototype.load=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=this._getContainerModuleHelpersFactory(),n=0,s=e;n<s.length;n++){var o=s[n],a=i(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return di(this,void 0,void 0,function(){var i,n,s,o,a;return hi(this,function(u){switch(u.label){case 0:i=this._getContainerModuleHelpersFactory(),n=0,s=e,u.label=1;case 1:return n<s.length?(o=s[n],a=i(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:u.sent(),u.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r.forEach(function(n){var s=e._removeModuleBindings(n.id);e._deactivateSingletons(s),e._removeModuleHandlers(n.id)})},t.prototype.unloadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return di(this,void 0,void 0,function(){var i,n,s,o;return hi(this,function(a){switch(a.label){case 0:i=0,n=e,a.label=1;case 1:return i<n.length?(s=n[i],o=this._removeModuleBindings(s.id),[4,this._deactivateSingletonsAsync(o)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(s.id),a.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var r=this.options.defaultScope||ju.BindingScopeEnum.Transient,i=new l5.Binding(e,r);return this._bindingDictionary.add(e,i),new d5.BindingToSyntax(i)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return di(this,void 0,void 0,function(){return hi(this,function(r){switch(r.label){case 0:return[4,this.unbindAsync(e)];case 1:return r.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var r=this._bindingDictionary.get(e);this._deactivateSingletons(r)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return di(this,void 0,void 0,function(){var r;return hi(this,function(i){switch(i.label){case 0:return this._bindingDictionary.hasKey(e)?(r=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(r)]):[3,2];case 1:i.sent(),i.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(r,i){e._deactivateSingletons(i)}),this._bindingDictionary=new _p.Lookup},t.prototype.unbindAllAsync=function(){return di(this,void 0,void 0,function(){var e,r=this;return hi(this,function(i){switch(i.label){case 0:return e=[],this._bindingDictionary.traverse(function(n,s){e.push(r._deactivateSingletonsAsync(s))}),[4,Promise.all(e)];case 1:return i.sent(),this._bindingDictionary=new _p.Lookup,[2]}})})},t.prototype.onActivation=function(e,r){this._activations.add(e,r)},t.prototype.onDeactivation=function(e,r){this._deactivations.add(e,r)},t.prototype.isBound=function(e){var r=this._bindingDictionary.hasKey(e);return!r&&this.parent&&(r=this.parent.isBound(e)),r},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,r){return this.isBoundTagged(e,va.NAMED_TAG,r)},t.prototype.isBoundTagged=function(e,r,i){var n=!1;if(this._bindingDictionary.hasKey(e)){var s=this._bindingDictionary.get(e),o=(0,Lh.createMockRequest)(this,e,r,i);n=s.some(function(a){return a.constraint(o)})}return!n&&this.parent&&(n=this.parent.isBoundTagged(e,r,i)),n},t.prototype.snapshot=function(){this._snapshots.push(H5.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(qi.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var r=new t(e||this.options);return r.parent=this,r},t.prototype.applyMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(n,s){return s(n)},i)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var r=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(r)},t.prototype.getAsync=function(e){return di(this,void 0,void 0,function(){var r;return hi(this,function(i){return r=this._getNotAllArgs(e,!1),[2,this._get(r)]})})},t.prototype.getTagged=function(e,r,i){var n=this._getNotAllArgs(e,!1,r,i);return this._getButThrowIfAsync(n)},t.prototype.getTaggedAsync=function(e,r,i){return di(this,void 0,void 0,function(){var n;return hi(this,function(s){return n=this._getNotAllArgs(e,!1,r,i),[2,this._get(n)]})})},t.prototype.getNamed=function(e,r){return this.getTagged(e,va.NAMED_TAG,r)},t.prototype.getNamedAsync=function(e,r){return this.getTaggedAsync(e,va.NAMED_TAG,r)},t.prototype.getAll=function(e){var r=this._getAllArgs(e);return this._getButThrowIfAsync(r)},t.prototype.getAllAsync=function(e){var r=this._getAllArgs(e);return this._getAll(r)},t.prototype.getAllTagged=function(e,r,i){var n=this._getNotAllArgs(e,!0,r,i);return this._getButThrowIfAsync(n)},t.prototype.getAllTaggedAsync=function(e,r,i){var n=this._getNotAllArgs(e,!0,r,i);return this._getAll(n)},t.prototype.getAllNamed=function(e,r){return this.getAllTagged(e,va.NAMED_TAG,r)},t.prototype.getAllNamedAsync=function(e,r){return this.getAllTaggedAsync(e,va.NAMED_TAG,r)},t.prototype.resolve=function(e){var r=this.isBound(e);r||this.bind(e).toSelf();var i=this.get(e);return r||this.unbind(e),i},t.prototype._preDestroy=function(e,r){if(Reflect.hasMetadata(va.PRE_DESTROY,e)){var i=Reflect.getMetadata(va.PRE_DESTROY,e);return r[i.value]()}},t.prototype._removeModuleHandlers=function(e){var r=this._moduleActivationStore.remove(e);this._activations.removeIntersection(r.onActivations),this._deactivations.removeIntersection(r.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(r){return r.moduleId===e})},t.prototype._deactivate=function(e,r){var i=this,n=Object.getPrototypeOf(r).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var s=this._deactivateContainer(r,this._deactivations.get(e.serviceIdentifier).values());if((0,_a.isPromise)(s))return this._handleDeactivationError(s.then(function(){return i._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,r,n)}),n)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,r,n);if((0,_a.isPromise)(o))return this._handleDeactivationError(o,n)}catch(a){throw new Error(qi.ON_DEACTIVATION_ERROR(n.name,a.message))}},t.prototype._handleDeactivationError=function(e,r){return di(this,void 0,void 0,function(){var i;return hi(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e];case 1:return n.sent(),[3,3];case 2:throw i=n.sent(),new Error(qi.ON_DEACTIVATION_ERROR(r.name,i.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,r){for(var i=this,n=r.next();n.value;){var s=n.value(e);if((0,_a.isPromise)(s))return s.then(function(){return i._deactivateContainerAsync(e,r)});n=r.next()}},t.prototype._deactivateContainerAsync=function(e,r){return di(this,void 0,void 0,function(){var i;return hi(this,function(n){switch(n.label){case 0:i=r.next(),n.label=1;case 1:return i.value?[4,i.value(e)]:[3,3];case 2:return n.sent(),i=r.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,r=function(l,p){l._binding.moduleId=p},i=function(l){return function(p){var f=e.bind(p);return r(f,l),f}},n=function(){return function(l){return e.unbind(l)}},s=function(){return function(l){return e.unbindAsync(l)}},o=function(){return function(l){return e.isBound(l)}},a=function(l){return function(p){var f=e.rebind(p);return r(f,l),f}},u=function(l){return function(p,f){e._moduleActivationStore.addActivation(l,p,f),e.onActivation(p,f)}},c=function(l){return function(p,f){e._moduleActivationStore.addDeactivation(l,p,f),e.onDeactivation(p,f)}};return function(l){return{bindFunction:i(l),isboundFunction:o(),onActivationFunction:u(l),onDeactivationFunction:c(l),rebindFunction:a(l),unbindFunction:n(),unbindAsyncFunction:s()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var r=Ph(Ph({},e),{contextInterceptor:function(n){return n},targetType:ju.TargetTypeEnum.Variable});if(this._middleware){var i=this._middleware(r);if(i==null)throw new Error(qi.INVALID_MIDDLEWARE_RETURN);return i}return this._planAndResolve()(r)},t.prototype._getButThrowIfAsync=function(e){var r=this._get(e);if((0,_a.isPromiseOrContainsPromise)(r))throw new Error(qi.LAZY_IN_SYNC(e.serviceIdentifier));return r},t.prototype._getAllArgs=function(e){var r={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return r},t.prototype._getNotAllArgs=function(e,r,i,n){var s={avoidConstraints:!1,isMultiInject:r,serviceIdentifier:e,key:i,value:n};return s},t.prototype._planAndResolve=function(){var e=this;return function(r){var i=(0,Lh.plan)(e._metadataReader,e,r.isMultiInject,r.targetType,r.serviceIdentifier,r.key,r.value,r.avoidConstraints);i=r.contextInterceptor(i);var n=(0,f5.resolve)(i);return n}},t.prototype._deactivateIfSingleton=function(e){var r=this;if(e.activated)return(0,_a.isPromise)(e.cache)?e.cache.then(function(i){return r._deactivate(e,i)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var r=0,i=e;r<i.length;r++){var n=i[r],s=this._deactivateIfSingleton(n);if((0,_a.isPromise)(s))throw new Error(qi.ASYNC_UNBIND_REQUIRED)}},t.prototype._deactivateSingletonsAsync=function(e){return di(this,void 0,void 0,function(){var r=this;return hi(this,function(i){switch(i.label){case 0:return[4,Promise.all(e.map(function(n){return r._deactivateIfSingleton(n)}))];case 1:return i.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,r,i){return this.parent?this._deactivate.bind(this.parent)(e,r):this._bindingDeactivationAndPreDestroy(e,r,i)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,r,i){return di(this,void 0,void 0,function(){return hi(this,function(n){switch(n.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,r)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,r,i)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(qi.CANNOT_UNBIND+" "+(0,m5.getServiceIdentifierAsString)(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,r,i){var n=this;if(typeof e.onDeactivation=="function"){var s=e.onDeactivation(r);if((0,_a.isPromise)(s))return s.then(function(){return n._preDestroy(i,r)})}return this._preDestroy(i,r)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,r,i){return di(this,void 0,void 0,function(){return hi(this,function(n){switch(n.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(r)];case 1:n.sent(),n.label=2;case 2:return[4,this._preDestroy(i,r)];case 3:return n.sent(),[2]}})})},t}();Kt.Container=y5});var Gx=v(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.AsyncContainerModule=qu.ContainerModule=void 0;var Vx=Js(),b5=function(){function t(e){this.id=(0,Vx.id)(),this.registry=e}return t}();qu.ContainerModule=b5;var v5=function(){function t(e){this.id=(0,Vx.id)(),this.registry=e}return t}();qu.AsyncContainerModule=v5});var Kx=v(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.getFirstArrayDuplicate=void 0;function _5(t){for(var e=new Set,r=0,i=t;r<i.length;r++){var n=i[r];if(e.has(n))return n;e.add(n)}}Dh.getFirstArrayDuplicate=_5});var fs=v(fr=>{"use strict";var w5=fr&&fr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),I5=fr&&fr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xx=fr&&fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&w5(e,t,r);return I5(e,t),e};Object.defineProperty(fr,"__esModule",{value:!0});fr.createTaggedDecorator=fr.tagProperty=fr.tagParameter=fr.decorate=void 0;var Th=Xx(cr()),Jx=Xx(Ct()),A5=Kx();function S5(t){return t.prototype!==void 0}function E5(t){if(t!==void 0)throw new Error(Th.INVALID_DECORATOR_OPERATION)}function Yx(t,e,r,i){E5(e),Zx(Jx.TAGGED,t,r.toString(),i)}fr.tagParameter=Yx;function Qx(t,e,r){if(S5(t))throw new Error(Th.INVALID_DECORATOR_OPERATION);Zx(Jx.TAGGED_PROP,t.constructor,e,r)}fr.tagProperty=Qx;function x5(t){var e=[];if(Array.isArray(t)){e=t;var r=(0,A5.getFirstArrayDuplicate)(e.map(function(i){return i.key}));if(r!==void 0)throw new Error(Th.DUPLICATED_METADATA+" "+r.toString())}else e=[t];return e}function Zx(t,e,r,i){var n=x5(i),s={};Reflect.hasOwnMetadata(t,e)&&(s=Reflect.getMetadata(t,e));var o=s[r];if(o===void 0)o=[];else for(var a=function(p){if(n.some(function(f){return f.key===p.key}))throw new Error(Th.DUPLICATED_METADATA+" "+p.key.toString())},u=0,c=o;u<c.length;u++){var l=c[u];a(l)}o.push.apply(o,n),s[r]=o,Reflect.defineMetadata(t,s,e)}function C5(t){return function(e,r,i){typeof i=="number"?Yx(e,r,i,t):Qx(e,r,t)}}fr.createTaggedDecorator=C5;function zx(t,e){Reflect.decorate(t,e)}function L5(t,e){return function(r,i){e(r,i,t)}}function P5(t,e,r){typeof r=="number"?zx([L5(r,t)],e):typeof r=="string"?Reflect.decorate([t],e,r):zx([t],e)}fr.decorate=P5});var tC=v(bn=>{"use strict";var D5=bn&&bn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),T5=bn&&bn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eC=bn&&bn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&D5(e,t,r);return T5(e,t),e};Object.defineProperty(bn,"__esModule",{value:!0});bn.injectable=void 0;var $5=eC(cr()),lv=eC(Ct());function M5(){return function(t){if(Reflect.hasOwnMetadata(lv.PARAM_TYPES,t))throw new Error($5.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(lv.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(lv.PARAM_TYPES,e,t),t}}bn.injectable=M5});var rC=v($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.tagged=void 0;var k5=ji(),R5=fs();function O5(t,e){return(0,R5.createTaggedDecorator)(new k5.Metadata(t,e))}$h.tagged=O5});var iC=v(vn=>{"use strict";var N5=vn&&vn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),B5=vn&&vn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),F5=vn&&vn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N5(e,t,r);return B5(e,t),e};Object.defineProperty(vn,"__esModule",{value:!0});vn.named=void 0;var U5=F5(Ct()),j5=ji(),q5=fs();function W5(t){return(0,q5.createTaggedDecorator)(new j5.Metadata(U5.NAMED_TAG,t))}vn.named=W5});var pv=v(Mh=>{"use strict";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.injectBase=void 0;var V5=cr(),G5=ji(),K5=fs();function z5(t){return function(e){return function(r,i,n){if(e===void 0){var s=typeof r=="function"?r.name:r.constructor.name;throw new Error((0,V5.UNDEFINED_INJECT_ANNOTATION)(s))}return(0,K5.createTaggedDecorator)(new G5.Metadata(t,e))(r,i,n)}}}Mh.injectBase=z5});var nC=v(_n=>{"use strict";var X5=_n&&_n.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),J5=_n&&_n.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y5=_n&&_n.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X5(e,t,r);return J5(e,t),e};Object.defineProperty(_n,"__esModule",{value:!0});_n.inject=void 0;var Q5=Y5(Ct()),Z5=pv(),eG=(0,Z5.injectBase)(Q5.INJECT_TAG);_n.inject=eG});var sC=v(wn=>{"use strict";var tG=wn&&wn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),rG=wn&&wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iG=wn&&wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tG(e,t,r);return rG(e,t),e};Object.defineProperty(wn,"__esModule",{value:!0});wn.optional=void 0;var nG=iG(Ct()),sG=ji(),oG=fs();function aG(){return(0,oG.createTaggedDecorator)(new sG.Metadata(nG.OPTIONAL_TAG,!0))}wn.optional=aG});var oC=v(In=>{"use strict";var uG=In&&In.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),cG=In&&In.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lG=In&&In.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uG(e,t,r);return cG(e,t),e};Object.defineProperty(In,"__esModule",{value:!0});In.unmanaged=void 0;var pG=lG(Ct()),fG=ji(),dG=fs();function hG(){return function(t,e,r){var i=new fG.Metadata(pG.UNMANAGED_TAG,!0);(0,dG.tagParameter)(t,e,r,i)}}In.unmanaged=hG});var aC=v(An=>{"use strict";var mG=An&&An.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),HG=An&&An.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gG=An&&An.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mG(e,t,r);return HG(e,t),e};Object.defineProperty(An,"__esModule",{value:!0});An.multiInject=void 0;var yG=gG(Ct()),bG=pv(),vG=(0,bG.injectBase)(yG.MULTI_INJECT_TAG);An.multiInject=vG});var uC=v(Sn=>{"use strict";var _G=Sn&&Sn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),wG=Sn&&Sn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IG=Sn&&Sn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_G(e,t,r);return wG(e,t),e};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.targetName=void 0;var AG=IG(Ct()),SG=ji(),EG=fs();function xG(t){return function(e,r,i){var n=new SG.Metadata(AG.NAME_TAG,t);(0,EG.tagParameter)(e,r,i,n)}}Sn.targetName=xG});var fv=v(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.propertyEventDecorator=void 0;var CG=ji();function LG(t,e){return function(){return function(r,i){var n=new CG.Metadata(t,i);if(Reflect.hasOwnMetadata(t,r.constructor))throw new Error(e);Reflect.defineMetadata(t,n,r.constructor)}}}kh.propertyEventDecorator=LG});var lC=v(En=>{"use strict";var PG=En&&En.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),DG=En&&En.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cC=En&&En.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PG(e,t,r);return DG(e,t),e};Object.defineProperty(En,"__esModule",{value:!0});En.postConstruct=void 0;var TG=cC(cr()),$G=cC(Ct()),MG=fv(),kG=(0,MG.propertyEventDecorator)($G.POST_CONSTRUCT,TG.MULTIPLE_POST_CONSTRUCT_METHODS);En.postConstruct=kG});var fC=v(xn=>{"use strict";var RG=xn&&xn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),OG=xn&&xn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pC=xn&&xn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RG(e,t,r);return OG(e,t),e};Object.defineProperty(xn,"__esModule",{value:!0});xn.preDestroy=void 0;var NG=pC(cr()),BG=pC(Ct()),FG=fv(),UG=(0,FG.propertyEventDecorator)(BG.PRE_DESTROY,NG.MULTIPLE_PRE_DESTROY_METHODS);xn.preDestroy=UG});var dC=v(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.interfaces=void 0;var dv;(function(t){})(dv||(dv={}));Rh.interfaces=dv});var pe=v(ue=>{"use strict";var jG=ue&&ue.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),qG=ue&&ue.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),WG=ue&&ue.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jG(e,t,r);return qG(e,t),e};Object.defineProperty(ue,"__esModule",{value:!0});ue.multiBindToService=ue.getServiceIdentifierAsString=ue.typeConstraint=ue.namedConstraint=ue.taggedConstraint=ue.traverseAncerstors=ue.decorate=ue.interfaces=ue.id=ue.MetadataReader=ue.preDestroy=ue.postConstruct=ue.targetName=ue.multiInject=ue.unmanaged=ue.optional=ue.LazyServiceIdentifer=ue.inject=ue.named=ue.tagged=ue.injectable=ue.createTaggedDecorator=ue.ContainerModule=ue.AsyncContainerModule=ue.TargetTypeEnum=ue.BindingTypeEnum=ue.BindingScopeEnum=ue.Container=ue.METADATA_KEY=void 0;var VG=WG(Ct());ue.METADATA_KEY=VG;var GG=Wx();Object.defineProperty(ue,"Container",{enumerable:!0,get:function(){return GG.Container}});var hv=Ui();Object.defineProperty(ue,"BindingScopeEnum",{enumerable:!0,get:function(){return hv.BindingScopeEnum}});Object.defineProperty(ue,"BindingTypeEnum",{enumerable:!0,get:function(){return hv.BindingTypeEnum}});Object.defineProperty(ue,"TargetTypeEnum",{enumerable:!0,get:function(){return hv.TargetTypeEnum}});var hC=Gx();Object.defineProperty(ue,"AsyncContainerModule",{enumerable:!0,get:function(){return hC.AsyncContainerModule}});Object.defineProperty(ue,"ContainerModule",{enumerable:!0,get:function(){return hC.ContainerModule}});var KG=fs();Object.defineProperty(ue,"createTaggedDecorator",{enumerable:!0,get:function(){return KG.createTaggedDecorator}});var zG=tC();Object.defineProperty(ue,"injectable",{enumerable:!0,get:function(){return zG.injectable}});var XG=rC();Object.defineProperty(ue,"tagged",{enumerable:!0,get:function(){return XG.tagged}});var JG=iC();Object.defineProperty(ue,"named",{enumerable:!0,get:function(){return JG.named}});var YG=nC();Object.defineProperty(ue,"inject",{enumerable:!0,get:function(){return YG.inject}});var QG=Ub();Object.defineProperty(ue,"LazyServiceIdentifer",{enumerable:!0,get:function(){return QG.LazyServiceIdentifer}});var ZG=sC();Object.defineProperty(ue,"optional",{enumerable:!0,get:function(){return ZG.optional}});var e6=oC();Object.defineProperty(ue,"unmanaged",{enumerable:!0,get:function(){return e6.unmanaged}});var t6=aC();Object.defineProperty(ue,"multiInject",{enumerable:!0,get:function(){return t6.multiInject}});var r6=uC();Object.defineProperty(ue,"targetName",{enumerable:!0,get:function(){return r6.targetName}});var i6=lC();Object.defineProperty(ue,"postConstruct",{enumerable:!0,get:function(){return i6.postConstruct}});var n6=fC();Object.defineProperty(ue,"preDestroy",{enumerable:!0,get:function(){return n6.preDestroy}});var s6=Bb();Object.defineProperty(ue,"MetadataReader",{enumerable:!0,get:function(){return s6.MetadataReader}});var o6=Js();Object.defineProperty(ue,"id",{enumerable:!0,get:function(){return o6.id}});var a6=dC();Object.defineProperty(ue,"interfaces",{enumerable:!0,get:function(){return a6.interfaces}});var u6=fs();Object.defineProperty(ue,"decorate",{enumerable:!0,get:function(){return u6.decorate}});var Oh=sv();Object.defineProperty(ue,"traverseAncerstors",{enumerable:!0,get:function(){return Oh.traverseAncerstors}});Object.defineProperty(ue,"taggedConstraint",{enumerable:!0,get:function(){return Oh.taggedConstraint}});Object.defineProperty(ue,"namedConstraint",{enumerable:!0,get:function(){return Oh.namedConstraint}});Object.defineProperty(ue,"typeConstraint",{enumerable:!0,get:function(){return Oh.typeConstraint}});var c6=Ou();Object.defineProperty(ue,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return c6.getServiceIdentifierAsString}});var l6=Qb();Object.defineProperty(ue,"multiBindToService",{enumerable:!0,get:function(){return l6.multiBindToService}})});var HC=v(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});function p6(t){let e=[],r=new Array(4),i=[0,192,224,240],n=[127,63,63,63],s=[0,128,128,128];for(let o of t){let a=r,u=o.codePointAt(0),c=0-(-(u&4294967168)>>31)-(-(u&4294965248)>>31)-(-(u&4294901760)>>31),l=n[c],p=s[c];a[3]=p|u&l,a[2]=p|u>>>6&l,a[1]=p|u>>>12&l,a[0]=p|u>>>18&l;let f=3-c;a[f]|=i[c],Array.prototype.push.apply(e,a.slice(f))}return new Uint8Array(e)}Ys.toUtf8_1=p6;function f6(t){let e=[];for(let r of t){let i=r.codePointAt(0);i<128?e.push(i):i<2048?e.push(192|i>>6&31,128|i&63):i<65536?e.push(224|i>>12&15,128|i>>6&63,128|i&63):e.push(240|i>>18&7,128|i>>12&63,128|i>>6&63,128|i&63)}return new Uint8Array(e)}Ys.toUtf8_2=f6;function mC(t){let e=[];for(let r=0,i=t.length;r<i;++r){let n=t.charCodeAt(r);if(n<128)e.push(n);else if(n<2048)e.push(192|n>>6,128|n&63);else if(n<55296||n>=57344)e.push(224|n>>12,128|n>>6&63,128|n&63);else{let s=65536+((n&1023)<<10|t.charCodeAt(++r)&1023);e.push(240|s>>18&7,128|s>>12&63,128|s>>6&63,128|s&63)}}return new Uint8Array(e)}Ys.toUtf8_3=mC;Ys.toUtf8=mC;Ys.default=Ys.toUtf8});var bC=v(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});var d6=HC(),Wu=2654435761,Vu=2246822519,Nh=3266489917,gC=668265263,yC=374761393;function h6(t,e=0){t=typeof t=="string"?d6.default(t):t;let r=t,i=e+yC&4294967295,n=0;if(r.length>=16){let o=[e+Wu+Vu&4294967295,e+Vu&4294967295,e+0&4294967295,e-Wu&4294967295],a=t,u=a.length-16,c=0;for(n=0;(n&4294967280)<=u;n+=4){let l=n,p=a[l+0]+(a[l+1]<<8),f=a[l+2]+(a[l+3]<<8),H=p*Vu+(f*Vu<<16),m=o[c]+H&4294967295;m=m<<13|m>>>19;let y=m&65535,b=m>>>16;o[c]=y*Wu+(b*Wu<<16)&4294967295,c=c+1&3}i=(o[0]<<1|o[0]>>>31)+(o[1]<<7|o[1]>>>25)+(o[2]<<12|o[2]>>>20)+(o[3]<<18|o[3]>>>14)&4294967295}i=i+t.length&4294967295;let s=t.length-4;for(;n<=s;n+=4){let o=n,a=r[o+0]+(r[o+1]<<8),u=r[o+2]+(r[o+3]<<8),c=a*Nh+(u*Nh<<16);i=i+c&4294967295,i=i<<17|i>>>15,i=(i&65535)*gC+((i>>>16)*gC<<16)&4294967295}for(;n<r.length;++n){let o=r[n];i=i+o*yC,i=i<<11|i>>>21,i=(i&65535)*Wu+((i>>>16)*Wu<<16)&4294967295}return i=i^i>>>15,i=((i&65535)*Vu&4294967295)+((i>>>16)*Vu<<16),i=i^i>>>13,i=((i&65535)*Nh&4294967295)+((i>>>16)*Nh<<16),i=i^i>>>16,i<0?i+4294967296:i}mv.xxHash32=h6});var vC=v(Bh=>{"use strict";function m6(t){for(var e in t)Bh.hasOwnProperty(e)||(Bh[e]=t[e])}Object.defineProperty(Bh,"__esModule",{value:!0});m6(bC())});var IC=v(wC=>{var _C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");wC.encode=function(t){if(0<=t&&t<_C.length)return _C[t];throw new TypeError("Must be between 0 and 63: "+t)}});var Hv=v(EC=>{var H6=IC(),AC=5,SC=1<<AC,g6=SC-1,y6=SC;function b6(t){return t<0?(-t<<1)+1:(t<<1)+0}EC.encode=function(e){let r="",i,n=b6(e);do i=n&g6,n>>>=AC,n>0&&(i|=y6),r+=H6.encode(i);while(n>0);return r}});var CC=v((Xpe,xC)=>{"use strict";xC.exports=typeof URL=="function"?URL:w("url").URL});var Ap=v(Cn=>{var Zs=CC();function v6(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}Cn.getArg=v6;var PC=function(){return!("__proto__"in Object.create(null))}();function DC(t){return t}function _6(t){return TC(t)?"$"+t:t}Cn.toSetString=PC?DC:_6;function w6(t){return TC(t)?t.slice(1):t}Cn.fromSetString=PC?DC:w6;function TC(t){if(!t)return!1;let e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(let r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function LC(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function I6(t,e){let r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=LC(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:LC(t.name,e.name)}Cn.compareByGeneratedPositionsInflated=I6;function A6(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Cn.parseSourceMapInput=A6;var yv="http:",wp=`${yv}//host`;function bv(t){return e=>{let r=Gu(e),i=vv(e),n=new Zs(e,i);t(n);let s=n.toString();return r==="absolute"?s:r==="scheme-relative"?s.slice(yv.length):r==="path-absolute"?s.slice(wp.length):_v(i,s)}}function Qs(t,e){return new Zs(t,e).toString()}function S6(t,e){let r=0;do{let i=t+r++;if(e.indexOf(i)===-1)return i}while(!0)}function vv(t){let e=t.split("..").length-1,r=S6("p",t),i=`${wp}/`;for(let n=0;n<e;n++)i+=`${r}/`;return i}var E6=/^[A-Za-z0-9\+\-\.]+:/;function Gu(t){return t[0]==="/"?t[1]==="/"?"scheme-relative":"path-absolute":E6.test(t)?"absolute":"path-relative"}function _v(t,e){typeof t=="string"&&(t=new Zs(t)),typeof e=="string"&&(e=new Zs(e));let r=e.pathname.split("/"),i=t.pathname.split("/");for(i.length>0&&!i[i.length-1]&&i.pop();r.length>0&&i.length>0&&r[0]===i[0];)r.shift(),i.shift();return i.map(()=>"..").concat(r).join("/")+e.search+e.hash}var x6=bv(t=>{t.pathname=t.pathname.replace(/\/?$/,"/")}),C6=bv(t=>{t.href=new Zs(".",t.toString()).toString()}),Ip=bv(t=>{});Cn.normalize=Ip;function gv(t,e){let r=Gu(e),i=Gu(t);if(t=x6(t),r==="absolute")return Qs(e,void 0);if(i==="absolute")return Qs(e,t);if(r==="scheme-relative")return Ip(e);if(i==="scheme-relative")return Qs(e,Qs(t,wp)).slice(yv.length);if(r==="path-absolute")return Ip(e);if(i==="path-absolute")return Qs(e,Qs(t,wp)).slice(wp.length);let n=vv(e+t),s=Qs(e,Qs(t,n));return _v(n,s)}Cn.join=gv;function L6(t,e){let r=P6(t,e);return typeof r=="string"?r:Ip(e)}Cn.relative=L6;function P6(t,e){if(Gu(t)!==Gu(e))return null;let i=vv(t+e),n=new Zs(t,i),s=new Zs(e,i);try{new Zs("",s.toString())}catch{return null}return s.protocol!==n.protocol||s.user!==n.user||s.password!==n.password||s.hostname!==n.hostname||s.port!==n.port?null:_v(n,s)}function D6(t,e,r){t&&Gu(e)==="path-absolute"&&(e=e.replace(/^\//,""));let i=Ip(e||"");return t&&(i=gv(t,i)),r&&(i=gv(C6(r),i)),i}Cn.computeSourceURL=D6});var wv=v($C=>{var Sp=class{constructor(){this._array=[],this._set=new Map}static fromArray(e,r){let i=new Sp;for(let n=0,s=e.length;n<s;n++)i.add(e[n],r);return i}size(){return this._set.size}add(e,r){let i=this.has(e),n=this._array.length;(!i||r)&&this._array.push(e),i||this._set.set(e,n)}has(e){return this._set.has(e)}indexOf(e){let r=this._set.get(e);if(r>=0)return r;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}};$C.ArraySet=Sp});var RC=v(kC=>{var MC=Ap();function T6(t,e){let r=t.generatedLine,i=e.generatedLine,n=t.generatedColumn,s=e.generatedColumn;return i>r||i==r&&s>=n||MC.compareByGeneratedPositionsInflated(t,e)<=0}var Iv=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,r){this._array.forEach(e,r)}add(e){T6(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(MC.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}};kC.MappingList=Iv});var Av=v(OC=>{var Ep=Hv(),Pt=Ap(),Fh=wv().ArraySet,$6=RC().MappingList,Ku=class{constructor(e){e||(e={}),this._file=Pt.getArg(e,"file",null),this._sourceRoot=Pt.getArg(e,"sourceRoot",null),this._skipValidation=Pt.getArg(e,"skipValidation",!1),this._sources=new Fh,this._names=new Fh,this._mappings=new $6,this._sourcesContents=null}static fromSourceMap(e){let r=e.sourceRoot,i=new Ku({file:e.file,sourceRoot:r});return e.eachMapping(function(n){let s={generated:{line:n.generatedLine,column:n.generatedColumn}};n.source!=null&&(s.source=n.source,r!=null&&(s.source=Pt.relative(r,s.source)),s.original={line:n.originalLine,column:n.originalColumn},n.name!=null&&(s.name=n.name)),i.addMapping(s)}),e.sources.forEach(function(n){let s=n;r!==null&&(s=Pt.relative(r,n)),i._sources.has(s)||i._sources.add(s);let o=e.sourceContentFor(n);o!=null&&i.setSourceContent(n,o)}),i}addMapping(e){let r=Pt.getArg(e,"generated"),i=Pt.getArg(e,"original",null),n=Pt.getArg(e,"source",null),s=Pt.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,i,n,s),n!=null&&(n=String(n),this._sources.has(n)||this._sources.add(n)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:i!=null&&i.line,originalColumn:i!=null&&i.column,source:n,name:s})}setSourceContent(e,r){let i=e;this._sourceRoot!=null&&(i=Pt.relative(this._sourceRoot,i)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Pt.toSetString(i)]=r):this._sourcesContents&&(delete this._sourcesContents[Pt.toSetString(i)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(e,r,i){let n=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);n=e.file}let s=this._sourceRoot;s!=null&&(n=Pt.relative(s,n));let o=this._mappings.toArray().length>0?new Fh:this._sources,a=new Fh;this._mappings.unsortedForEach(function(u){if(u.source===n&&u.originalLine!=null){let p=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});p.source!=null&&(u.source=p.source,i!=null&&(u.source=Pt.join(i,u.source)),s!=null&&(u.source=Pt.relative(s,u.source)),u.originalLine=p.line,u.originalColumn=p.column,p.name!=null&&(u.name=p.name))}let c=u.source;c!=null&&!o.has(c)&&o.add(c);let l=u.name;l!=null&&!a.has(l)&&a.add(l)},this),this._sources=o,this._names=a,e.sources.forEach(function(u){let c=e.sourceContentFor(u);c!=null&&(i!=null&&(u=Pt.join(i,u)),s!=null&&(u=Pt.relative(s,u)),this.setSourceContent(u,c))},this)}_validateMapping(e,r,i,n){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!i&&!n)){if(!(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&i))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:i,original:r,name:n}))}}_serializeMappings(){let e=0,r=1,i=0,n=0,s=0,o=0,a="",u,c,l,p,f=this._mappings.toArray();for(let H=0,m=f.length;H<m;H++){if(c=f[H],u="",c.generatedLine!==r)for(e=0;c.generatedLine!==r;)u+=";",r++;else if(H>0){if(!Pt.compareByGeneratedPositionsInflated(c,f[H-1]))continue;u+=","}u+=Ep.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(p=this._sources.indexOf(c.source),u+=Ep.encode(p-o),o=p,u+=Ep.encode(c.originalLine-1-n),n=c.originalLine-1,u+=Ep.encode(c.originalColumn-i),i=c.originalColumn,c.name!=null&&(l=this._names.indexOf(c.name),u+=Ep.encode(l-s),s=l)),a+=u}return a}_generateSourcesContent(e,r){return e.map(function(i){if(!this._sourcesContents)return null;r!=null&&(i=Pt.relative(r,i));let n=Pt.toSetString(i);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)}toJSON(){let e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}};Ku.prototype._version=3;OC.SourceMapGenerator=Ku});var NC=v(wa=>{wa.GREATEST_LOWER_BOUND=1;wa.LEAST_UPPER_BOUND=2;function Sv(t,e,r,i,n,s){let o=Math.floor((e-t)/2)+t,a=n(r,i[o],!0);return a===0?o:a>0?e-o>1?Sv(o,e,r,i,n,s):s==wa.LEAST_UPPER_BOUND?e<i.length?e:-1:o:o-t>1?Sv(t,o,r,i,n,s):s==wa.LEAST_UPPER_BOUND?o:t<0?-1:t}wa.search=function(e,r,i,n){if(r.length===0)return-1;let s=Sv(-1,r.length,e,r,i,n||wa.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&i(r[s],r[s-1],!0)===0;)--s;return s}});var xv=v((tfe,Ev)=>{"use strict";var M6=w("fs"),k6=w("path");Ev.exports=function(){return new Promise((e,r)=>{let i=k6.join(__dirname,"mappings.wasm");M6.readFile(i,null,(n,s)=>{if(n){r(n);return}e(s.buffer)})})};Ev.exports.initialize=t=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}});var FC=v((rfe,BC)=>{var R6=xv();function O6(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var xp=null;BC.exports=function(){if(xp)return xp;let e=[];return xp=R6().then(r=>WebAssembly.instantiate(r,{env:{mapping_callback(i,n,s,o,a,u,c,l,p,f){let H=new O6;H.generatedLine=i+1,H.generatedColumn=n,s&&(H.lastGeneratedColumn=o-1),a&&(H.source=u,H.originalLine=c+1,H.originalColumn=l,p&&(H.name=f)),e[e.length-1](H)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(r=>({exports:r.instance.exports,withMappingCallback:(i,n)=>{e.push(i);try{n()}finally{e.pop()}}})).then(null,r=>{throw xp=null,r}),xp}});var UC=v(jh=>{var Ae=Ap(),N6=NC(),Cv=wv().ArraySet,ife=Hv(),B6=xv(),F6=FC(),Lv=Symbol("smcInternal"),bt=class{constructor(e,r){return e==Lv?Promise.resolve(this):U6(e,r)}static initialize(e){B6.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,r){return j6(e,r)}static async with(e,r,i){let n=await new bt(e,r);try{return await i(n)}finally{n.destroy()}}eachMapping(e,r,i){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}};bt.prototype._version=3;bt.GENERATED_ORDER=1;bt.ORIGINAL_ORDER=2;bt.GREATEST_LOWER_BOUND=1;bt.LEAST_UPPER_BOUND=2;jh.SourceMapConsumer=bt;var eo=class extends bt{constructor(e,r){return super(Lv).then(i=>{let n=e;typeof e=="string"&&(n=Ae.parseSourceMapInput(e));let s=Ae.getArg(n,"version"),o=Ae.getArg(n,"sources").map(String),a=Ae.getArg(n,"names",[]),u=Ae.getArg(n,"sourceRoot",null),c=Ae.getArg(n,"sourcesContent",null),l=Ae.getArg(n,"mappings"),p=Ae.getArg(n,"file",null);if(s!=i._version)throw new Error("Unsupported version: "+s);return i._sourceLookupCache=new Map,i._names=Cv.fromArray(a.map(String),!0),i._sources=Cv.fromArray(o,!0),i._absoluteSources=Cv.fromArray(i._sources.toArray().map(function(f){return Ae.computeSourceURL(u,f,r)}),!0),i.sourceRoot=u,i.sourcesContent=c,i._mappings=l,i._sourceMapURL=r,i.file=p,i._computedColumnSpans=!1,i._mappingsPtr=0,i._wasm=null,F6().then(f=>(i._wasm=f,i))})}_findSourceIndex(e){let r=this._sourceLookupCache.get(e);if(typeof r=="number")return r;let i=Ae.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(i)){let s=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,s),s}let n=Ae.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(n)){let s=this._absoluteSources.indexOf(n);return this._sourceLookupCache.set(e,s),s}return-1}static fromSourceMap(e,r){return new eo(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){let e=this._mappings,r=e.length,i=this._wasm.exports.allocate_mappings(r),n=new Uint8Array(this._wasm.exports.memory.buffer,i,r);for(let o=0;o<r;o++)n[o]=e.charCodeAt(o);let s=this._wasm.exports.parse_mappings(i);if(!s){let o=this._wasm.exports.get_last_error(),a=`Error parsing mappings (code ${o}): `;switch(o){case 1:a+="the mappings contained a negative line, column, source index, or name index";break;case 2:a+="the mappings contained a number larger than 2**32";break;case 3:a+="reached EOF while in the middle of parsing a VLQ";break;case 4:a+="invalid base 64 character while parsing a VLQ";break;default:a+="unknown error code";break}throw new Error(a)}this._mappingsPtr=s}eachMapping(e,r,i){let n=r||null,s=i||bt.GENERATED_ORDER;this._wasm.withMappingCallback(o=>{o.source!==null&&(o.source=this._absoluteSources.at(o.source),o.name!==null&&(o.name=this._names.at(o.name))),this._computedColumnSpans&&o.lastGeneratedColumn===null&&(o.lastGeneratedColumn=1/0),e.call(n,o)},()=>{switch(s){case bt.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case bt.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let r=Ae.getArg(e,"source"),i=Ae.getArg(e,"line"),n=e.column||0;if(r=this._findSourceIndex(r),r<0)return[];if(i<1)throw new Error("Line numbers must be >= 1");if(n<0)throw new Error("Column numbers must be >= 0");let s=[];return this._wasm.withMappingCallback(o=>{let a=o.lastGeneratedColumn;this._computedColumnSpans&&a===null&&(a=1/0),s.push({line:o.generatedLine,column:o.generatedColumn,lastColumn:a})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),r,i-1,"column"in e,n)}),s}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){let r={generatedLine:Ae.getArg(e,"line"),generatedColumn:Ae.getArg(e,"column")};if(r.generatedLine<1)throw new Error("Line numbers must be >= 1");if(r.generatedColumn<0)throw new Error("Column numbers must be >= 0");let i=Ae.getArg(e,"bias",bt.GREATEST_LOWER_BOUND);i==null&&(i=bt.GREATEST_LOWER_BOUND);let n;if(this._wasm.withMappingCallback(s=>n=s,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),r.generatedLine-1,r.generatedColumn,i)}),n&&n.generatedLine===r.generatedLine){let s=Ae.getArg(n,"source",null);s!==null&&(s=this._absoluteSources.at(s));let o=Ae.getArg(n,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:Ae.getArg(n,"originalLine",null),column:Ae.getArg(n,"originalColumn",null),name:o}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1}sourceContentFor(e,r){if(!this.sourcesContent)return null;let i=this._findSourceIndex(e);if(i>=0)return this.sourcesContent[i];if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let r=Ae.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};let i={source:r,originalLine:Ae.getArg(e,"line"),originalColumn:Ae.getArg(e,"column")};if(i.originalLine<1)throw new Error("Line numbers must be >= 1");if(i.originalColumn<0)throw new Error("Column numbers must be >= 0");let n=Ae.getArg(e,"bias",bt.GREATEST_LOWER_BOUND);n==null&&(n=bt.GREATEST_LOWER_BOUND);let s;if(this._wasm.withMappingCallback(o=>s=o,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),i.source,i.originalLine-1,i.originalColumn,n)}),s&&s.source===i.source){let o=s.lastGeneratedColumn;return this._computedColumnSpans&&o===null&&(o=1/0),{line:Ae.getArg(s,"generatedLine",null),column:Ae.getArg(s,"generatedColumn",null),lastColumn:o}}return{line:null,column:null,lastColumn:null}}};eo.prototype.consumer=bt;jh.BasicSourceMapConsumer=eo;var Uh=class extends bt{constructor(e,r){return super(Lv).then(i=>{let n=e;typeof e=="string"&&(n=Ae.parseSourceMapInput(e));let s=Ae.getArg(n,"version"),o=Ae.getArg(n,"sections");if(s!=i._version)throw new Error("Unsupported version: "+s);let a={line:-1,column:0};return Promise.all(o.map(u=>{if(u.url)throw new Error("Support for url field in sections not implemented.");let c=Ae.getArg(u,"offset"),l=Ae.getArg(c,"line"),p=Ae.getArg(c,"column");if(l<a.line||l===a.line&&p<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=c,new bt(Ae.getArg(u,"map"),r).then(H=>({generatedOffset:{generatedLine:l+1,generatedColumn:p+1},consumer:H}))})).then(u=>(i._sections=u,i))})}get sources(){let e=[];for(let r=0;r<this._sections.length;r++)for(let i=0;i<this._sections[r].consumer.sources.length;i++)e.push(this._sections[r].consumer.sources[i]);return e}originalPositionFor(e){let r={generatedLine:Ae.getArg(e,"line"),generatedColumn:Ae.getArg(e,"column")},i=N6.search(r,this._sections,function(s,o){let a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),n=this._sections[i];return n?n.consumer.originalPositionFor({line:r.generatedLine-(n.generatedOffset.generatedLine-1),column:r.generatedColumn-(n.generatedOffset.generatedLine===r.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,r){for(let i=0;i<this._sections.length;i++){let s=this._sections[i].consumer.sourceContentFor(e,!0);if(s)return s}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let r=0;r<this._sections.length;r++){let{consumer:i}=this._sections[r];if(i._findSourceIndex(e)!==-1)return r}return-1}generatedPositionFor(e){let r=this._findSectionIndex(Ae.getArg(e,"source")),i=r>=0?this._sections[r]:null,n=r>=0&&r+1<this._sections.length?this._sections[r+1]:null,s=i&&i.consumer.generatedPositionFor(e);if(s&&s.line!==null){let o=i.generatedOffset.generatedLine-1,a=i.generatedOffset.generatedColumn-1;return s.line===1&&(s.column+=a,typeof s.lastColumn=="number"&&(s.lastColumn+=a)),s.lastColumn===1/0&&n&&s.line===n.generatedOffset.generatedLine&&(s.lastColumn=n.generatedOffset.generatedColumn-2),s.line+=o,s}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){let r=this._findSectionIndex(Ae.getArg(e,"source")),i=r>=0?this._sections[r]:null,n=r>=0&&r+1<this._sections.length?this._sections[r+1]:null;return i?i.consumer.allGeneratedPositionsFor(e).map(s=>{let o=i.generatedOffset.generatedLine-1,a=i.generatedOffset.generatedColumn-1;return s.line===1&&(s.column+=a,typeof s.lastColumn=="number"&&(s.lastColumn+=a)),s.lastColumn===1/0&&n&&s.line===n.generatedOffset.generatedLine&&(s.lastColumn=n.generatedOffset.generatedColumn-2),s.line+=o,s}):[]}eachMapping(e,r,i){this._sections.forEach((n,s)=>{let o=s+1<this._sections.length?this._sections[s+1]:null,{generatedOffset:a}=n,u=a.generatedLine-1,c=a.generatedColumn-1;n.consumer.eachMapping(function(l){l.generatedLine===1&&(l.generatedColumn+=c,typeof l.lastGeneratedColumn=="number"&&(l.lastGeneratedColumn+=c)),l.lastGeneratedColumn===1/0&&o&&l.generatedLine===o.generatedOffset.generatedLine&&(l.lastGeneratedColumn=o.generatedOffset.generatedColumn-2),l.generatedLine+=u,e.call(this,l)},r,i)})}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}};jh.IndexedSourceMapConsumer=Uh;function U6(t,e){let r=t;typeof t=="string"&&(r=Ae.parseSourceMapInput(t));let i=r.sections!=null?new Uh(r,e):new eo(r,e);return Promise.resolve(i)}function j6(t,e){return eo.fromSourceMap(t,e)}});var qC=v(jC=>{var q6=Av().SourceMapGenerator,qh=Ap(),W6=/(\r?\n)/,V6=10,zu="$$$isSourceNode$$$",Xu=class{constructor(e,r,i,n,s){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=i??null,this.name=s??null,this[zu]=!0,n!=null&&this.add(n)}static fromStringWithSourceMap(e,r,i){let n=new Xu,s=e.split(W6),o=0,a=function(){let H=y(),m=y()||"";return H+m;function y(){return o<s.length?s[o++]:void 0}},u=1,c=0,l=null,p;return r.eachMapping(function(H){if(l!==null)if(u<H.generatedLine)f(l,a()),u++,c=0;else{p=s[o]||"";let m=p.substr(0,H.generatedColumn-c);s[o]=p.substr(H.generatedColumn-c),c=H.generatedColumn,f(l,m),l=H;return}for(;u<H.generatedLine;)n.add(a()),u++;c<H.generatedColumn&&(p=s[o]||"",n.add(p.substr(0,H.generatedColumn)),s[o]=p.substr(H.generatedColumn),c=H.generatedColumn),l=H},this),o<s.length&&(l&&f(l,a()),n.add(s.splice(o).join(""))),r.sources.forEach(function(H){let m=r.sourceContentFor(H);m!=null&&(i!=null&&(H=qh.join(i,H)),n.setSourceContent(H,m))}),n;function f(H,m){if(H===null||H.source===void 0)n.add(m);else{let y=i?qh.join(i,H.source):H.source;n.add(new Xu(H.originalLine,H.originalColumn,y,m,H.name))}}}add(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[zu]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}prepend(e){if(Array.isArray(e))for(let r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[zu]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}walk(e){let r;for(let i=0,n=this.children.length;i<n;i++)r=this.children[i],r[zu]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let r,i,n=this.children.length;if(n>0){for(r=[],i=0;i<n-1;i++)r.push(this.children[i]),r.push(e);r.push(this.children[i]),this.children=r}return this}replaceRight(e,r){let i=this.children[this.children.length-1];return i[zu]?i.replaceRight(e,r):typeof i=="string"?this.children[this.children.length-1]=i.replace(e,r):this.children.push("".replace(e,r)),this}setSourceContent(e,r){this.sourceContents[qh.toSetString(e)]=r}walkSourceContents(e){for(let i=0,n=this.children.length;i<n;i++)this.children[i][zu]&&this.children[i].walkSourceContents(e);let r=Object.keys(this.sourceContents);for(let i=0,n=r.length;i<n;i++)e(qh.fromSetString(r[i]),this.sourceContents[r[i]])}toString(){let e="";return this.walk(function(r){e+=r}),e}toStringWithSourceMap(e){let r={code:"",line:1,column:0},i=new q6(e),n=!1,s=null,o=null,a=null,u=null;return this.walk(function(c,l){r.code+=c,l.source!==null&&l.line!==null&&l.column!==null?((s!==l.source||o!==l.line||a!==l.column||u!==l.name)&&i.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),s=l.source,o=l.line,a=l.column,u=l.name,n=!0):n&&(i.addMapping({generated:{line:r.line,column:r.column}}),s=null,n=!1);for(let p=0,f=c.length;p<f;p++)c.charCodeAt(p)===V6?(r.line++,r.column=0,p+1===f?(s=null,n=!1):n&&i.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(c,l){i.setSourceContent(c,l)}),{code:r.code,map:i}}};jC.SourceNode=Xu});var Vh=v(Wh=>{Wh.SourceMapGenerator=Av().SourceMapGenerator;Wh.SourceMapConsumer=UC().SourceMapConsumer;Wh.SourceNode=qC().SourceNode});var nm=v(ML=>{(function t(e){"use strict";var r,i,n,s,o,a;function u(C){var D={},G,W;for(G in C)C.hasOwnProperty(G)&&(W=C[G],typeof W=="object"&&W!==null?D[G]=u(W):D[G]=W);return D}function c(C,D){var G,W,N,M;for(W=C.length,N=0;W;)G=W>>>1,M=N+G,D(C[M])?W=G:(N=M+1,W-=G+1);return N}r={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},n={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},s={},o={},a={},i={Break:s,Skip:o,Remove:a};function l(C,D){this.parent=C,this.key=D}l.prototype.replace=function(D){this.parent[this.key]=D},l.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function p(C,D,G,W){this.node=C,this.path=D,this.wrap=G,this.ref=W}function f(){}f.prototype.path=function(){var D,G,W,N,M,O;function S($,R){if(Array.isArray(R))for(W=0,N=R.length;W<N;++W)$.push(R[W]);else $.push(R)}if(!this.__current.path)return null;for(M=[],D=2,G=this.__leavelist.length;D<G;++D)O=this.__leavelist[D],S(M,O.path);return S(M,this.__current.path),M},f.prototype.type=function(){var C=this.current();return C.type||this.__current.wrap},f.prototype.parents=function(){var D,G,W;for(W=[],D=1,G=this.__leavelist.length;D<G;++D)W.push(this.__leavelist[D].node);return W},f.prototype.current=function(){return this.__current.node},f.prototype.__execute=function(D,G){var W,N;return N=void 0,W=this.__current,this.__current=G,this.__state=null,D&&(N=D.call(this,G.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=W,N},f.prototype.notify=function(D){this.__state=D},f.prototype.skip=function(){this.notify(o)},f.prototype.break=function(){this.notify(s)},f.prototype.remove=function(){this.notify(a)},f.prototype.__initialize=function(C,D){this.visitor=D,this.root=C,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,D.fallback==="iteration"?this.__fallback=Object.keys:typeof D.fallback=="function"&&(this.__fallback=D.fallback),this.__keys=n,D.keys&&(this.__keys=Object.assign(Object.create(this.__keys),D.keys))};function H(C){return C==null?!1:typeof C=="object"&&typeof C.type=="string"}function m(C,D){return(C===r.ObjectExpression||C===r.ObjectPattern)&&D==="properties"}function y(C,D){for(var G=C.length-1;G>=0;--G)if(C[G].node===D)return!0;return!1}f.prototype.traverse=function(D,G){var W,N,M,O,S,$,R,X,L,P,ee,re;for(this.__initialize(D,G),re={},W=this.__worklist,N=this.__leavelist,W.push(new p(D,null,null,null)),N.push(new p(null,null,null,null));W.length;){if(M=W.pop(),M===re){if(M=N.pop(),$=this.__execute(G.leave,M),this.__state===s||$===s)return;continue}if(M.node){if($=this.__execute(G.enter,M),this.__state===s||$===s)return;if(W.push(re),N.push(M),this.__state===o||$===o)continue;if(O=M.node,S=O.type||M.wrap,P=this.__keys[S],!P)if(this.__fallback)P=this.__fallback(O);else throw new Error("Unknown node type "+S+".");for(X=P.length;(X-=1)>=0;)if(R=P[X],ee=O[R],!!ee){if(Array.isArray(ee)){for(L=ee.length;(L-=1)>=0;)if(ee[L]&&!y(N,ee[L])){if(m(S,P[X]))M=new p(ee[L],[R,L],"Property",null);else if(H(ee[L]))M=new p(ee[L],[R,L],null,null);else continue;W.push(M)}}else if(H(ee)){if(y(N,ee))continue;W.push(new p(ee,R,null,null))}}}}},f.prototype.replace=function(D,G){var W,N,M,O,S,$,R,X,L,P,ee,re,se;function oe(ie){var de,we,He,Et;if(ie.ref.remove()){for(we=ie.ref.key,Et=ie.ref.parent,de=W.length;de--;)if(He=W[de],He.ref&&He.ref.parent===Et){if(He.ref.key<we)break;--He.ref.key}}}for(this.__initialize(D,G),ee={},W=this.__worklist,N=this.__leavelist,re={root:D},$=new p(D,null,null,new l(re,"root")),W.push($),N.push($);W.length;){if($=W.pop(),$===ee){if($=N.pop(),S=this.__execute(G.leave,$),S!==void 0&&S!==s&&S!==o&&S!==a&&$.ref.replace(S),(this.__state===a||S===a)&&oe($),this.__state===s||S===s)return re.root;continue}if(S=this.__execute(G.enter,$),S!==void 0&&S!==s&&S!==o&&S!==a&&($.ref.replace(S),$.node=S),(this.__state===a||S===a)&&(oe($),$.node=null),this.__state===s||S===s)return re.root;if(M=$.node,!!M&&(W.push(ee),N.push($),!(this.__state===o||S===o))){if(O=M.type||$.wrap,L=this.__keys[O],!L)if(this.__fallback)L=this.__fallback(M);else throw new Error("Unknown node type "+O+".");for(R=L.length;(R-=1)>=0;)if(se=L[R],P=M[se],!!P)if(Array.isArray(P)){for(X=P.length;(X-=1)>=0;)if(P[X]){if(m(O,L[R]))$=new p(P[X],[se,X],"Property",new l(P,X));else if(H(P[X]))$=new p(P[X],[se,X],null,new l(P,X));else continue;W.push($)}}else H(P)&&W.push(new p(P,se,null,new l(M,se)))}}return re.root};function b(C,D){var G=new f;return G.traverse(C,D)}function I(C,D){var G=new f;return G.replace(C,D)}function B(C,D){var G;return G=c(D,function(N){return N.range[0]>C.range[0]}),C.extendedRange=[C.range[0],C.range[1]],G!==D.length&&(C.extendedRange[1]=D[G].range[0]),G-=1,G>=0&&(C.extendedRange[0]=D[G].range[1]),C}function q(C,D,G){var W=[],N,M,O,S;if(!C.range)throw new Error("attachComments needs range information");if(!G.length){if(D.length){for(O=0,M=D.length;O<M;O+=1)N=u(D[O]),N.extendedRange=[0,C.range[0]],W.push(N);C.leadingComments=W}return C}for(O=0,M=D.length;O<M;O+=1)W.push(B(u(D[O]),G));return S=0,b(C,{enter:function($){for(var R;S<W.length&&(R=W[S],!(R.extendedRange[1]>$.range[0]));)R.extendedRange[1]===$.range[0]?($.leadingComments||($.leadingComments=[]),$.leadingComments.push(R),W.splice(S,1)):S+=1;if(S===W.length)return i.Break;if(W[S].extendedRange[0]>$.range[1])return i.Skip}}),S=0,b(C,{leave:function($){for(var R;S<W.length&&(R=W[S],!($.range[1]<R.extendedRange[0]));)$.range[1]===R.extendedRange[0]?($.trailingComments||($.trailingComments=[]),$.trailingComments.push(R),W.splice(S,1)):S+=1;if(S===W.length)return i.Break;if(W[S].extendedRange[0]>$.range[1])return i.Skip}}),C}return e.Syntax=r,e.traverse=b,e.replace=I,e.attachComments=q,e.VisitorKeys=n,e.VisitorOption=i,e.Controller=f,e.cloneEnvironment=function(){return t({})},e})(ML)});var GL=v((bfe,VL)=>{VL.exports=WL;WL.sync=P9;var jL=w("fs");function L9(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var i=0;i<r.length;i++){var n=r[i].toLowerCase();if(n&&t.substr(-n.length).toLowerCase()===n)return!0}return!1}function qL(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:L9(e,r)}function WL(t,e,r){jL.stat(t,function(i,n){r(i,i?!1:qL(n,t,e))})}function P9(t,e){return qL(jL.statSync(t),t,e)}});var YL=v((vfe,JL)=>{JL.exports=zL;zL.sync=D9;var KL=w("fs");function zL(t,e,r){KL.stat(t,function(i,n){r(i,i?!1:XL(n,e))})}function D9(t,e){return XL(KL.statSync(t),e)}function XL(t,e){return t.isFile()&&T9(t,e)}function T9(t,e){var r=t.mode,i=t.uid,n=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u,p=r&c||r&u&&n===o||r&a&&i===s||r&l&&s===0;return p}});var zv=v((wfe,QL)=>{var _fe=w("fs"),um;process.platform==="win32"||global.TESTING_WINDOWS?um=GL():um=YL();QL.exports=Kv;Kv.sync=$9;function Kv(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,n){Kv(t,e||{},function(s,o){s?n(s):i(o)})})}um(t,e||{},function(i,n){i&&(i.code==="EACCES"||e&&e.ignoreErrors)&&(i=null,n=!1),r(i,n)})}function $9(t,e){try{return um.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var sP=v((Ife,nP)=>{var tc=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ZL=w("path"),M9=tc?";":":",eP=zv(),tP=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),rP=(t,e)=>{let r=e.colon||M9,i=t.match(/\//)||tc&&t.match(/\\/)?[""]:[...tc?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],n=tc?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=tc?n.split(r):[""];return tc&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:n}},iP=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:i,pathExt:n,pathExtExe:s}=rP(t,e),o=[],a=c=>new Promise((l,p)=>{if(c===i.length)return e.all&&o.length?l(o):p(tP(t));let f=i[c],H=/^".*"$/.test(f)?f.slice(1,-1):f,m=ZL.join(H,t),y=!H&&/^\.[\\\/]/.test(t)?t.slice(0,2)+m:m;l(u(y,c,0))}),u=(c,l,p)=>new Promise((f,H)=>{if(p===n.length)return f(a(l+1));let m=n[p];eP(c+m,{pathExt:s},(y,b)=>{if(!y&&b)if(e.all)o.push(c+m);else return f(c+m);return f(u(c,l,p+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},k9=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:i,pathExtExe:n}=rP(t,e),s=[];for(let o=0;o<r.length;o++){let a=r[o],u=/^".*"$/.test(a)?a.slice(1,-1):a,c=ZL.join(u,t),l=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let p=0;p<i.length;p++){let f=l+i[p];try{if(eP.sync(f,{pathExt:n}))if(e.all)s.push(f);else return f}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw tP(t)};nP.exports=iP;iP.sync=k9});var aP=v((Afe,Xv)=>{"use strict";var oP=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};Xv.exports=oP;Xv.exports.default=oP});var pP=v((Sfe,lP)=>{"use strict";var uP=w("path"),R9=sP(),O9=aP();function cP(t,e){let r=t.options.env||process.env,i=process.cwd(),n=t.options.cwd!=null,s=n&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(t.options.cwd)}catch{}let o;try{o=R9.sync(t.command,{path:r[O9({env:r})],pathExt:e?uP.delimiter:void 0})}catch{}finally{s&&process.chdir(i)}return o&&(o=uP.resolve(n?t.options.cwd:"",o)),o}function N9(t){return cP(t)||cP(t,!0)}lP.exports=N9});var fP=v((Efe,Yv)=>{"use strict";var Jv=/([()\][%!^"`<>&|;, *?])/g;function B9(t){return t=t.replace(Jv,"^$1"),t}function F9(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Jv,"^$1"),e&&(t=t.replace(Jv,"^$1")),t}Yv.exports.command=B9;Yv.exports.argument=F9});var hP=v((xfe,dP)=>{"use strict";dP.exports=/^#!(.*)/});var HP=v((Cfe,mP)=>{"use strict";var U9=hP();mP.exports=(t="")=>{let e=t.match(U9);if(!e)return null;let[r,i]=e[0].replace(/#! ?/,"").split(" "),n=r.split("/").pop();return n==="env"?i:i?`${n} ${i}`:n}});var yP=v((Lfe,gP)=>{"use strict";var Qv=w("fs"),j9=HP();function q9(t){let r=Buffer.alloc(150),i;try{i=Qv.openSync(t,"r"),Qv.readSync(i,r,0,150,0),Qv.closeSync(i)}catch{}return j9(r.toString())}gP.exports=q9});var wP=v((Pfe,_P)=>{"use strict";var W9=w("path"),bP=pP(),vP=fP(),V9=yP(),G9=process.platform==="win32",K9=/\.(?:com|exe)$/i,z9=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function X9(t){t.file=bP(t);let e=t.file&&V9(t.file);return e?(t.args.unshift(t.file),t.command=e,bP(t)):t.file}function J9(t){if(!G9)return t;let e=X9(t),r=!K9.test(e);if(t.options.forceShell||r){let i=z9.test(e);t.command=W9.normalize(t.command),t.command=vP.command(t.command),t.args=t.args.map(s=>vP.argument(s,i));let n=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${n}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Y9(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let i={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?i:J9(i)}_P.exports=Y9});var SP=v((Dfe,AP)=>{"use strict";var Zv=process.platform==="win32";function e_(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function Q9(t,e){if(!Zv)return;let r=t.emit;t.emit=function(i,n){if(i==="exit"){let s=IP(n,e,"spawn");if(s)return r.call(t,"error",s)}return r.apply(t,arguments)}}function IP(t,e){return Zv&&t===1&&!e.file?e_(e.original,"spawn"):null}function Z9(t,e){return Zv&&t===1&&!e.file?e_(e.original,"spawnSync"):null}AP.exports={hookChildProcess:Q9,verifyENOENT:IP,verifyENOENTSync:Z9,notFoundError:e_}});var CP=v((Tfe,rc)=>{"use strict";var EP=w("child_process"),t_=wP(),r_=SP();function xP(t,e,r){let i=t_(t,e,r),n=EP.spawn(i.command,i.args,i.options);return r_.hookChildProcess(n,i),n}function eK(t,e,r){let i=t_(t,e,r),n=EP.spawnSync(i.command,i.args,i.options);return n.error=n.error||r_.verifyENOENTSync(n.status,i),n}rc.exports=xP;rc.exports.spawn=xP;rc.exports.sync=eK;rc.exports._parse=t_;rc.exports._enoent=r_});var PP=v(($fe,LP)=>{"use strict";LP.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var TP=v((Mfe,i_)=>{"use strict";var DP=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};i_.exports=DP;i_.exports.default=DP});var kP=v((kfe,Np)=>{"use strict";var Op=w("path"),$P=TP(),MP=t=>{t={cwd:process.cwd(),path:process.env[$P()],execPath:process.execPath,...t};let e,r=Op.resolve(t.cwd),i=[];for(;e!==r;)i.push(Op.join(r,"node_modules/.bin")),e=r,r=Op.resolve(r,"..");let n=Op.resolve(t.cwd,t.execPath,"..");return i.push(n),i.concat(t.path).join(Op.delimiter)};Np.exports=MP;Np.exports.default=MP;Np.exports.env=t=>{t={env:process.env,...t};let e={...t.env},r=$P({env:e});return t.path=e[r],e[r]=Np.exports(t),e}});var OP=v((Rfe,n_)=>{"use strict";var RP=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};n_.exports=RP;n_.exports.default=RP});var BP=v((Ofe,lm)=>{"use strict";var tK=OP(),cm=new WeakMap,NP=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,i=0,n=t.displayName||t.name||"<anonymous>",s=function(...o){if(cm.set(s,++i),i===1)r=t.apply(this,o),t=null;else if(e.throw===!0)throw new Error(`Function \`${n}\` can only be called once`);return r};return tK(s,t),cm.set(s,i),s};lm.exports=NP;lm.exports.default=NP;lm.exports.callCount=t=>{if(!cm.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return cm.get(t)}});var FP=v(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.SIGNALS=void 0;var rK=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];pm.SIGNALS=rK});var s_=v(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.SIGRTMAX=ic.getRealtimeSignals=void 0;var iK=function(){let t=jP-UP+1;return Array.from({length:t},nK)};ic.getRealtimeSignals=iK;var nK=function(t,e){return{name:`SIGRT${e+1}`,number:UP+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},UP=34,jP=64;ic.SIGRTMAX=jP});var qP=v(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.getSignals=void 0;var sK=w("os"),oK=FP(),aK=s_(),uK=function(){let t=(0,aK.getRealtimeSignals)();return[...oK.SIGNALS,...t].map(cK)};fm.getSignals=uK;var cK=function({name:t,number:e,description:r,action:i,forced:n=!1,standard:s}){let{signals:{[t]:o}}=sK.constants,a=o!==void 0;return{name:t,number:a?o:e,description:r,supported:a,action:i,forced:n,standard:s}}});var VP=v(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.signalsByNumber=nc.signalsByName=void 0;var lK=w("os"),WP=qP(),pK=s_(),fK=function(){return(0,WP.getSignals)().reduce(dK,{})},dK=function(t,{name:e,number:r,description:i,supported:n,action:s,forced:o,standard:a}){return{...t,[e]:{name:e,number:r,description:i,supported:n,action:s,forced:o,standard:a}}},hK=fK();nc.signalsByName=hK;var mK=function(){let t=(0,WP.getSignals)(),e=pK.SIGRTMAX+1,r=Array.from({length:e},(i,n)=>HK(n,t));return Object.assign({},...r)},HK=function(t,e){let r=gK(t,e);if(r===void 0)return{};let{name:i,description:n,supported:s,action:o,forced:a,standard:u}=r;return{[t]:{name:i,number:t,description:n,supported:s,action:o,forced:a,standard:u}}},gK=function(t,e){let r=e.find(({name:i})=>lK.constants.signals[i]===t);return r!==void 0?r:e.find(i=>i.number===t)},yK=mK();nc.signalsByNumber=yK});var KP=v((jfe,GP)=>{"use strict";var{signalsByName:bK}=VP(),vK=({timedOut:t,timeout:e,errorCode:r,signal:i,signalDescription:n,exitCode:s,isCanceled:o})=>t?`timed out after ${e} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:i!==void 0?`was killed with ${i} (${n})`:s!==void 0?`failed with exit code ${s}`:"failed",_K=({stdout:t,stderr:e,all:r,error:i,signal:n,exitCode:s,command:o,escapedCommand:a,timedOut:u,isCanceled:c,killed:l,parsed:{options:{timeout:p}}})=>{s=s===null?void 0:s,n=n===null?void 0:n;let f=n===void 0?void 0:bK[n].description,H=i&&i.code,y=`Command ${vK({timedOut:u,timeout:p,errorCode:H,signal:n,signalDescription:f,exitCode:s,isCanceled:c})}: ${o}`,b=Object.prototype.toString.call(i)==="[object Error]",I=b?`${y}
${i.message}`:y,B=[I,e,t].filter(Boolean).join(`
`);return b?(i.originalMessage=i.message,i.message=B):i=new Error(B),i.shortMessage=I,i.command=o,i.escapedCommand=a,i.exitCode=s,i.signal=n,i.signalDescription=f,i.stdout=t,i.stderr=e,r!==void 0&&(i.all=r),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(u),i.isCanceled=c,i.killed=l&&!u,i};GP.exports=_K});var XP=v((qfe,o_)=>{"use strict";var dm=["stdin","stdout","stderr"],wK=t=>dm.some(e=>t[e]!==void 0),zP=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return dm.map(i=>t[i]);if(wK(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${dm.map(i=>`\`${i}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,dm.length);return Array.from({length:r},(i,n)=>e[n])};o_.exports=zP;o_.exports.node=t=>{let e=zP(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var JP=v((Wfe,hm)=>{hm.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&hm.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&hm.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var ZP=v((Vfe,Up)=>{var IK=w("assert"),Bp=JP(),AK=/^win/i.test(process.platform),mm=w("events");typeof mm!="function"&&(mm=mm.EventEmitter);var tr;process.__signal_exit_emitter__?tr=process.__signal_exit_emitter__:(tr=process.__signal_exit_emitter__=new mm,tr.count=0,tr.emitted={});tr.infinite||(tr.setMaxListeners(1/0),tr.infinite=!0);Up.exports=function(t,e){IK.equal(typeof t,"function","a callback must be provided for exit handler"),Fp===!1&&YP();var r="exit";e&&e.alwaysLast&&(r="afterexit");var i=function(){tr.removeListener(r,t),tr.listeners("exit").length===0&&tr.listeners("afterexit").length===0&&u_()};return tr.on(r,t),i};Up.exports.unload=u_;function u_(){Fp&&(Fp=!1,Bp.forEach(function(t){try{process.removeListener(t,c_[t])}catch{}}),process.emit=a_,process.reallyExit=QP,tr.count-=1)}function sc(t,e,r){tr.emitted[t]||(tr.emitted[t]=!0,tr.emit(t,e,r))}var c_={};Bp.forEach(function(t){c_[t]=function(){var r=process.listeners(t);r.length===tr.count&&(u_(),sc("exit",null,t),sc("afterexit",null,t),AK&&t==="SIGHUP"&&(t="SIGINT"),process.kill(process.pid,t))}});Up.exports.signals=function(){return Bp};Up.exports.load=YP;var Fp=!1;function YP(){Fp||(Fp=!0,tr.count+=1,Bp=Bp.filter(function(t){try{return process.on(t,c_[t]),!0}catch{return!1}}),process.emit=EK,process.reallyExit=SK)}var QP=process.reallyExit;function SK(t){process.exitCode=t||0,sc("exit",process.exitCode,null),sc("afterexit",process.exitCode,null),QP.call(process,process.exitCode)}var a_=process.emit;function EK(t,e){if(t==="exit"){e!==void 0&&(process.exitCode=e);var r=a_.apply(this,arguments);return sc("exit",process.exitCode,null),sc("afterexit",process.exitCode,null),r}else return a_.apply(this,arguments)}});var tD=v((Gfe,eD)=>{"use strict";var xK=w("os"),CK=ZP(),LK=1e3*5,PK=(t,e="SIGTERM",r={})=>{let i=t(e);return DK(t,e,r,i),i},DK=(t,e,r,i)=>{if(!TK(e,r,i))return;let n=MK(r),s=setTimeout(()=>{t("SIGKILL")},n);s.unref&&s.unref()},TK=(t,{forceKillAfterTimeout:e},r)=>$K(t)&&e!==!1&&r,$K=t=>t===xK.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",MK=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return LK;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},kK=(t,e)=>{t.kill()&&(e.isCanceled=!0)},RK=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},OK=(t,{timeout:e,killSignal:r="SIGTERM"},i)=>{if(e===0||e===void 0)return i;let n,s=new Promise((a,u)=>{n=setTimeout(()=>{RK(t,r,u)},e)}),o=i.finally(()=>{clearTimeout(n)});return Promise.race([s,o])},NK=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},BK=async(t,{cleanup:e,detached:r},i)=>{if(!e||r)return i;let n=CK(()=>{t.kill()});return i.finally(()=>{n()})};eD.exports={spawnedKill:PK,spawnedCancel:kK,setupTimeout:OK,validateTimeout:NK,setExitHandler:BK}});var iD=v((Kfe,rD)=>{"use strict";var Dn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Dn.writable=t=>Dn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Dn.readable=t=>Dn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Dn.duplex=t=>Dn.writable(t)&&Dn.readable(t);Dn.transform=t=>Dn.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object";rD.exports=Dn});var sD=v((zfe,nD)=>{"use strict";var{PassThrough:FK}=w("stream");nD.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,i=r==="buffer",n=!1;e?n=!(r||i):r=r||"utf8",i&&(r=null);let s=new FK({objectMode:n});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",u=>{a.push(u),n?o=a.length:o+=u.length}),s.getBufferedValue=()=>e?a:i?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var oD=v((Xfe,jp)=>{"use strict";var{constants:UK}=w("buffer"),jK=w("stream"),{promisify:qK}=w("util"),WK=sD(),VK=qK(jK.pipeline),Hm=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function l_(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,i=WK(e);return await new Promise((n,s)=>{let o=a=>{a&&i.getBufferedLength()<=UK.MAX_LENGTH&&(a.bufferedData=i.getBufferedValue()),s(a)};(async()=>{try{await VK(t,i),n()}catch(a){o(a)}})(),i.on("data",()=>{i.getBufferedLength()>r&&o(new Hm)})}),i.getBufferedValue()}jp.exports=l_;jp.exports.buffer=(t,e)=>l_(t,{...e,encoding:"buffer"});jp.exports.array=(t,e)=>l_(t,{...e,array:!0});jp.exports.MaxBufferError=Hm});var uD=v((Jfe,aD)=>{"use strict";var{PassThrough:GK}=w("stream");aD.exports=function(){var t=[],e=new GK({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=i,e.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(r),e;function r(s){return Array.isArray(s)?(s.forEach(r),this):(t.push(s),s.once("end",n.bind(null,s)),s.once("error",e.emit.bind(e,"error")),s.pipe(e,{end:!1}),this)}function i(){return t.length==0}function n(s){t=t.filter(function(o){return o!==s}),!t.length&&e.readable&&e.end()}}});var fD=v((Yfe,pD)=>{"use strict";var lD=iD(),cD=oD(),KK=uD(),zK=(t,e)=>{e===void 0||t.stdin===void 0||(lD(e)?e.pipe(t.stdin):t.stdin.end(e))},XK=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=KK();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},p_=async(t,e)=>{if(t){t.destroy();try{return await e}catch(r){return r.bufferedData}}},f_=(t,{encoding:e,buffer:r,maxBuffer:i})=>{if(!(!t||!r))return e?cD(t,{encoding:e,maxBuffer:i}):cD.buffer(t,{maxBuffer:i})},JK=async({stdout:t,stderr:e,all:r},{encoding:i,buffer:n,maxBuffer:s},o)=>{let a=f_(t,{encoding:i,buffer:n,maxBuffer:s}),u=f_(e,{encoding:i,buffer:n,maxBuffer:s}),c=f_(r,{encoding:i,buffer:n,maxBuffer:s*2});try{return await Promise.all([o,a,u,c])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},p_(t,a),p_(e,u),p_(r,c)])}},YK=({input:t})=>{if(lD(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};pD.exports={handleInput:zK,makeAllStream:XK,getSpawnedResult:JK,validateInputSync:YK}});var hD=v((Qfe,dD)=>{"use strict";var QK=(async()=>{})().constructor.prototype,ZK=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(QK,t)]),ez=(t,e)=>{for(let[r,i]of ZK){let n=typeof e=="function"?(...s)=>Reflect.apply(i.value,e(),s):i.value.bind(e);Reflect.defineProperty(t,r,{...i,value:n})}return t},tz=t=>new Promise((e,r)=>{t.on("exit",(i,n)=>{e({exitCode:i,signal:n})}),t.on("error",i=>{r(i)}),t.stdin&&t.stdin.on("error",i=>{r(i)})});dD.exports={mergePromise:ez,getSpawnedPromise:tz}});var gD=v((Zfe,HD)=>{"use strict";var mD=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],rz=/^[\w.-]+$/,iz=/"/g,nz=t=>typeof t!="string"||rz.test(t)?t:`"${t.replace(iz,'\\"')}"`,sz=(t,e)=>mD(t,e).join(" "),oz=(t,e)=>mD(t,e).map(r=>nz(r)).join(" "),az=/ +/g,uz=t=>{let e=[];for(let r of t.trim().split(az)){let i=e[e.length-1];i&&i.endsWith("\\")?e[e.length-1]=`${i.slice(0,-1)} ${r}`:e.push(r)}return e};HD.exports={joinCommand:sz,getEscapedCommand:oz,parseCommand:uz}});var h_=v((ede,oc)=>{"use strict";var cz=w("path"),d_=w("child_process"),lz=CP(),pz=PP(),fz=kP(),dz=BP(),gm=KP(),bD=XP(),{spawnedKill:hz,spawnedCancel:mz,setupTimeout:Hz,validateTimeout:gz,setExitHandler:yz}=tD(),{handleInput:bz,getSpawnedResult:vz,makeAllStream:_z,validateInputSync:wz}=fD(),{mergePromise:yD,getSpawnedPromise:Iz}=hD(),{joinCommand:vD,parseCommand:_D,getEscapedCommand:wD}=gD(),Az=1e3*1e3*100,Sz=({env:t,extendEnv:e,preferLocal:r,localDir:i,execPath:n})=>{let s=e?{...process.env,...t}:t;return r?fz.env({env:s,cwd:i,execPath:n}):s},ID=(t,e,r={})=>{let i=lz._parse(t,e,r);return t=i.command,e=i.args,r=i.options,r={maxBuffer:Az,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=Sz(r),r.stdio=bD(r),process.platform==="win32"&&cz.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:i}},qp=(t,e,r)=>typeof e!="string"&&!Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?pz(e):e,ym=(t,e,r)=>{let i=ID(t,e,r),n=vD(t,e),s=wD(t,e);gz(i.options);let o;try{o=d_.spawn(i.file,i.args,i.options)}catch(H){let m=new d_.ChildProcess,y=Promise.reject(gm({error:H,stdout:"",stderr:"",all:"",command:n,escapedCommand:s,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return yD(m,y)}let a=Iz(o),u=Hz(o,i.options,a),c=yz(o,i.options,u),l={isCanceled:!1};o.kill=hz.bind(null,o.kill.bind(o)),o.cancel=mz.bind(null,o,l);let f=dz(async()=>{let[{error:H,exitCode:m,signal:y,timedOut:b},I,B,q]=await vz(o,i.options,c),C=qp(i.options,I),D=qp(i.options,B),G=qp(i.options,q);if(H||m!==0||y!==null){let W=gm({error:H,exitCode:m,signal:y,stdout:C,stderr:D,all:G,command:n,escapedCommand:s,parsed:i,timedOut:b,isCanceled:l.isCanceled,killed:o.killed});if(!i.options.reject)return W;throw W}return{command:n,escapedCommand:s,exitCode:0,stdout:C,stderr:D,all:G,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return bz(o,i.options.input),o.all=_z(o,i.options),yD(o,f)};oc.exports=ym;oc.exports.sync=(t,e,r)=>{let i=ID(t,e,r),n=vD(t,e),s=wD(t,e);wz(i.options);let o;try{o=d_.spawnSync(i.file,i.args,i.options)}catch(c){throw gm({error:c,stdout:"",stderr:"",all:"",command:n,escapedCommand:s,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let a=qp(i.options,o.stdout,o.error),u=qp(i.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=gm({stdout:a,stderr:u,error:o.error,signal:o.signal,exitCode:o.status,command:n,escapedCommand:s,parsed:i,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!i.options.reject)return c;throw c}return{command:n,escapedCommand:s,exitCode:0,stdout:a,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};oc.exports.command=(t,e)=>{let[r,...i]=_D(t);return ym(r,i,e)};oc.exports.commandSync=(t,e)=>{let[r,...i]=_D(t);return ym.sync(r,i,e)};oc.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(r=e,e=[]);let i=bD.node(r),n=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:o=n}=r;return ym(s,[...o,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var tT=v((Rde,Qp)=>{var ZD={};ZD.__wbindgen_placeholder__=Qp.exports;var Xi,{TextDecoder:Vz}=w("util"),eT=new Vz("utf-8",{ignoreBOM:!0,fatal:!0});eT.decode();var Tm=null;function P_(){return(Tm===null||Tm.buffer!==Xi.memory.buffer)&&(Tm=new Uint8Array(Xi.memory.buffer)),Tm}function Gz(t,e){return eT.decode(P_().subarray(t,t+e))}var L_=0;function QD(t,e){let r=e(t.length*1);return P_().set(t,r/1),L_=t.length,r}var Hc=class{static __wrap(e){let r=Object.create(Hc.prototype);return r.ptr=e,r}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();Xi.__wbg_hasher_free(e)}constructor(){var e=Xi.hasher_new();return Hc.__wrap(e)}update(e){var r=QD(e,Xi.__wbindgen_malloc),i=L_;Xi.hasher_update(this.ptr,r,i)}digest(e){try{var r=QD(e,Xi.__wbindgen_malloc),i=L_;Xi.hasher_digest(this.ptr,r,i)}finally{e.set(P_().subarray(r/1,r/1+i)),Xi.__wbindgen_free(r,i*1)}}};Qp.exports.Hasher=Hc;Qp.exports.__wbindgen_throw=function(t,e){throw new Error(Gz(t,e))};var Kz=w("path").join(__dirname,"chromehash_bg.wasm"),zz=w("fs").readFileSync(Kz),Xz=new WebAssembly.Module(zz),Jz=new WebAssembly.Instance(Xz,ZD);Xi=Jz.exports;Qp.exports.__wasm=Xi});var aT=v(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.shaHashFile=Mn.hashFile=Mn.shaHash=Mn.hash=void 0;var nT=tT(),sT=w("fs"),rT=w("string_decoder"),oT=w("crypto"),Mm=Buffer.alloc(4*5),Yz=t=>{let e=new nT.Hasher;return e.update(tX(t)),e.digest(Mm),e.free(),Mm.toString("hex")};Mn.hash=Yz;var Qz=t=>{let e=(0,oT.createHash)("sha256");return e.update(rX(t)),e.digest("hex")};Mn.shaHash=Qz;var Zz=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),i=new nT.Hasher,n;try{n=await sT.promises.open(t,"r");let s=await n.read(r,0,r.length,null),o=r.slice(0,s.bytesRead);if(Rm(o))for(i.update(o.slice(2));s.bytesRead===r.length;)s=await n.read(r,0,r.length,null),i.update(r.slice(0,s.bytesRead));else if(Om(o))for(i.update(o.slice(2).swap16());s.bytesRead===r.length;)s=await n.read(r,0,r.length,null),i.update(r.slice(0,s.bytesRead).swap16());else if(km(o)){let a=new rT.StringDecoder("utf8");for(i.update(Buffer.from(a.write(o.slice(3)),"utf16le"));s.bytesRead===r.length;)s=await n.read(r,0,r.length,null),i.update(Buffer.from(a.write(r.slice(0,s.bytesRead)),"utf16le"))}else{let a=new rT.StringDecoder("utf8");for(i.update(Buffer.from(a.write(o),"utf16le"));s.bytesRead===r.length;)s=await n.read(r,0,r.length,null),i.update(Buffer.from(a.write(r.slice(0,s.bytesRead)),"utf16le"))}return i.digest(Mm),Mm.toString("hex")}finally{i.free(),n!==void 0&&await n.close()}};Mn.hashFile=Zz;var $m={stream:!0},eX=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),i=(0,oT.createHash)("sha256"),n;try{n=await sT.promises.open(t,"r");let s=await n.read(r,0,r.length,null),o=r.slice(0,s.bytesRead);if(Rm(o)){let a=new TextDecoder("utf-16le");for(i.update(a.decode(o.slice(2),$m));s.bytesRead>0;)s=await n.read(r,0,r.length,null),i.update(a.decode(r.slice(0,s.bytesRead),$m))}else if(Om(o)){let a=new TextDecoder("utf-16be");for(i.update(a.decode(o.slice(2),$m));s.bytesRead>0;)s=await n.read(r,0,r.length,null),i.update(a.decode(r.slice(0,s.bytesRead),$m))}else if(km(o))for(i.update(o.slice(3));s.bytesRead>0;)s=await n.read(r,0,r.length,null),i.update(r.slice(0,s.bytesRead));else for(i.update(o);s.bytesRead>0;)s=await n.read(r,0,r.length,null),i.update(r.slice(0,s.bytesRead));return i.digest("hex")}finally{await(n==null?void 0:n.close())}};Mn.shaHashFile=eX;var km=t=>t.length>=3&&t[0]===239&&t[1]===187&&t[2]===191,Rm=t=>t.length>=2&&t[0]===255&&t[1]===254,Om=t=>t.length>=2&&t[0]===254&&t[1]===255,tX=t=>km(t)?iT(t.slice(3)):Rm(t)?t.slice(2):Om(t)?t.slice(2).swap16():iT(t),rX=t=>km(t)?t.slice(3):Rm(t)?new TextEncoder().encode(new TextDecoder("utf-16le").decode(t.slice(2))):Om(t)?new TextEncoder().encode(new TextDecoder("utf-16be").decode(t.slice(2))):t,iT=t=>Buffer.from(t.toString("utf8"),"utf16le")});var nH=v(Ii=>{"use strict";Ii.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Ii.find=(t,e)=>t.nodes.find(r=>r.type===e);Ii.exceedsLimit=(t,e,r=1,i)=>i===!1||!Ii.isInteger(t)||!Ii.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=i;Ii.escapeNode=(t,e=0,r)=>{let i=t.nodes[e];i&&(r&&i.type===r||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)};Ii.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);Ii.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Ii.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Ii.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);Ii.flatten=(...t)=>{let e=[],r=i=>{for(let n=0;n<i.length;n++){let s=i[n];Array.isArray(s)?r(s,e):s!==void 0&&e.push(s)}return e};return r(t),e}});var sH=v((lge,d$)=>{"use strict";var f$=nH();d$.exports=(t,e={})=>{let r=(i,n={})=>{let s=e.escapeInvalid&&f$.isInvalidBrace(n),o=i.invalid===!0&&e.escapeInvalid===!0,a="";if(i.value)return(s||o)&&f$.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(let u of i.nodes)a+=r(u);return a};return r(t)}});var m$=v((pge,h$)=>{"use strict";h$.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var A$=v((fge,I$)=>{"use strict";var H$=m$(),Na=(t,e,r)=>{if(H$(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(H$(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...r};typeof i.strictZeros=="boolean"&&(i.relaxZeros=i.strictZeros===!1);let n=String(i.relaxZeros),s=String(i.shorthand),o=String(i.capture),a=String(i.wrap),u=t+":"+e+"="+n+s+o+a;if(Na.cache.hasOwnProperty(u))return Na.cache[u].result;let c=Math.min(t,e),l=Math.max(t,e);if(Math.abs(c-l)===1){let y=t+"|"+e;return i.capture?`(${y})`:i.wrap===!1?y:`(?:${y})`}let p=w$(t)||w$(e),f={min:t,max:e,a:c,b:l},H=[],m=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),c<0){let y=l<0?Math.abs(l):1;m=g$(y,Math.abs(c),f,i),c=f.a=0}return l>=0&&(H=g$(c,l,f,i)),f.negatives=m,f.positives=H,f.result=UX(m,H,i),i.capture===!0?f.result=`(${f.result})`:i.wrap!==!1&&H.length+m.length>1&&(f.result=`(?:${f.result})`),Na.cache[u]=f,f.result};function UX(t,e,r){let i=X_(t,e,"-",!1,r)||[],n=X_(e,t,"",!1,r)||[],s=X_(t,e,"-?",!0,r)||[];return i.concat(s).concat(n).join("|")}function jX(t,e){let r=1,i=1,n=b$(t,r),s=new Set([e]);for(;t<=n&&n<=e;)s.add(n),r+=1,n=b$(t,r);for(n=v$(e+1,i)-1;t<n&&n<=e;)s.add(n),i+=1,n=v$(e+1,i)-1;return s=[...s],s.sort(VX),s}function qX(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let i=WX(t,e),n=i.length,s="",o=0;for(let a=0;a<n;a++){let[u,c]=i[a];u===c?s+=u:u!=="0"||c!=="9"?s+=GX(u,c,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:n}}function g$(t,e,r,i){let n=jX(t,e),s=[],o=t,a;for(let u=0;u<n.length;u++){let c=n[u],l=qX(String(o),String(c),i),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+_$(a.count),o=c+1;continue}r.isPadded&&(p=KX(c,r,i)),l.string=p+l.pattern+_$(l.count),s.push(l),o=c+1,a=l}return s}function X_(t,e,r,i,n){let s=[];for(let o of t){let{string:a}=o;!i&&!y$(e,"string",a)&&s.push(r+a),i&&y$(e,"string",a)&&s.push(r+a)}return s}function WX(t,e){let r=[];for(let i=0;i<t.length;i++)r.push([t[i],e[i]]);return r}function VX(t,e){return t>e?1:e>t?-1:0}function y$(t,e,r){return t.some(i=>i[e]===r)}function b$(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function v$(t,e){return t-t%Math.pow(10,e)}function _$(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function GX(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function w$(t){return/^-?(0+)\d/.test(t)}function KX(t,e,r){if(!e.isPadded)return t;let i=Math.abs(e.maxLen-String(t).length),n=r.relaxZeros!==!1;switch(i){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${i}}`:`0{${i}}`}}Na.cache={};Na.clearCache=()=>Na.cache={};I$.exports=Na});var Q_=v((dge,T$)=>{"use strict";var zX=w("util"),x$=A$(),S$=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),XX=t=>e=>t===!0?Number(e):String(e),J_=t=>typeof t=="number"||typeof t=="string"&&t!=="",df=t=>Number.isInteger(+t),Y_=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},JX=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,YX=(t,e,r)=>{if(e>0){let i=t[0]==="-"?"-":"";i&&(t=t.slice(1)),t=i+t.padStart(i?e-1:e,"0")}return r===!1?String(t):t},E$=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},QX=(t,e)=>{t.negatives.sort((o,a)=>o<a?-1:o>a?1:0),t.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=e.capture?"":"?:",i="",n="",s;return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(n=`-(${r}${t.negatives.join("|")})`),i&&n?s=`${i}|${n}`:s=i||n,e.wrap?`(${r}${s})`:s},C$=(t,e,r,i)=>{if(r)return x$(t,e,{wrap:!1,...i});let n=String.fromCharCode(t);if(t===e)return n;let s=String.fromCharCode(e);return`[${n}-${s}]`},L$=(t,e,r)=>{if(Array.isArray(t)){let i=r.wrap===!0,n=r.capture?"":"?:";return i?`(${n}${t.join("|")})`:t.join("|")}return x$(t,e,r)},P$=(...t)=>new RangeError("Invalid range arguments: "+zX.inspect(...t)),D$=(t,e,r)=>{if(r.strictRanges===!0)throw P$([t,e]);return[]},ZX=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},e7=(t,e,r=1,i={})=>{let n=Number(t),s=Number(e);if(!Number.isInteger(n)||!Number.isInteger(s)){if(i.strictRanges===!0)throw P$([t,e]);return[]}n===0&&(n=0),s===0&&(s=0);let o=n>s,a=String(t),u=String(e),c=String(r);r=Math.max(Math.abs(r),1);let l=Y_(a)||Y_(u)||Y_(c),p=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&JX(t,e,i)===!1,H=i.transform||XX(f);if(i.toRegex&&r===1)return C$(E$(t,p),E$(e,p),!0,i);let m={negatives:[],positives:[]},y=B=>m[B<0?"negatives":"positives"].push(Math.abs(B)),b=[],I=0;for(;o?n>=s:n<=s;)i.toRegex===!0&&r>1?y(n):b.push(YX(H(n,I),p,f)),n=o?n-r:n+r,I++;return i.toRegex===!0?r>1?QX(m,i):L$(b,null,{wrap:!1,...i}):b},t7=(t,e,r=1,i={})=>{if(!df(t)&&t.length>1||!df(e)&&e.length>1)return D$(t,e,i);let n=i.transform||(f=>String.fromCharCode(f)),s=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=s>o,u=Math.min(s,o),c=Math.max(s,o);if(i.toRegex&&r===1)return C$(u,c,!1,i);let l=[],p=0;for(;a?s>=o:s<=o;)l.push(n(s,p)),s=a?s-r:s+r,p++;return i.toRegex===!0?L$(l,null,{wrap:!1,options:i}):l},oH=(t,e,r,i={})=>{if(e==null&&J_(t))return[t];if(!J_(t)||!J_(e))return D$(t,e,i);if(typeof r=="function")return oH(t,e,1,{transform:r});if(S$(r))return oH(t,e,0,r);let n={...i};return n.capture===!0&&(n.wrap=!0),r=r||n.step||1,df(r)?df(t)&&df(e)?e7(t,e,r,n):t7(t,e,Math.max(Math.abs(r),1),n):r!=null&&!S$(r)?ZX(r,n):oH(t,e,1,r)};T$.exports=oH});var k$=v((hge,M$)=>{"use strict";var r7=Q_(),$$=nH(),i7=(t,e={})=>{let r=(i,n={})=>{let s=$$.isInvalidBrace(n),o=i.invalid===!0&&e.escapeInvalid===!0,a=s===!0||o===!0,u=e.escapeInvalid===!0?"\\":"",c="";if(i.isOpen===!0||i.isClose===!0)return u+i.value;if(i.type==="open")return a?u+i.value:"(";if(i.type==="close")return a?u+i.value:")";if(i.type==="comma")return i.prev.type==="comma"?"":a?i.value:"|";if(i.value)return i.value;if(i.nodes&&i.ranges>0){let l=$$.reduce(i.nodes),p=r7(...l,{...e,wrap:!1,toRegex:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(i.nodes)for(let l of i.nodes)c+=r(l,i);return c};return r(t)};M$.exports=i7});var N$=v((mge,O$)=>{"use strict";var n7=Q_(),R$=sH(),kc=nH(),Ba=(t="",e="",r=!1)=>{let i=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?kc.flatten(e).map(n=>`{${n}}`):e;for(let n of t)if(Array.isArray(n))for(let s of n)i.push(Ba(s,e,r));else for(let s of e)r===!0&&typeof s=="string"&&(s=`{${s}}`),i.push(Array.isArray(s)?Ba(n,s,r):n+s);return kc.flatten(i)},s7=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,i=(n,s={})=>{n.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(n.invalid||n.dollar){a.push(Ba(a.pop(),R$(n,e)));return}if(n.type==="brace"&&n.invalid!==!0&&n.nodes.length===2){a.push(Ba(a.pop(),["{}"]));return}if(n.nodes&&n.ranges>0){let p=kc.reduce(n.nodes);if(kc.exceedsLimit(...p,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=n7(...p,e);f.length===0&&(f=R$(n,e)),a.push(Ba(a.pop(),f)),n.nodes=[];return}let u=kc.encloseBrace(n),c=n.queue,l=n;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let p=0;p<n.nodes.length;p++){let f=n.nodes[p];if(f.type==="comma"&&n.type==="brace"){p===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(Ba(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(Ba(c.pop(),f.value));continue}f.nodes&&i(f,n)}return c};return kc.flatten(i(t))};O$.exports=s7});var F$=v((Hge,B$)=>{"use strict";B$.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var V$=v((gge,W$)=>{"use strict";var o7=sH(),{MAX_LENGTH:U$,CHAR_BACKSLASH:Z_,CHAR_BACKTICK:a7,CHAR_COMMA:u7,CHAR_DOT:c7,CHAR_LEFT_PARENTHESES:l7,CHAR_RIGHT_PARENTHESES:p7,CHAR_LEFT_CURLY_BRACE:f7,CHAR_RIGHT_CURLY_BRACE:d7,CHAR_LEFT_SQUARE_BRACKET:j$,CHAR_RIGHT_SQUARE_BRACKET:q$,CHAR_DOUBLE_QUOTE:h7,CHAR_SINGLE_QUOTE:m7,CHAR_NO_BREAK_SPACE:H7,CHAR_ZERO_WIDTH_NOBREAK_SPACE:g7}=F$(),y7=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},i=typeof r.maxLength=="number"?Math.min(U$,r.maxLength):U$;if(t.length>i)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${i})`);let n={type:"root",input:t,nodes:[]},s=[n],o=n,a=n,u=0,c=t.length,l=0,p=0,f,H={},m=()=>t[l++],y=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return o.nodes.push(b),b.parent=o,b.prev=a,a=b,b};for(y({type:"bos"});l<c;)if(o=s[s.length-1],f=m(),!(f===g7||f===H7)){if(f===Z_){y({type:"text",value:(e.keepEscaping?f:"")+m()});continue}if(f===q$){y({type:"text",value:"\\"+f});continue}if(f===j$){u++;let b=!0,I;for(;l<c&&(I=m());){if(f+=I,I===j$){u++;continue}if(I===Z_){f+=m();continue}if(I===q$&&(u--,u===0))break}y({type:"text",value:f});continue}if(f===l7){o=y({type:"paren",nodes:[]}),s.push(o),y({type:"text",value:f});continue}if(f===p7){if(o.type!=="paren"){y({type:"text",value:f});continue}o=s.pop(),y({type:"text",value:f}),o=s[s.length-1];continue}if(f===h7||f===m7||f===a7){let b=f,I;for(e.keepQuotes!==!0&&(f="");l<c&&(I=m());){if(I===Z_){f+=I+m();continue}if(I===b){e.keepQuotes===!0&&(f+=I);break}f+=I}y({type:"text",value:f});continue}if(f===f7){p++;let I={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};o=y(I),s.push(o),y({type:"open",value:f});continue}if(f===d7){if(o.type!=="brace"){y({type:"text",value:f});continue}let b="close";o=s.pop(),o.close=!0,y({type:b,value:f}),p--,o=s[s.length-1];continue}if(f===u7&&p>0){if(o.ranges>0){o.ranges=0;let b=o.nodes.shift();o.nodes=[b,{type:"text",value:o7(o)}]}y({type:"comma",value:f}),o.commas++;continue}if(f===c7&&p>0&&o.commas===0){let b=o.nodes;if(p===0||b.length===0){y({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){b.pop();let I=b[b.length-1];I.value+=a.value+f,a=I,o.ranges--;continue}y({type:"dot",value:f});continue}y({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(B=>{B.nodes||(B.type==="open"&&(B.isOpen=!0),B.type==="close"&&(B.isClose=!0),B.nodes||(B.type="text"),B.invalid=!0)});let b=s[s.length-1],I=b.nodes.indexOf(o);b.nodes.splice(I,1,...o.nodes)}while(s.length>0);return y({type:"eos"}),n};W$.exports=y7});var z$=v((yge,K$)=>{"use strict";var G$=sH(),b7=k$(),v7=N$(),_7=V$(),Zr=(t,e={})=>{let r=[];if(Array.isArray(t))for(let i of t){let n=Zr.create(i,e);Array.isArray(n)?r.push(...n):r.push(n)}else r=[].concat(Zr.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Zr.parse=(t,e={})=>_7(t,e);Zr.stringify=(t,e={})=>G$(typeof t=="string"?Zr.parse(t,e):t,e);Zr.compile=(t,e={})=>(typeof t=="string"&&(t=Zr.parse(t,e)),b7(t,e));Zr.expand=(t,e={})=>{typeof t=="string"&&(t=Zr.parse(t,e));let r=v7(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Zr.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Zr.compile(t,e):Zr.expand(t,e);K$.exports=Zr});var hf=v((bge,Z$)=>{"use strict";var w7=w("path"),Un="\\\\/",X$=`[^${Un}]`,_s="\\.",I7="\\+",A7="\\?",aH="\\/",S7="(?=.)",J$="[^/]",e0=`(?:${aH}|$)`,Y$=`(?:^|${aH})`,t0=`${_s}{1,2}${e0}`,E7=`(?!${_s})`,x7=`(?!${Y$}${t0})`,C7=`(?!${_s}{0,1}${e0})`,L7=`(?!${t0})`,P7=`[^.${aH}]`,D7=`${J$}*?`,Q$={DOT_LITERAL:_s,PLUS_LITERAL:I7,QMARK_LITERAL:A7,SLASH_LITERAL:aH,ONE_CHAR:S7,QMARK:J$,END_ANCHOR:e0,DOTS_SLASH:t0,NO_DOT:E7,NO_DOTS:x7,NO_DOT_SLASH:C7,NO_DOTS_SLASH:L7,QMARK_NO_DOT:P7,STAR:D7,START_ANCHOR:Y$},T7={...Q$,SLASH_LITERAL:`[${Un}]`,QMARK:X$,STAR:`${X$}*?`,DOTS_SLASH:`${_s}{1,2}(?:[${Un}]|$)`,NO_DOT:`(?!${_s})`,NO_DOTS:`(?!(?:^|[${Un}])${_s}{1,2}(?:[${Un}]|$))`,NO_DOT_SLASH:`(?!${_s}{0,1}(?:[${Un}]|$))`,NO_DOTS_SLASH:`(?!${_s}{1,2}(?:[${Un}]|$))`,QMARK_NO_DOT:`[^.${Un}]`,START_ANCHOR:`(?:^|[${Un}])`,END_ANCHOR:`(?:[${Un}]|$)`},$7={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Z$.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:$7,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:w7.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?T7:Q$}}});var mf=v(Ur=>{"use strict";var M7=w("path"),k7=process.platform==="win32",{REGEX_BACKSLASH:R7,REGEX_REMOVE_BACKSLASH:O7,REGEX_SPECIAL_CHARS:N7,REGEX_SPECIAL_CHARS_GLOBAL:B7}=hf();Ur.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);Ur.hasRegexChars=t=>N7.test(t);Ur.isRegexChar=t=>t.length===1&&Ur.hasRegexChars(t);Ur.escapeRegex=t=>t.replace(B7,"\\$1");Ur.toPosixSlashes=t=>t.replace(R7,"/");Ur.removeBackslashes=t=>t.replace(O7,e=>e==="\\"?"":e);Ur.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};Ur.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:k7===!0||M7.sep==="\\";Ur.escapeLast=(t,e,r)=>{let i=t.lastIndexOf(e,r);return i===-1?t:t[i-1]==="\\"?Ur.escapeLast(t,e,i-1):`${t.slice(0,i)}\\${t.slice(i)}`};Ur.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};Ur.wrapOutput=(t,e={},r={})=>{let i=r.contains?"":"^",n=r.contains?"":"$",s=`${i}(?:${t})${n}`;return e.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var a1=v((_ge,o1)=>{"use strict";var e1=mf(),{CHAR_ASTERISK:r0,CHAR_AT:F7,CHAR_BACKWARD_SLASH:Hf,CHAR_COMMA:U7,CHAR_DOT:i0,CHAR_EXCLAMATION_MARK:n0,CHAR_FORWARD_SLASH:s1,CHAR_LEFT_CURLY_BRACE:s0,CHAR_LEFT_PARENTHESES:o0,CHAR_LEFT_SQUARE_BRACKET:j7,CHAR_PLUS:q7,CHAR_QUESTION_MARK:t1,CHAR_RIGHT_CURLY_BRACE:W7,CHAR_RIGHT_PARENTHESES:r1,CHAR_RIGHT_SQUARE_BRACKET:V7}=hf(),i1=t=>t===s1||t===Hf,n1=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},G7=(t,e)=>{let r=e||{},i=t.length-1,n=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=t,c=-1,l=0,p=0,f=!1,H=!1,m=!1,y=!1,b=!1,I=!1,B=!1,q=!1,C=!1,D=!1,G=0,W,N,M={value:"",depth:0,isGlob:!1},O=()=>c>=i,S=()=>u.charCodeAt(c+1),$=()=>(W=N,u.charCodeAt(++c));for(;c<i;){N=$();let ee;if(N===Hf){B=M.backslashes=!0,N=$(),N===s0&&(I=!0);continue}if(I===!0||N===s0){for(G++;O()!==!0&&(N=$());){if(N===Hf){B=M.backslashes=!0,$();continue}if(N===s0){G++;continue}if(I!==!0&&N===i0&&(N=$())===i0){if(f=M.isBrace=!0,m=M.isGlob=!0,D=!0,n===!0)continue;break}if(I!==!0&&N===U7){if(f=M.isBrace=!0,m=M.isGlob=!0,D=!0,n===!0)continue;break}if(N===W7&&(G--,G===0)){I=!1,f=M.isBrace=!0,D=!0;break}}if(n===!0)continue;break}if(N===s1){if(s.push(c),o.push(M),M={value:"",depth:0,isGlob:!1},D===!0)continue;if(W===i0&&c===l+1){l+=2;continue}p=c+1;continue}if(r.noext!==!0&&(N===q7||N===F7||N===r0||N===t1||N===n0)===!0&&S()===o0){if(m=M.isGlob=!0,y=M.isExtglob=!0,D=!0,N===n0&&c===l&&(C=!0),n===!0){for(;O()!==!0&&(N=$());){if(N===Hf){B=M.backslashes=!0,N=$();continue}if(N===r1){m=M.isGlob=!0,D=!0;break}}continue}break}if(N===r0){if(W===r0&&(b=M.isGlobstar=!0),m=M.isGlob=!0,D=!0,n===!0)continue;break}if(N===t1){if(m=M.isGlob=!0,D=!0,n===!0)continue;break}if(N===j7){for(;O()!==!0&&(ee=$());){if(ee===Hf){B=M.backslashes=!0,$();continue}if(ee===V7){H=M.isBracket=!0,m=M.isGlob=!0,D=!0;break}}if(n===!0)continue;break}if(r.nonegate!==!0&&N===n0&&c===l){q=M.negated=!0,l++;continue}if(r.noparen!==!0&&N===o0){if(m=M.isGlob=!0,n===!0){for(;O()!==!0&&(N=$());){if(N===o0){B=M.backslashes=!0,N=$();continue}if(N===r1){D=!0;break}}continue}break}if(m===!0){if(D=!0,n===!0)continue;break}}r.noext===!0&&(y=!1,m=!1);let R=u,X="",L="";l>0&&(X=u.slice(0,l),u=u.slice(l),p-=l),R&&m===!0&&p>0?(R=u.slice(0,p),L=u.slice(p)):m===!0?(R="",L=u):R=u,R&&R!==""&&R!=="/"&&R!==u&&i1(R.charCodeAt(R.length-1))&&(R=R.slice(0,-1)),r.unescape===!0&&(L&&(L=e1.removeBackslashes(L)),R&&B===!0&&(R=e1.removeBackslashes(R)));let P={prefix:X,input:t,start:l,base:R,glob:L,isBrace:f,isBracket:H,isGlob:m,isExtglob:y,isGlobstar:b,negated:q,negatedExtglob:C};if(r.tokens===!0&&(P.maxDepth=0,i1(N)||o.push(M),P.tokens=o),r.parts===!0||r.tokens===!0){let ee;for(let re=0;re<s.length;re++){let se=ee?ee+1:l,oe=s[re],ie=t.slice(se,oe);r.tokens&&(re===0&&l!==0?(o[re].isPrefix=!0,o[re].value=X):o[re].value=ie,n1(o[re]),P.maxDepth+=o[re].depth),(re!==0||ie!=="")&&a.push(ie),ee=oe}if(ee&&ee+1<t.length){let re=t.slice(ee+1);a.push(re),r.tokens&&(o[o.length-1].value=re,n1(o[o.length-1]),P.maxDepth+=o[o.length-1].depth)}P.slashes=s,P.parts=a}return P};o1.exports=G7});var l1=v((wge,c1)=>{"use strict";var uH=hf(),ei=mf(),{MAX_LENGTH:cH,POSIX_REGEX_SOURCE:K7,REGEX_NON_SPECIAL_CHARS:z7,REGEX_SPECIAL_CHARS_BACKREF:X7,REPLACEMENTS:u1}=uH,J7=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(n=>ei.escapeRegex(n)).join("..")}return r},Rc=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,a0=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=u1[t]||t;let r={...e},i=typeof r.maxLength=="number"?Math.min(cH,r.maxLength):cH,n=t.length;if(n>i)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${i}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=ei.isWindows(e),c=uH.globChars(u),l=uH.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:H,ONE_CHAR:m,DOTS_SLASH:y,NO_DOT:b,NO_DOT_SLASH:I,NO_DOTS_SLASH:B,QMARK:q,QMARK_NO_DOT:C,STAR:D,START_ANCHOR:G}=c,W=Q=>`(${a}(?:(?!${G}${Q.dot?y:p}).)*?)`,N=r.dot?"":b,M=r.dot?q:C,O=r.bash===!0?W(r):D;r.capture&&(O=`(${O})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let S={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=ei.removePrefix(t,S),n=t.length;let $=[],R=[],X=[],L=s,P,ee=()=>S.index===n-1,re=S.peek=(Q=1)=>t[S.index+Q],se=S.advance=()=>t[++S.index]||"",oe=()=>t.slice(S.index+1),ie=(Q="",Le=0)=>{S.consumed+=Q,S.index+=Le},de=Q=>{S.output+=Q.output!=null?Q.output:Q.value,ie(Q.value)},we=()=>{let Q=1;for(;re()==="!"&&(re(2)!=="("||re(3)==="?");)se(),S.start++,Q++;return Q%2===0?!1:(S.negated=!0,S.start++,!0)},He=Q=>{S[Q]++,X.push(Q)},Et=Q=>{S[Q]--,X.pop()},be=Q=>{if(L.type==="globstar"){let Le=S.braces>0&&(Q.type==="comma"||Q.type==="brace"),Y=Q.extglob===!0||$.length&&(Q.type==="pipe"||Q.type==="paren");Q.type!=="slash"&&Q.type!=="paren"&&!Le&&!Y&&(S.output=S.output.slice(0,-L.output.length),L.type="star",L.value="*",L.output=O,S.output+=L.output)}if($.length&&Q.type!=="paren"&&($[$.length-1].inner+=Q.value),(Q.value||Q.output)&&de(Q),L&&L.type==="text"&&Q.type==="text"){L.value+=Q.value,L.output=(L.output||"")+Q.value;return}Q.prev=L,o.push(Q),L=Q},br=(Q,Le)=>{let Y={...l[Le],conditions:1,inner:""};Y.prev=L,Y.parens=S.parens,Y.output=S.output;let ge=(r.capture?"(":"")+Y.open;He("parens"),be({type:Q,value:Le,output:S.output?"":m}),be({type:"paren",extglob:!0,value:se(),output:ge}),$.push(Y)},Gr=Q=>{let Le=Q.close+(r.capture?")":""),Y;if(Q.type==="negate"){let ge=O;if(Q.inner&&Q.inner.length>1&&Q.inner.includes("/")&&(ge=W(r)),(ge!==O||ee()||/^\)+$/.test(oe()))&&(Le=Q.close=`)$))${ge}`),Q.inner.includes("*")&&(Y=oe())&&/^\.[^\\/.]+$/.test(Y)){let Be=a0(Y,{...e,fastpaths:!1}).output;Le=Q.close=`)${Be})${ge})`}Q.prev.type==="bos"&&(S.negatedExtglob=!0)}be({type:"paren",extglob:!0,value:P,output:Le}),Et("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let Q=!1,Le=t.replace(X7,(Y,ge,Be,ct,mt,Ks)=>ct==="\\"?(Q=!0,Y):ct==="?"?ge?ge+ct+(mt?q.repeat(mt.length):""):Ks===0?M+(mt?q.repeat(mt.length):""):q.repeat(Be.length):ct==="."?p.repeat(Be.length):ct==="*"?ge?ge+ct+(mt?O:""):O:ge?Y:`\\${Y}`);return Q===!0&&(r.unescape===!0?Le=Le.replace(/\\/g,""):Le=Le.replace(/\\+/g,Y=>Y.length%2===0?"\\\\":Y?"\\":"")),Le===t&&r.contains===!0?(S.output=t,S):(S.output=ei.wrapOutput(Le,S,e),S)}for(;!ee();){if(P=se(),P==="\0")continue;if(P==="\\"){let Y=re();if(Y==="/"&&r.bash!==!0||Y==="."||Y===";")continue;if(!Y){P+="\\",be({type:"text",value:P});continue}let ge=/^\\+/.exec(oe()),Be=0;if(ge&&ge[0].length>2&&(Be=ge[0].length,S.index+=Be,Be%2!==0&&(P+="\\")),r.unescape===!0?P=se():P+=se(),S.brackets===0){be({type:"text",value:P});continue}}if(S.brackets>0&&(P!=="]"||L.value==="["||L.value==="[^")){if(r.posix!==!1&&P===":"){let Y=L.value.slice(1);if(Y.includes("[")&&(L.posix=!0,Y.includes(":"))){let ge=L.value.lastIndexOf("["),Be=L.value.slice(0,ge),ct=L.value.slice(ge+2),mt=K7[ct];if(mt){L.value=Be+mt,S.backtrack=!0,se(),!s.output&&o.indexOf(L)===1&&(s.output=m);continue}}}(P==="["&&re()!==":"||P==="-"&&re()==="]")&&(P=`\\${P}`),P==="]"&&(L.value==="["||L.value==="[^")&&(P=`\\${P}`),r.posix===!0&&P==="!"&&L.value==="["&&(P="^"),L.value+=P,de({value:P});continue}if(S.quotes===1&&P!=='"'){P=ei.escapeRegex(P),L.value+=P,de({value:P});continue}if(P==='"'){S.quotes=S.quotes===1?0:1,r.keepQuotes===!0&&be({type:"text",value:P});continue}if(P==="("){He("parens"),be({type:"paren",value:P});continue}if(P===")"){if(S.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Rc("opening","("));let Y=$[$.length-1];if(Y&&S.parens===Y.parens+1){Gr($.pop());continue}be({type:"paren",value:P,output:S.parens?")":"\\)"}),Et("parens");continue}if(P==="["){if(r.nobracket===!0||!oe().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Rc("closing","]"));P=`\\${P}`}else He("brackets");be({type:"bracket",value:P});continue}if(P==="]"){if(r.nobracket===!0||L&&L.type==="bracket"&&L.value.length===1){be({type:"text",value:P,output:`\\${P}`});continue}if(S.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Rc("opening","["));be({type:"text",value:P,output:`\\${P}`});continue}Et("brackets");let Y=L.value.slice(1);if(L.posix!==!0&&Y[0]==="^"&&!Y.includes("/")&&(P=`/${P}`),L.value+=P,de({value:P}),r.literalBrackets===!1||ei.hasRegexChars(Y))continue;let ge=ei.escapeRegex(L.value);if(S.output=S.output.slice(0,-L.value.length),r.literalBrackets===!0){S.output+=ge,L.value=ge;continue}L.value=`(${a}${ge}|${L.value})`,S.output+=L.value;continue}if(P==="{"&&r.nobrace!==!0){He("braces");let Y={type:"brace",value:P,output:"(",outputIndex:S.output.length,tokensIndex:S.tokens.length};R.push(Y),be(Y);continue}if(P==="}"){let Y=R[R.length-1];if(r.nobrace===!0||!Y){be({type:"text",value:P,output:P});continue}let ge=")";if(Y.dots===!0){let Be=o.slice(),ct=[];for(let mt=Be.length-1;mt>=0&&(o.pop(),Be[mt].type!=="brace");mt--)Be[mt].type!=="dots"&&ct.unshift(Be[mt].value);ge=J7(ct,r),S.backtrack=!0}if(Y.comma!==!0&&Y.dots!==!0){let Be=S.output.slice(0,Y.outputIndex),ct=S.tokens.slice(Y.tokensIndex);Y.value=Y.output="\\{",P=ge="\\}",S.output=Be;for(let mt of ct)S.output+=mt.output||mt.value}be({type:"brace",value:P,output:ge}),Et("braces"),R.pop();continue}if(P==="|"){$.length>0&&$[$.length-1].conditions++,be({type:"text",value:P});continue}if(P===","){let Y=P,ge=R[R.length-1];ge&&X[X.length-1]==="braces"&&(ge.comma=!0,Y="|"),be({type:"comma",value:P,output:Y});continue}if(P==="/"){if(L.type==="dot"&&S.index===S.start+1){S.start=S.index+1,S.consumed="",S.output="",o.pop(),L=s;continue}be({type:"slash",value:P,output:H});continue}if(P==="."){if(S.braces>0&&L.type==="dot"){L.value==="."&&(L.output=p);let Y=R[R.length-1];L.type="dots",L.output+=P,L.value+=P,Y.dots=!0;continue}if(S.braces+S.parens===0&&L.type!=="bos"&&L.type!=="slash"){be({type:"text",value:P,output:p});continue}be({type:"dot",value:P,output:p});continue}if(P==="?"){if(!(L&&L.value==="(")&&r.noextglob!==!0&&re()==="("&&re(2)!=="?"){br("qmark",P);continue}if(L&&L.type==="paren"){let ge=re(),Be=P;if(ge==="<"&&!ei.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(L.value==="("&&!/[!=<:]/.test(ge)||ge==="<"&&!/<([!=]|\w+>)/.test(oe()))&&(Be=`\\${P}`),be({type:"text",value:P,output:Be});continue}if(r.dot!==!0&&(L.type==="slash"||L.type==="bos")){be({type:"qmark",value:P,output:C});continue}be({type:"qmark",value:P,output:q});continue}if(P==="!"){if(r.noextglob!==!0&&re()==="("&&(re(2)!=="?"||!/[!=<:]/.test(re(3)))){br("negate",P);continue}if(r.nonegate!==!0&&S.index===0){we();continue}}if(P==="+"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){br("plus",P);continue}if(L&&L.value==="("||r.regex===!1){be({type:"plus",value:P,output:f});continue}if(L&&(L.type==="bracket"||L.type==="paren"||L.type==="brace")||S.parens>0){be({type:"plus",value:P});continue}be({type:"plus",value:f});continue}if(P==="@"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){be({type:"at",extglob:!0,value:P,output:""});continue}be({type:"text",value:P});continue}if(P!=="*"){(P==="$"||P==="^")&&(P=`\\${P}`);let Y=z7.exec(oe());Y&&(P+=Y[0],S.index+=Y[0].length),be({type:"text",value:P});continue}if(L&&(L.type==="globstar"||L.star===!0)){L.type="star",L.star=!0,L.value+=P,L.output=O,S.backtrack=!0,S.globstar=!0,ie(P);continue}let Q=oe();if(r.noextglob!==!0&&/^\([^?]/.test(Q)){br("star",P);continue}if(L.type==="star"){if(r.noglobstar===!0){ie(P);continue}let Y=L.prev,ge=Y.prev,Be=Y.type==="slash"||Y.type==="bos",ct=ge&&(ge.type==="star"||ge.type==="globstar");if(r.bash===!0&&(!Be||Q[0]&&Q[0]!=="/")){be({type:"star",value:P,output:""});continue}let mt=S.braces>0&&(Y.type==="comma"||Y.type==="brace"),Ks=$.length&&(Y.type==="pipe"||Y.type==="paren");if(!Be&&Y.type!=="paren"&&!mt&&!Ks){be({type:"star",value:P,output:""});continue}for(;Q.slice(0,3)==="/**";){let zs=t[S.index+4];if(zs&&zs!=="/")break;Q=Q.slice(3),ie("/**",3)}if(Y.type==="bos"&&ee()){L.type="globstar",L.value+=P,L.output=W(r),S.output=L.output,S.globstar=!0,ie(P);continue}if(Y.type==="slash"&&Y.prev.type!=="bos"&&!ct&&ee()){S.output=S.output.slice(0,-(Y.output+L.output).length),Y.output=`(?:${Y.output}`,L.type="globstar",L.output=W(r)+(r.strictSlashes?")":"|$)"),L.value+=P,S.globstar=!0,S.output+=Y.output+L.output,ie(P);continue}if(Y.type==="slash"&&Y.prev.type!=="bos"&&Q[0]==="/"){let zs=Q[1]!==void 0?"|$":"";S.output=S.output.slice(0,-(Y.output+L.output).length),Y.output=`(?:${Y.output}`,L.type="globstar",L.output=`${W(r)}${H}|${H}${zs})`,L.value+=P,S.output+=Y.output+L.output,S.globstar=!0,ie(P+se()),be({type:"slash",value:"/",output:""});continue}if(Y.type==="bos"&&Q[0]==="/"){L.type="globstar",L.value+=P,L.output=`(?:^|${H}|${W(r)}${H})`,S.output=L.output,S.globstar=!0,ie(P+se()),be({type:"slash",value:"/",output:""});continue}S.output=S.output.slice(0,-L.output.length),L.type="globstar",L.output=W(r),L.value+=P,S.output+=L.output,S.globstar=!0,ie(P);continue}let Le={type:"star",value:P,output:O};if(r.bash===!0){Le.output=".*?",(L.type==="bos"||L.type==="slash")&&(Le.output=N+Le.output),be(Le);continue}if(L&&(L.type==="bracket"||L.type==="paren")&&r.regex===!0){Le.output=P,be(Le);continue}(S.index===S.start||L.type==="slash"||L.type==="dot")&&(L.type==="dot"?(S.output+=I,L.output+=I):r.dot===!0?(S.output+=B,L.output+=B):(S.output+=N,L.output+=N),re()!=="*"&&(S.output+=m,L.output+=m)),be(Le)}for(;S.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Rc("closing","]"));S.output=ei.escapeLast(S.output,"["),Et("brackets")}for(;S.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Rc("closing",")"));S.output=ei.escapeLast(S.output,"("),Et("parens")}for(;S.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Rc("closing","}"));S.output=ei.escapeLast(S.output,"{"),Et("braces")}if(r.strictSlashes!==!0&&(L.type==="star"||L.type==="bracket")&&be({type:"maybe_slash",value:"",output:`${H}?`}),S.backtrack===!0){S.output="";for(let Q of S.tokens)S.output+=Q.output!=null?Q.output:Q.value,Q.suffix&&(S.output+=Q.suffix)}return S};a0.fastpaths=(t,e)=>{let r={...e},i=typeof r.maxLength=="number"?Math.min(cH,r.maxLength):cH,n=t.length;if(n>i)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${i}`);t=u1[t]||t;let s=ei.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:H,START_ANCHOR:m}=uH.globChars(s),y=r.dot?p:l,b=r.dot?f:l,I=r.capture?"":"?:",B={negated:!1,prefix:""},q=r.bash===!0?".*?":H;r.capture&&(q=`(${q})`);let C=N=>N.noglobstar===!0?q:`(${I}(?:(?!${m}${N.dot?c:o}).)*?)`,D=N=>{switch(N){case"*":return`${y}${u}${q}`;case".*":return`${o}${u}${q}`;case"*.*":return`${y}${q}${o}${u}${q}`;case"*/*":return`${y}${q}${a}${u}${b}${q}`;case"**":return y+C(r);case"**/*":return`(?:${y}${C(r)}${a})?${b}${u}${q}`;case"**/*.*":return`(?:${y}${C(r)}${a})?${b}${q}${o}${u}${q}`;case"**/.*":return`(?:${y}${C(r)}${a})?${o}${u}${q}`;default:{let M=/^(.*?)\.(\w+)$/.exec(N);if(!M)return;let O=D(M[1]);return O?O+o+M[2]:void 0}}},G=ei.removePrefix(t,B),W=D(G);return W&&r.strictSlashes!==!0&&(W+=`${a}?`),W};c1.exports=a0});var f1=v((Ige,p1)=>{"use strict";var Y7=w("path"),Q7=a1(),u0=l1(),c0=mf(),Z7=hf(),eJ=t=>t&&typeof t=="object"&&!Array.isArray(t),_t=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(f=>_t(f,e,r));return f=>{for(let H of l){let m=H(f);if(m)return m}return!1}}let i=eJ(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!i)throw new TypeError("Expected pattern to be a non-empty string");let n=e||{},s=c0.isWindows(e),o=i?_t.compileRe(t,e):_t.makeRe(t,e,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(n.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};u=_t(n.ignore,l,r)}let c=(l,p=!1)=>{let{isMatch:f,match:H,output:m}=_t.test(l,o,e,{glob:t,posix:s}),y={glob:t,state:a,regex:o,posix:s,input:l,output:m,match:H,isMatch:f};return typeof n.onResult=="function"&&n.onResult(y),f===!1?(y.isMatch=!1,p?y:!1):u(l)?(typeof n.onIgnore=="function"&&n.onIgnore(y),y.isMatch=!1,p?y:!1):(typeof n.onMatch=="function"&&n.onMatch(y),p?y:!0)};return r&&(c.state=a),c};_t.test=(t,e,r,{glob:i,posix:n}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(n?c0.toPosixSlashes:null),a=t===i,u=a&&o?o(t):t;return a===!1&&(u=o?o(t):t,a=u===i),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=_t.matchBase(t,e,r,n):a=e.exec(u)),{isMatch:Boolean(a),match:a,output:u}};_t.matchBase=(t,e,r,i=c0.isWindows(r))=>(e instanceof RegExp?e:_t.makeRe(e,r)).test(Y7.basename(t));_t.isMatch=(t,e,r)=>_t(e,r)(t);_t.parse=(t,e)=>Array.isArray(t)?t.map(r=>_t.parse(r,e)):u0(t,{...e,fastpaths:!1});_t.scan=(t,e)=>Q7(t,e);_t.compileRe=(t,e,r=!1,i=!1)=>{if(r===!0)return t.output;let n=e||{},s=n.contains?"":"^",o=n.contains?"":"$",a=`${s}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let u=_t.toRegex(a,e);return i===!0&&(u.state=t),u};_t.makeRe=(t,e={},r=!1,i=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(n.output=u0.fastpaths(t,e)),n.output||(n=u0(t,e)),_t.compileRe(n,e,r,i)};_t.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};_t.constants=Z7;p1.exports=_t});var h1=v((Age,d1)=>{"use strict";d1.exports=f1()});var gf=v((Sge,y1)=>{"use strict";var H1=w("util"),g1=z$(),jn=h1(),l0=mf(),m1=t=>t===""||t==="./",dt=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let i=new Set,n=new Set,s=new Set,o=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let p=jn(String(e[l]),{...r,onResult:a},!0),f=p.state.negated||p.state.negatedExtglob;f&&o++;for(let H of t){let m=p(H,!0);(f?!m.isMatch:m.isMatch)&&(f?i.add(m.output):(i.delete(m.output),n.add(m.output)))}}let c=(o===e.length?[...s]:[...n]).filter(l=>!i.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return c};dt.match=dt;dt.matcher=(t,e)=>jn(t,e);dt.isMatch=(t,e,r)=>jn(e,r)(t);dt.any=dt.isMatch;dt.not=(t,e,r={})=>{e=[].concat(e).map(String);let i=new Set,n=[],s=a=>{r.onResult&&r.onResult(a),n.push(a.output)},o=new Set(dt(t,e,{...r,onResult:s}));for(let a of n)o.has(a)||i.add(a);return[...i]};dt.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${H1.inspect(t)}"`);if(Array.isArray(e))return e.some(i=>dt.contains(t,i,r));if(typeof e=="string"){if(m1(t)||m1(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return dt.isMatch(t,e,{...r,contains:!0})};dt.matchKeys=(t,e,r)=>{if(!l0.isObject(t))throw new TypeError("Expected the first argument to be an object");let i=dt(Object.keys(t),e,r),n={};for(let s of i)n[s]=t[s];return n};dt.some=(t,e,r)=>{let i=[].concat(t);for(let n of[].concat(e)){let s=jn(String(n),r);if(i.some(o=>s(o)))return!0}return!1};dt.every=(t,e,r)=>{let i=[].concat(t);for(let n of[].concat(e)){let s=jn(String(n),r);if(!i.every(o=>s(o)))return!1}return!0};dt.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${H1.inspect(t)}"`);return[].concat(e).every(i=>jn(i,r)(t))};dt.capture=(t,e,r)=>{let i=l0.isWindows(r),s=jn.makeRe(String(t),{...r,capture:!0}).exec(i?l0.toPosixSlashes(e):e);if(s)return s.slice(1).map(o=>o===void 0?"":o)};dt.makeRe=(...t)=>jn.makeRe(...t);dt.scan=(...t)=>jn.scan(...t);dt.parse=(t,e)=>{let r=[];for(let i of[].concat(t||[]))for(let n of g1(String(i),e))r.push(jn.parse(n,e));return r};dt.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:g1(t,e)};dt.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return dt.braces(t,{...e,expand:!0})};y1.exports=dt});var L1=v((mye,C1)=>{"use strict";var{Duplex:oJ}=w("stream");function E1(t){t.emit("close")}function aJ(){!this.destroyed&&this._writableState.finished&&this.destroy()}function x1(t){this.removeListener("error",x1),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function uJ(t,e){let r=!0,i=new oJ({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(s,o){let a=!o&&i._readableState.objectMode?s.toString():s;i.push(a)||t.pause()}),t.once("error",function(s){i.destroyed||(r=!1,i.destroy(s))}),t.once("close",function(){i.destroyed||i.push(null)}),i._destroy=function(n,s){if(t.readyState===t.CLOSED){s(n),process.nextTick(E1,i);return}let o=!1;t.once("error",function(u){o=!0,s(u)}),t.once("close",function(){o||s(n),process.nextTick(E1,i)}),r&&t.terminate()},i._final=function(n){if(t.readyState===t.CONNECTING){t.once("open",function(){i._final(n)});return}t._socket!==null&&(t._socket._writableState.finished?(n(),i._readableState.endEmitted&&i.destroy()):(t._socket.once("finish",function(){n()}),t.close()))},i._read=function(){t.isPaused&&t.resume()},i._write=function(n,s,o){if(t.readyState===t.CONNECTING){t.once("open",function(){i._write(n,s,o)});return}t.send(n,o)},i.on("end",aJ),i.on("error",x1),i}C1.exports=uJ});var wo=v((Hye,P1)=>{"use strict";P1.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var vf=v((gye,p0)=>{"use strict";var{EMPTY_BUFFER:cJ}=wo();function D1(t,e){if(t.length===0)return cJ;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),i=0;for(let n=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return i<e?r.slice(0,i):r}function T1(t,e,r,i,n){for(let s=0;s<n;s++)r[i+s]=t[s]^e[s&3]}function $1(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function M1(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function pH(t){if(pH.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=Buffer.from(t):ArrayBuffer.isView(t)?e=Buffer.from(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),pH.readOnly=!1),e}try{let t=w("bufferutil");p0.exports={concat:D1,mask(e,r,i,n,s){s<48?T1(e,r,i,n,s):t.mask(e,r,i,n,s)},toArrayBuffer:M1,toBuffer:pH,unmask(e,r){e.length<32?$1(e,r):t.unmask(e,r)}}}catch{p0.exports={concat:D1,mask:T1,toArrayBuffer:M1,toBuffer:pH,unmask:$1}}});var O1=v((yye,R1)=>{"use strict";var k1=Symbol("kDone"),f0=Symbol("kRun"),d0=class{constructor(e){this[k1]=()=>{this.pending--,this[f0]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[f0]()}[f0](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[k1])}}};R1.exports=d0});var If=v((bye,U1)=>{"use strict";var _f=w("zlib"),N1=vf(),lJ=O1(),{kStatusCode:B1}=wo(),pJ=Buffer.from([0,0,255,255]),hH=Symbol("permessage-deflate"),ws=Symbol("total-length"),wf=Symbol("callback"),Io=Symbol("buffers"),dH=Symbol("error"),fH,h0=class{constructor(e,r,i){if(this._maxPayload=i|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!fH){let n=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;fH=new lJ(n)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[wf];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,i=e.find(n=>!(r.serverNoContextTakeover===!1&&n.server_no_context_takeover||n.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>n.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!n.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(i.server_no_context_takeover=!0),r.clientNoContextTakeover&&(i.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(i.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?i.client_max_window_bits=r.clientMaxWindowBits:(i.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete i.client_max_window_bits,i}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(i=>{let n=r[i];if(n.length>1)throw new Error(`Parameter "${i}" must have only a single value`);if(n=n[0],i==="client_max_window_bits"){if(n!==!0){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else if(i==="server_max_window_bits"){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(i==="client_no_context_takeover"||i==="server_no_context_takeover"){if(n!==!0)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else throw new Error(`Unknown parameter "${i}"`);r[i]=n})}),e}decompress(e,r,i){fH.add(n=>{this._decompress(e,r,(s,o)=>{n(),i(s,o)})})}compress(e,r,i){fH.add(n=>{this._compress(e,r,(s,o)=>{n(),i(s,o)})})}_decompress(e,r,i){let n=this._isServer?"client":"server";if(!this._inflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?_f.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=_f.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[hH]=this,this._inflate[ws]=0,this._inflate[Io]=[],this._inflate.on("error",dJ),this._inflate.on("data",F1)}this._inflate[wf]=i,this._inflate.write(e),r&&this._inflate.write(pJ),this._inflate.flush(()=>{let s=this._inflate[dH];if(s){this._inflate.close(),this._inflate=null,i(s);return}let o=N1.concat(this._inflate[Io],this._inflate[ws]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[ws]=0,this._inflate[Io]=[],r&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,o)})}_compress(e,r,i){let n=this._isServer?"server":"client";if(!this._deflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?_f.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=_f.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[ws]=0,this._deflate[Io]=[],this._deflate.on("data",fJ)}this._deflate[wf]=i,this._deflate.write(e),this._deflate.flush(_f.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=N1.concat(this._deflate[Io],this._deflate[ws]);r&&(s=s.slice(0,s.length-4)),this._deflate[wf]=null,this._deflate[ws]=0,this._deflate[Io]=[],r&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,s)})}};U1.exports=h0;function fJ(t){this[Io].push(t),this[ws]+=t.length}function F1(t){if(this[ws]+=t.length,this[hH]._maxPayload<1||this[ws]<=this[hH]._maxPayload){this[Io].push(t);return}this[dH]=new RangeError("Max payload size exceeded"),this[dH].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[dH][B1]=1009,this.removeListener("data",F1),this.reset()}function dJ(t){this[hH]._inflate=null,t[B1]=1007,this[wf](t)}});var Af=v((vye,m0)=>{"use strict";var j1=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function q1(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function W1(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}try{let t=w("utf-8-validate");m0.exports={isValidStatusCode:q1,isValidUTF8(e){return e.length<150?W1(e):t(e)},tokenChars:j1}}catch{m0.exports={isValidStatusCode:q1,isValidUTF8:W1,tokenChars:j1}}});var b0=v((_ye,Y1)=>{"use strict";var{Writable:hJ}=w("stream"),V1=If(),{BINARY_TYPES:mJ,EMPTY_BUFFER:G1,kStatusCode:HJ,kWebSocket:gJ}=wo(),{concat:H0,toArrayBuffer:yJ,unmask:bJ}=vf(),{isValidStatusCode:vJ,isValidUTF8:K1}=Af(),Sf=0,z1=1,X1=2,J1=3,g0=4,_J=5,y0=class extends hJ{constructor(e={}){super(),this._binaryType=e.binaryType||mJ[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[gJ]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Sf,this._loop=!1}_write(e,r,i){if(this._opcode===8&&this._state==Sf)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let i=this._buffers[0];return this._buffers[0]=i.slice(e),i.slice(0,e)}let r=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=r.length-e;e>=i.length?r.set(this._buffers.shift(),n):(r.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=i.slice(e)),e-=i.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case Sf:r=this.getInfo();break;case z1:r=this.getPayloadLength16();break;case X1:r=this.getPayloadLength64();break;case J1:this.getMask();break;case g0:r=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,Bt(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[V1.extensionName])return this._loop=!1,Bt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,Bt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Bt(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Bt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Bt(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,Bt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Bt(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Bt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Bt(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Bt(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=z1;else if(this._payloadLength===127)this._state=X1;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,Bt(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Bt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=J1:this._state=g0}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=g0}getData(e){let r=G1;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&bJ(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=_J,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[V1.extensionName].decompress(e,this._fin,(n,s)=>{if(n)return r(n);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(Bt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(s)}let o=this.dataMessage();if(o)return r(o);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=H0(r,e):this._binaryType==="arraybuffer"?i=yJ(H0(r,e)):i=r,this.emit("message",i,!0)}else{let i=H0(r,e);if(!this._skipUTF8Validation&&!K1(i))return this._loop=!1,Bt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",i,!1)}}this._state=Sf}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,G1),this.end();else{if(e.length===1)return Bt(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let r=e.readUInt16BE(0);if(!vJ(r))return Bt(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let i=e.slice(2);if(!this._skipUTF8Validation&&!K1(i))return Bt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,i),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=Sf}};Y1.exports=y0;function Bt(t,e,r,i,n){let s=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(s,Bt),s.code=n,s[HJ]=i,s}});var v0=v((Aye,eM)=>{"use strict";var wye=w("net"),Iye=w("tls"),{randomFillSync:wJ}=w("crypto"),Q1=If(),{EMPTY_BUFFER:IJ}=wo(),{isValidStatusCode:AJ}=Af(),{mask:Z1,toBuffer:Fc}=vf(),Qi=Symbol("kByteLength"),SJ=Buffer.alloc(4),Gn=class{constructor(e,r,i){this._extensions=r||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let i,n=!1,s=2,o=!1;r.mask&&(i=r.maskBuffer||SJ,r.generateMask?r.generateMask(i):wJ(i,0,4),o=(i[0]|i[1]|i[2]|i[3])===0,s=6);let a;typeof e=="string"?(!r.mask||o)&&r[Qi]!==void 0?a=r[Qi]:(e=Buffer.from(e),a=e.length):(a=e.length,n=r.mask&&r.readOnly&&!o);let u=a;a>=65536?(s+=8,u=127):a>125&&(s+=2,u=126);let c=Buffer.allocUnsafe(n?a+s:s);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=u,u===126?c.writeUInt16BE(a,2):u===127&&(c[2]=c[3]=0,c.writeUIntBE(a,4,6)),r.mask?(c[1]|=128,c[s-4]=i[0],c[s-3]=i[1],c[s-2]=i[2],c[s-1]=i[3],o?[c,e]:n?(Z1(e,i,c,s,a),[c]):(Z1(e,i,e,0,a),[c,e])):[c,e]}close(e,r,i,n){let s;if(e===void 0)s=IJ;else{if(typeof e!="number"||!AJ(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+a),s.writeUInt16BE(e,0),typeof r=="string"?s.write(r,2):s.set(r,2)}}let o={[Qi]:s.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,o,n]):this.sendFrame(Gn.frame(s,o),n)}ping(e,r,i){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=Fc(e),n=e.length,s=Fc.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[Qi]:n,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(Gn.frame(e,o),i)}pong(e,r,i){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=Fc(e),n=e.length,s=Fc.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[Qi]:n,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(Gn.frame(e,o),i)}send(e,r,i){let n=this._extensions[Q1.extensionName],s=r.binary?2:1,o=r.compress,a,u;if(typeof e=="string"?(a=Buffer.byteLength(e),u=!1):(e=Fc(e),a=e.length,u=Fc.readOnly),this._firstFragment?(this._firstFragment=!1,o&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=a>=n._threshold),this._compress=o):(o=!1,s=0),r.fin&&(this._firstFragment=!0),n){let c={[Qi]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:u,rsv1:o};this._deflating?this.enqueue([this.dispatch,e,this._compress,c,i]):this.dispatch(e,this._compress,c,i)}else this.sendFrame(Gn.frame(e,{[Qi]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:u,rsv1:!1}),i)}dispatch(e,r,i,n){if(!r){this.sendFrame(Gn.frame(e,i),n);return}let s=this._extensions[Q1.extensionName];this._bufferedBytes+=i[Qi],this._deflating=!0,s.compress(e,i.fin,(o,a)=>{if(this._socket.destroyed){let u=new Error("The socket was closed while data was being compressed");typeof n=="function"&&n(u);for(let c=0;c<this._queue.length;c++){let l=this._queue[c],p=l[l.length-1];typeof p=="function"&&p(u)}return}this._bufferedBytes-=i[Qi],this._deflating=!1,i.readOnly=!1,this.sendFrame(Gn.frame(a,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Qi],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Qi],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};eM.exports=Gn});var lM=v((Sye,cM)=>{"use strict";var{kForOnEventAttribute:_0,kListener:tM}=wo(),rM=Symbol("kCode"),iM=Symbol("kData"),nM=Symbol("kError"),sM=Symbol("kMessage"),oM=Symbol("kReason"),Uc=Symbol("kTarget"),aM=Symbol("kType"),uM=Symbol("kWasClean"),Is=class{constructor(e){this[Uc]=null,this[aM]=e}get target(){return this[Uc]}get type(){return this[aM]}};Object.defineProperty(Is.prototype,"target",{enumerable:!0});Object.defineProperty(Is.prototype,"type",{enumerable:!0});var Fa=class extends Is{constructor(e,r={}){super(e),this[rM]=r.code===void 0?0:r.code,this[oM]=r.reason===void 0?"":r.reason,this[uM]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[rM]}get reason(){return this[oM]}get wasClean(){return this[uM]}};Object.defineProperty(Fa.prototype,"code",{enumerable:!0});Object.defineProperty(Fa.prototype,"reason",{enumerable:!0});Object.defineProperty(Fa.prototype,"wasClean",{enumerable:!0});var jc=class extends Is{constructor(e,r={}){super(e),this[nM]=r.error===void 0?null:r.error,this[sM]=r.message===void 0?"":r.message}get error(){return this[nM]}get message(){return this[sM]}};Object.defineProperty(jc.prototype,"error",{enumerable:!0});Object.defineProperty(jc.prototype,"message",{enumerable:!0});var Ef=class extends Is{constructor(e,r={}){super(e),this[iM]=r.data===void 0?null:r.data}get data(){return this[iM]}};Object.defineProperty(Ef.prototype,"data",{enumerable:!0});var EJ={addEventListener(t,e,r={}){let i;if(t==="message")i=function(s,o){let a=new Ef("message",{data:o?s:s.toString()});a[Uc]=this,e.call(this,a)};else if(t==="close")i=function(s,o){let a=new Fa("close",{code:s,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Uc]=this,e.call(this,a)};else if(t==="error")i=function(s){let o=new jc("error",{error:s,message:s.message});o[Uc]=this,e.call(this,o)};else if(t==="open")i=function(){let s=new Is("open");s[Uc]=this,e.call(this,s)};else return;i[_0]=!!r[_0],i[tM]=e,r.once?this.once(t,i):this.on(t,i)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[tM]===e&&!r[_0]){this.removeListener(t,r);break}}};cM.exports={CloseEvent:Fa,ErrorEvent:jc,Event:Is,EventTarget:EJ,MessageEvent:Ef}});var w0=v((Eye,pM)=>{"use strict";var{tokenChars:xf}=Af();function Kn(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function xJ(t){let e=Object.create(null),r=Object.create(null),i=!1,n=!1,s=!1,o,a,u=-1,c=-1,l=-1,p=0;for(;p<t.length;p++)if(c=t.charCodeAt(p),o===void 0)if(l===-1&&xf[c]===1)u===-1&&(u=p);else if(p!==0&&(c===32||c===9))l===-1&&u!==-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let H=t.slice(u,l);c===44?(Kn(e,H,r),r=Object.create(null)):o=H,u=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(l===-1&&xf[c]===1)u===-1&&(u=p);else if(c===32||c===9)l===-1&&u!==-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p),Kn(r,t.slice(u,l),!0),c===44&&(Kn(e,o,r),r=Object.create(null),o=void 0),u=l=-1}else if(c===61&&u!==-1&&l===-1)a=t.slice(u,p),u=l=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(n){if(xf[c]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1?u=p:i||(i=!0),n=!1}else if(s)if(xf[c]===1)u===-1&&(u=p);else if(c===34&&u!==-1)s=!1,l=p;else if(c===92)n=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(c===34&&t.charCodeAt(p-1)===61)s=!0;else if(l===-1&&xf[c]===1)u===-1&&(u=p);else if(u!==-1&&(c===32||c===9))l===-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let H=t.slice(u,l);i&&(H=H.replace(/\\/g,""),i=!1),Kn(r,a,H),c===44&&(Kn(e,o,r),r=Object.create(null),o=void 0),a=void 0,u=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(u===-1||s||c===32||c===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=p);let f=t.slice(u,l);return o===void 0?Kn(e,f,r):(a===void 0?Kn(r,f,!0):i?Kn(r,a,f.replace(/\\/g,"")):Kn(r,a,f),Kn(e,o,r)),e}function CJ(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(i=>[e].concat(Object.keys(i).map(n=>{let s=i[n];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?n:`${n}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}pM.exports={format:CJ,parse:xJ}});var C0=v((Cye,_M)=>{"use strict";var LJ=w("events"),PJ=w("https"),DJ=w("http"),hM=w("net"),TJ=w("tls"),{randomBytes:$J,createHash:MJ}=w("crypto"),{Readable:xye}=w("stream"),{URL:I0}=w("url"),Ao=If(),kJ=b0(),RJ=v0(),{BINARY_TYPES:fM,EMPTY_BUFFER:mH,GUID:OJ,kForOnEventAttribute:A0,kListener:NJ,kStatusCode:BJ,kWebSocket:mr,NOOP:mM}=wo(),{EventTarget:{addEventListener:FJ,removeEventListener:UJ}}=lM(),{format:jJ,parse:qJ}=w0(),{toBuffer:WJ}=vf(),As=["CONNECTING","OPEN","CLOSING","CLOSED"],VJ=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,S0=[8,13],GJ=30*1e3,_e=class extends LJ{constructor(e,r,i){super(),this._binaryType=fM[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=mH,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=_e.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(i=r,r=[]):r=[r]),HM(this,e,r,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){fM.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,i){let n=new kJ({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new RJ(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[mr]=this,e[mr]=this,n.on("conclude",XJ),n.on("drain",JJ),n.on("error",YJ),n.on("message",QJ),n.on("ping",ZJ),n.on("pong",eY),e.setTimeout(0),e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",yM),e.on("data",HH),e.on("end",bM),e.on("error",vM),this._readyState=_e.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=_e.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ao.extensionName]&&this._extensions[Ao.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=_e.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==_e.CLOSED){if(this.readyState===_e.CONNECTING){let i="WebSocket was closed before the connection was established";return Si(this,this._req,i)}if(this.readyState===_e.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=_e.CLOSING,this._sender.close(e,r,!this._isServer,i=>{i||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),GJ)}}pause(){this.readyState===_e.CONNECTING||this.readyState===_e.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,i){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){x0(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||mH,r,i)}pong(e,r,i){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){x0(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||mH,r,i)}resume(){this.readyState===_e.CONNECTING||this.readyState===_e.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,i){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(i=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){x0(this,e,i);return}let n={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Ao.extensionName]||(n.compress=!1),this._sender.send(e||mH,n,i)}terminate(){if(this.readyState!==_e.CLOSED){if(this.readyState===_e.CONNECTING){let e="WebSocket was closed before the connection was established";return Si(this,this._req,e)}this._socket&&(this._readyState=_e.CLOSING,this._socket.destroy())}}};Object.defineProperty(_e,"CONNECTING",{enumerable:!0,value:As.indexOf("CONNECTING")});Object.defineProperty(_e.prototype,"CONNECTING",{enumerable:!0,value:As.indexOf("CONNECTING")});Object.defineProperty(_e,"OPEN",{enumerable:!0,value:As.indexOf("OPEN")});Object.defineProperty(_e.prototype,"OPEN",{enumerable:!0,value:As.indexOf("OPEN")});Object.defineProperty(_e,"CLOSING",{enumerable:!0,value:As.indexOf("CLOSING")});Object.defineProperty(_e.prototype,"CLOSING",{enumerable:!0,value:As.indexOf("CLOSING")});Object.defineProperty(_e,"CLOSED",{enumerable:!0,value:As.indexOf("CLOSED")});Object.defineProperty(_e.prototype,"CLOSED",{enumerable:!0,value:As.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(_e.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(_e.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[A0])return e[NJ];return null},set(e){for(let r of this.listeners(t))if(r[A0]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[A0]:!0})}})});_e.prototype.addEventListener=FJ;_e.prototype.removeEventListener=UJ;_M.exports=_e;function HM(t,e,r,i){let n={protocolVersion:S0[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!S0.includes(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${S0.join(", ")})`);let s;if(e instanceof I0)s=e,t._url=e.href;else{try{s=new I0(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}t._url=e}let o=s.protocol==="wss:",a=s.protocol==="ws+unix:",u;if(s.protocol!=="ws:"&&!o&&!a?u=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:a&&!s.pathname?u="The URL's pathname is empty":s.hash&&(u="The URL contains a fragment identifier"),u){let y=new SyntaxError(u);if(t._redirects===0)throw y;E0(t,y);return}let c=o?443:80,l=$J(16).toString("base64"),p=o?PJ.get:DJ.get,f=new Set,H;if(n.createConnection=o?zJ:KJ,n.defaultPort=n.defaultPort||c,n.port=s.port||c,n.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,n.headers={"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket",...n.headers},n.path=s.pathname+s.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(H=new Ao(n.perMessageDeflate!==!0?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=jJ({[Ao.extensionName]:H.offer()})),r.length){for(let y of r){if(typeof y!="string"||!VJ.test(y)||f.has(y))throw new SyntaxError("An invalid or duplicated subprotocol was specified");f.add(y)}n.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(s.username||s.password)&&(n.auth=`${s.username}:${s.password}`),a){let y=n.path.split(":");n.socketPath=y[0],n.path=y[1]}if(n.followRedirects){if(t._redirects===0){t._originalHost=s.host;let y=i&&i.headers;if(i={...i,headers:{}},y)for(let[b,I]of Object.entries(y))i.headers[b.toLowerCase()]=I}else s.host!==t._originalHost&&(delete n.headers.authorization,delete n.headers.cookie,delete n.headers.host,n.auth=void 0);n.auth&&!i.headers.authorization&&(i.headers.authorization="Basic "+Buffer.from(n.auth).toString("base64"))}let m=t._req=p(n);n.timeout&&m.on("timeout",()=>{Si(t,m,"Opening handshake has timed out")}),m.on("error",y=>{m===null||m.aborted||(m=t._req=null,E0(t,y))}),m.on("response",y=>{let b=y.headers.location,I=y.statusCode;if(b&&n.followRedirects&&I>=300&&I<400){if(++t._redirects>n.maxRedirects){Si(t,m,"Maximum redirects exceeded");return}m.abort();let B;try{B=new I0(b,e)}catch{let C=new SyntaxError(`Invalid URL: ${b}`);E0(t,C);return}HM(t,B,r,i)}else t.emit("unexpected-response",m,y)||Si(t,m,`Unexpected server response: ${y.statusCode}`)}),m.on("upgrade",(y,b,I)=>{if(t.emit("upgrade",y),t.readyState!==_e.CONNECTING)return;m=t._req=null;let B=MJ("sha1").update(l+OJ).digest("base64");if(y.headers["sec-websocket-accept"]!==B){Si(t,b,"Invalid Sec-WebSocket-Accept header");return}let q=y.headers["sec-websocket-protocol"],C;if(q!==void 0?f.size?f.has(q)||(C="Server sent an invalid subprotocol"):C="Server sent a subprotocol but none was requested":f.size&&(C="Server sent no subprotocol"),C){Si(t,b,C);return}q&&(t._protocol=q);let D=y.headers["sec-websocket-extensions"];if(D!==void 0){if(!H){Si(t,b,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let G;try{G=qJ(D)}catch{Si(t,b,"Invalid Sec-WebSocket-Extensions header");return}let W=Object.keys(G);if(W.length!==1||W[0]!==Ao.extensionName){Si(t,b,"Server indicated an extension that was not requested");return}try{H.accept(G[Ao.extensionName])}catch{Si(t,b,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Ao.extensionName]=H}t.setSocket(b,I,{generateMask:n.generateMask,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation})})}function E0(t,e){t._readyState=_e.CLOSING,t.emit("error",e),t.emitClose()}function KJ(t){return t.path=t.socketPath,hM.connect(t)}function zJ(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=hM.isIP(t.host)?"":t.host),TJ.connect(t)}function Si(t,e,r){t._readyState=_e.CLOSING;let i=new Error(r);Error.captureStackTrace(i,Si),e.setHeader?(e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),e.once("abort",t.emitClose.bind(t)),t.emit("error",i)):(e.destroy(i),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function x0(t,e,r){if(e){let i=WJ(e).length;t._socket?t._sender._bufferedBytes+=i:t._bufferedAmount+=i}if(r){let i=new Error(`WebSocket is not open: readyState ${t.readyState} (${As[t.readyState]})`);r(i)}}function XJ(t,e){let r=this[mr];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[mr]!==void 0&&(r._socket.removeListener("data",HH),process.nextTick(gM,r._socket),t===1005?r.close():r.close(t,e))}function JJ(){let t=this[mr];t.isPaused||t._socket.resume()}function YJ(t){let e=this[mr];e._socket[mr]!==void 0&&(e._socket.removeListener("data",HH),process.nextTick(gM,e._socket),e.close(t[BJ])),e.emit("error",t)}function dM(){this[mr].emitClose()}function QJ(t,e){this[mr].emit("message",t,e)}function ZJ(t){let e=this[mr];e.pong(t,!e._isServer,mM),e.emit("ping",t)}function eY(t){this[mr].emit("pong",t)}function gM(t){t.resume()}function yM(){let t=this[mr];this.removeListener("close",yM),this.removeListener("data",HH),this.removeListener("end",bM),t._readyState=_e.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[mr]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",dM),t._receiver.on("finish",dM))}function HH(t){this[mr]._receiver.write(t)||this.pause()}function bM(){let t=this[mr];t._readyState=_e.CLOSING,t._receiver.end(),this.end()}function vM(){let t=this[mr];this.removeListener("error",vM),this.on("error",mM),t&&(t._readyState=_e.CLOSING,this.destroy())}});var IM=v((Lye,wM)=>{"use strict";var{tokenChars:tY}=Af();function rY(t){let e=new Set,r=-1,i=-1,n=0;for(n;n<t.length;n++){let o=t.charCodeAt(n);if(i===-1&&tY[o]===1)r===-1&&(r=n);else if(n!==0&&(o===32||o===9))i===-1&&r!==-1&&(i=n);else if(o===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${n}`);i===-1&&(i=n);let a=t.slice(r,i);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=i=-1}else throw new SyntaxError(`Unexpected character at index ${n}`)}if(r===-1||i!==-1)throw new SyntaxError("Unexpected end of input");let s=t.slice(r,n);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}wM.exports={parse:rY}});var LM=v(($ye,CM)=>{"use strict";var iY=w("events"),gH=w("http"),Pye=w("https"),Dye=w("net"),Tye=w("tls"),{createHash:nY}=w("crypto"),AM=w0(),Ua=If(),sY=IM(),oY=C0(),{GUID:aY,kWebSocket:uY}=wo(),cY=/^[+/0-9A-Za-z]{22}==$/,SM=0,EM=1,xM=2,L0=class extends iY{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:oY,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=gH.createServer((i,n)=>{let s=gH.STATUS_CODES[426];n.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),n.end(s)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let i=this.emit.bind(this,"connection");this._removeListeners=lY(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(n,s,o)=>{this.handleUpgrade(n,s,o,i)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=SM}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===xM){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Cf,this);return}if(e&&this.once("close",e),this._state!==EM)if(this._state=EM,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Cf,this):process.nextTick(Cf,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Cf(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,i,n){r.on("error",P0);let s=e.headers["sec-websocket-key"]!==void 0?e.headers["sec-websocket-key"]:!1,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"||e.headers.upgrade.toLowerCase()!=="websocket"||!s||!cY.test(s)||o!==8&&o!==13||!this.shouldHandle(e))return qc(r,400);let a=e.headers["sec-websocket-protocol"],u=new Set;if(a!==void 0)try{u=sY.parse(a)}catch{return qc(r,400)}let c=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&c!==void 0){let p=new Ua(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=AM.parse(c);f[Ua.extensionName]&&(p.accept(f[Ua.extensionName]),l[Ua.extensionName]=p)}catch{return qc(r,400)}}if(this.options.verifyClient){let p={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,H,m,y)=>{if(!f)return qc(r,H||401,m,y);this.completeUpgrade(l,s,u,e,r,i,n)});return}if(!this.options.verifyClient(p))return qc(r,401)}this.completeUpgrade(l,s,u,e,r,i,n)}completeUpgrade(e,r,i,n,s,o,a){if(!s.readable||!s.writable)return s.destroy();if(s[uY])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>SM)return qc(s,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${nY("sha1").update(r+aY).digest("base64")}`],l=new this.options.WebSocket(null);if(i.size){let p=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;p&&(c.push(`Sec-WebSocket-Protocol: ${p}`),l._protocol=p)}if(e[Ua.extensionName]){let p=e[Ua.extensionName].params,f=AM.format({[Ua.extensionName]:[p]});c.push(`Sec-WebSocket-Extensions: ${f}`),l._extensions=e}this.emit("headers",c,n),s.write(c.concat(`\r
`).join(`\r
`)),s.removeListener("error",P0),l.setSocket(s,o,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Cf,this)})),a(l,n)}};CM.exports=L0;function lY(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let i of Object.keys(e))t.removeListener(i,e[i])}}function Cf(t){t._state=xM,t.emit("close")}function P0(){this.destroy()}function qc(t,e,r,i){t.writable&&(r=r||gH.STATUS_CODES[e],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},t.write(`HTTP/1.1 ${e} ${gH.STATUS_CODES[e]}\r
`+Object.keys(i).map(n=>`${n}: ${i[n]}`).join(`\r
`)+`\r
\r
`+r)),t.removeListener("error",P0),t.destroy()}});var UM=v((mbe,FM)=>{"use strict";FM.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var qM=v((Hbe,jM)=>{jM.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var GM=v((gbe,VM)=>{"use strict";var bY=qM(),vY=Array.prototype.concat,_Y=Array.prototype.slice,WM=VM.exports=function(e){for(var r=[],i=0,n=e.length;i<n;i++){var s=e[i];bY(s)?r=vY.call(r,_Y.call(s)):r.push(s)}return r};WM.wrap=function(t){return function(){return t(WM(arguments))}}});var JM=v((ybe,XM)=>{var Pf=UM(),Df=GM(),KM=Object.hasOwnProperty,zM={};for(IH in Pf)KM.call(Pf,IH)&&(zM[Pf[IH]]=IH);var IH,ti=XM.exports={to:{},get:{}};ti.get=function(t){var e=t.substring(0,3).toLowerCase(),r,i;switch(e){case"hsl":r=ti.get.hsl(t),i="hsl";break;case"hwb":r=ti.get.hwb(t),i="hwb";break;default:r=ti.get.rgb(t),i="rgb";break}return r?{model:i,value:r}:null};ti.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,u,c;if(a=t.match(r)){for(c=a[2],a=a[1],u=0;u<3;u++){var l=u*2;o[u]=parseInt(a.slice(l,l+2),16)}c&&(o[3]=parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],u=0;u<3;u++)o[u]=parseInt(a[u]+a[u],16);c&&(o[3]=parseInt(c+c,16)/255)}else if(a=t.match(i)){for(u=0;u<3;u++)o[u]=parseInt(a[u+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=t.match(n)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=t.match(s))?a[1]==="transparent"?[0,0,0,0]:KM.call(Pf,a[1])?(o=Pf[a[1]],o[3]=1,o):null:null;for(u=0;u<3;u++)o[u]=So(o[u],0,255);return o[3]=So(o[3],0,1),o};ti.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var i=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,s=So(parseFloat(r[2]),0,100),o=So(parseFloat(r[3]),0,100),a=So(isNaN(i)?1:i,0,1);return[n,s,o,a]}return null};ti.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var i=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,s=So(parseFloat(r[2]),0,100),o=So(parseFloat(r[3]),0,100),a=So(isNaN(i)?1:i,0,1);return[n,s,o,a]}return null};ti.to.hex=function(){var t=Df(arguments);return"#"+AH(t[0])+AH(t[1])+AH(t[2])+(t[3]<1?AH(Math.round(t[3]*255)):"")};ti.to.rgb=function(){var t=Df(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};ti.to.rgb.percent=function(){var t=Df(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+i+"%)":"rgba("+e+"%, "+r+"%, "+i+"%, "+t[3]+")"};ti.to.hsl=function(){var t=Df(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};ti.to.hwb=function(){var t=Df(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};ti.to.keyword=function(t){return zM[t.slice(0,3)]};function So(t,e,r){return Math.min(Math.max(e,t),r)}function AH(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var QM=v((bbe,YM)=>{"use strict";YM.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var k0=v((vbe,ek)=>{var Tf=QM(),ZM={};for(let t of Object.keys(Tf))ZM[Tf[t]]=t;var fe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ek.exports=fe;for(let t of Object.keys(fe)){if(!("channels"in fe[t]))throw new Error("missing channels property: "+t);if(!("labels"in fe[t]))throw new Error("missing channel labels property: "+t);if(fe[t].labels.length!==fe[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=fe[t];delete fe[t].channels,delete fe[t].labels,Object.defineProperty(fe[t],"channels",{value:e}),Object.defineProperty(fe[t],"labels",{value:r})}fe.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(e,r,i),s=Math.max(e,r,i),o=s-n,a,u;s===n?a=0:e===s?a=(r-i)/o:r===s?a=2+(i-e)/o:i===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(n+s)/2;return s===n?u=0:c<=.5?u=o/(s+n):u=o/(2-s-n),[a,u*100,c*100]};fe.rgb.hsv=function(t){let e,r,i,n,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),l=c-Math.min(o,a,u),p=function(f){return(c-f)/6/l+1/2};return l===0?(n=0,s=0):(s=l/c,e=p(o),r=p(a),i=p(u),o===c?n=i-r:a===c?n=1/3+e-i:u===c&&(n=2/3+r-e),n<0?n+=1:n>1&&(n-=1)),[n*360,s*100,c*100]};fe.rgb.hwb=function(t){let e=t[0],r=t[1],i=t[2],n=fe.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,i));return i=1-1/255*Math.max(e,Math.max(r,i)),[n,s*100,i*100]};fe.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(1-e,1-r,1-i),s=(1-e-n)/(1-n)||0,o=(1-r-n)/(1-n)||0,a=(1-i-n)/(1-n)||0;return[s*100,o*100,a*100,n*100]};function wY(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}fe.rgb.keyword=function(t){let e=ZM[t];if(e)return e;let r=1/0,i;for(let n of Object.keys(Tf)){let s=Tf[n],o=wY(t,s);o<r&&(r=o,i=n)}return i};fe.keyword.rgb=function(t){return Tf[t]};fe.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;let n=e*.4124+r*.3576+i*.1805,s=e*.2126+r*.7152+i*.0722,o=e*.0193+r*.1192+i*.9505;return[n*100,s*100,o*100]};fe.rgb.lab=function(t){let e=fe.rgb.xyz(t),r=e[0],i=e[1],n=e[2];r/=95.047,i/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let s=116*i-16,o=500*(r-i),a=200*(i-n);return[s,o,a]};fe.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100,n,s,o;if(r===0)return o=i*255,[o,o,o];i<.5?n=i*(1+r):n=i+r-i*r;let a=2*i-n,u=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(n-a)*6*s:2*s<1?o=n:3*s<2?o=a+(n-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};fe.hsl.hsv=function(t){let e=t[0],r=t[1]/100,i=t[2]/100,n=r,s=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,n*=s<=1?s:2-s;let o=(i+r)/2,a=i===0?2*n/(s+n):2*r/(i+r);return[e,a*100,o*100]};fe.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,i=t[2]/100,n=Math.floor(e)%6,s=e-Math.floor(e),o=255*i*(1-r),a=255*i*(1-r*s),u=255*i*(1-r*(1-s));switch(i*=255,n){case 0:return[i,u,o];case 1:return[a,i,o];case 2:return[o,i,u];case 3:return[o,a,i];case 4:return[u,o,i];case 5:return[i,o,a]}};fe.hsv.hsl=function(t){let e=t[0],r=t[1]/100,i=t[2]/100,n=Math.max(i,.01),s,o;o=(2-r)*i;let a=(2-r)*n;return s=r*n,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};fe.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100,n=r+i,s;n>1&&(r/=n,i/=n);let o=Math.floor(6*e),a=1-i;s=6*e-o,o&1&&(s=1-s);let u=r+s*(a-r),c,l,p;switch(o){default:case 6:case 0:c=a,l=u,p=r;break;case 1:c=u,l=a,p=r;break;case 2:c=r,l=a,p=u;break;case 3:c=r,l=u,p=a;break;case 4:c=u,l=r,p=a;break;case 5:c=a,l=r,p=u;break}return[c*255,l*255,p*255]};fe.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,i=t[2]/100,n=t[3]/100,s=1-Math.min(1,e*(1-n)+n),o=1-Math.min(1,r*(1-n)+n),a=1-Math.min(1,i*(1-n)+n);return[s*255,o*255,a*255]};fe.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,i=t[2]/100,n,s,o;return n=e*3.2406+r*-1.5372+i*-.4986,s=e*-.9689+r*1.8758+i*.0415,o=e*.0557+r*-.204+i*1.057,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,n=Math.min(Math.max(0,n),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[n*255,s*255,o*255]};fe.xyz.lab=function(t){let e=t[0],r=t[1],i=t[2];e/=95.047,r/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let n=116*r-16,s=500*(e-r),o=200*(r-i);return[n,s,o]};fe.lab.xyz=function(t){let e=t[0],r=t[1],i=t[2],n,s,o;s=(e+16)/116,n=r/500+s,o=s-i/200;let a=s**3,u=n**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,n=u>.008856?u:(n-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,n*=95.047,s*=100,o*=108.883,[n,s,o]};fe.lab.lch=function(t){let e=t[0],r=t[1],i=t[2],n;n=Math.atan2(i,r)*360/2/Math.PI,n<0&&(n+=360);let o=Math.sqrt(r*r+i*i);return[e,o,n]};fe.lch.lab=function(t){let e=t[0],r=t[1],n=t[2]/360*2*Math.PI,s=r*Math.cos(n),o=r*Math.sin(n);return[e,s,o]};fe.rgb.ansi16=function(t,e=null){let[r,i,n]=t,s=e===null?fe.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};fe.hsv.ansi16=function(t){return fe.rgb.ansi16(fe.hsv.rgb(t),t[2])};fe.rgb.ansi256=function(t){let e=t[0],r=t[1],i=t[2];return e===r&&r===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)};fe.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,i=(e&1)*r*255,n=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[i,n,s]};fe.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,i=Math.floor((e=t%36)/6)/5*255,n=e%6/5*255;return[r,i,n]};fe.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};fe.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let i=parseInt(r,16),n=i>>16&255,s=i>>8&255,o=i&255;return[n,s,o]};fe.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.max(Math.max(e,r),i),s=Math.min(Math.min(e,r),i),o=n-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:n===e?u=(r-i)/o%6:n===r?u=2+(i-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};fe.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,i=r<.5?2*e*r:2*e*(1-r),n=0;return i<1&&(n=(r-.5*i)/(1-i)),[t[0],i*100,n*100]};fe.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,i=e*r,n=0;return i<1&&(n=(r-i)/(1-i)),[t[0],i*100,n*100]};fe.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100;if(r===0)return[i*255,i*255,i*255];let n=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:n[0]=1,n[1]=o,n[2]=0;break;case 1:n[0]=a,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=o;break;case 3:n[0]=0,n[1]=a,n[2]=1;break;case 4:n[0]=o,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=a}return u=(1-r)*i,[(r*n[0]+u)*255,(r*n[1]+u)*255,(r*n[2]+u)*255]};fe.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,i=e+r*(1-e),n=0;return i>0&&(n=e/i),[t[0],n*100,i*100]};fe.hcg.hsl=function(t){let e=t[1]/100,i=t[2]/100*(1-e)+.5*e,n=0;return i>0&&i<.5?n=e/(2*i):i>=.5&&i<1&&(n=e/(2*(1-i))),[t[0],n*100,i*100]};fe.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,i=e+r*(1-e);return[t[0],(i-e)*100,(1-i)*100]};fe.hwb.hcg=function(t){let e=t[1]/100,i=1-t[2]/100,n=i-e,s=0;return n<1&&(s=(i-n)/(1-n)),[t[0],n*100,s*100]};fe.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};fe.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};fe.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};fe.gray.hsl=function(t){return[0,0,t[0]]};fe.gray.hsv=fe.gray.hsl;fe.gray.hwb=function(t){return[0,100,t[0]]};fe.gray.cmyk=function(t){return[0,0,0,t[0]]};fe.gray.lab=function(t){return[t[0],0,0]};fe.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i};fe.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var rk=v((_be,tk)=>{var SH=k0();function IY(){let t={},e=Object.keys(SH);for(let r=e.length,i=0;i<r;i++)t[e[i]]={distance:-1,parent:null};return t}function AY(t){let e=IY(),r=[t];for(e[t].distance=0;r.length;){let i=r.pop(),n=Object.keys(SH[i]);for(let s=n.length,o=0;o<s;o++){let a=n[o],u=e[a];u.distance===-1&&(u.distance=e[i].distance+1,u.parent=i,r.unshift(a))}}return e}function SY(t,e){return function(r){return e(t(r))}}function EY(t,e){let r=[e[t].parent,t],i=SH[e[t].parent][t],n=e[t].parent;for(;e[n].parent;)r.unshift(e[n].parent),i=SY(SH[e[n].parent][n],i),n=e[n].parent;return i.conversion=r,i}tk.exports=function(t){let e=AY(t),r={},i=Object.keys(e);for(let n=i.length,s=0;s<n;s++){let o=i[s];e[o].parent!==null&&(r[o]=EY(o,e))}return r}});var nk=v((wbe,ik)=>{var R0=k0(),xY=rk(),Xc={},CY=Object.keys(R0);function LY(t){let e=function(...r){let i=r[0];return i==null?i:(i.length>1&&(r=i),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function PY(t){let e=function(...r){let i=r[0];if(i==null)return i;i.length>1&&(r=i);let n=t(r);if(typeof n=="object")for(let s=n.length,o=0;o<s;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}CY.forEach(t=>{Xc[t]={},Object.defineProperty(Xc[t],"channels",{value:R0[t].channels}),Object.defineProperty(Xc[t],"labels",{value:R0[t].labels});let e=xY(t);Object.keys(e).forEach(i=>{let n=e[i];Xc[t][i]=PY(n),Xc[t][i].raw=LY(n)})});ik.exports=Xc});var ak=v((Ibe,ok)=>{var Jc=JM(),ri=nk(),B0=[].slice,sk=["keyword","gray","hex"],O0={};for(let t of Object.keys(ri))O0[B0.call(ri[t].labels).sort().join("")]=t;var EH={};function Qt(t,e){if(!(this instanceof Qt))return new Qt(t,e);if(e&&e in sk&&(e=null),e&&!(e in ri))throw new Error("Unknown model: "+e);let r,i;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Qt)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){let n=Jc.get(t);if(n===null)throw new Error("Unable to parse color from string: "+t);this.model=n.model,i=ri[this.model].channels,this.color=n.value.slice(0,i),this.valpha=typeof n.value[i]=="number"?n.value[i]:1}else if(t.length>0){this.model=e||"rgb",i=ri[this.model].channels;let n=B0.call(t,0,i);this.color=N0(n,i),this.valpha=typeof t[i]=="number"?t[i]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let n=Object.keys(t);"alpha"in t&&(n.splice(n.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let s=n.sort().join("");if(!(s in O0))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=O0[s];let o=ri[this.model].labels,a=[];for(r=0;r<o.length;r++)a.push(t[o[r]]);this.color=N0(a)}if(EH[this.model])for(i=ri[this.model].channels,r=0;r<i;r++){let n=EH[this.model][r];n&&(this.color[r]=n(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Qt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in Jc.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:e.color.concat(this.valpha);return Jc.to[e.model](r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return Jc.to.rgb.percent(r)},array(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object(){let t={},e=ri[this.model].channels,r=ri[this.model].labels;for(let i=0;i<e;i++)t[r[i]]=this.color[i];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Qt(this.color.map(TY(t)).concat(this.valpha),this.model)},alpha(t){return arguments.length>0?new Qt(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:gt("rgb",0,Ft(255)),green:gt("rgb",1,Ft(255)),blue:gt("rgb",2,Ft(255)),hue:gt(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:gt("hsl",1,Ft(100)),lightness:gt("hsl",2,Ft(100)),saturationv:gt("hsv",1,Ft(100)),value:gt("hsv",2,Ft(100)),chroma:gt("hcg",1,Ft(100)),gray:gt("hcg",2,Ft(100)),white:gt("hwb",1,Ft(100)),wblack:gt("hwb",2,Ft(100)),cyan:gt("cmyk",0,Ft(100)),magenta:gt("cmyk",1,Ft(100)),yellow:gt("cmyk",2,Ft(100)),black:gt("cmyk",3,Ft(100)),x:gt("xyz",0,Ft(100)),y:gt("xyz",1,Ft(100)),z:gt("xyz",2,Ft(100)),l:gt("lab",0,Ft(100)),a:gt("lab",1),b:gt("lab",2),keyword(t){return arguments.length>0?new Qt(t):ri[this.model].keyword(this.color)},hex(t){return arguments.length>0?new Qt(t):Jc.to.hex(this.rgb().round().color)},hexa(t){if(arguments.length>0)return new Qt(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),Jc.to.hex(e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,i]of t.entries()){let n=i/255;e[r]=n<=.03928?n/12.92:((n+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*299+t[1]*587+t[2]*114)/1e3<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return Qt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),i=this.rgb(),n=e===void 0?.5:e,s=2*n-1,o=r.alpha()-i.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,u=1-a;return Qt.rgb(a*r.red()+u*i.red(),a*r.green()+u*i.green(),a*r.blue()+u*i.blue(),r.alpha()*n+i.alpha()*(1-n))}};for(let t of Object.keys(ri)){if(sk.includes(t))continue;let e=ri[t].channels;Qt.prototype[t]=function(){if(this.model===t)return new Qt(this);if(arguments.length>0)return new Qt(arguments,t);let r=typeof arguments[e]=="number"?e:this.valpha;return new Qt($Y(ri[this.model][t].raw(this.color)).concat(r),t)},Qt[t]=function(r){return typeof r=="number"&&(r=N0(B0.call(arguments),e)),new Qt(r,t)}}function DY(t,e){return Number(t.toFixed(e))}function TY(t){return function(e){return DY(e,t)}}function gt(t,e,r){t=Array.isArray(t)?t:[t];for(let i of t)(EH[i]||(EH[i]=[]))[e]=r;return t=t[0],function(i){let n;return arguments.length>0?(r&&(i=r(i)),n=this[t](),n.color[e]=i,n):(n=this[t]().color[e],r&&(n=r(n)),n)}}function Ft(t){return function(e){return Math.max(0,Math.min(t,e))}}function $Y(t){return Array.isArray(t)?t:[t]}function N0(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}ok.exports=Qt});var Za=v(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.findWindowsCandidates=Wr.sort=Wr.preferredEdgePath=Wr.preferredChromePath=Wr.escapeRegexSpecialChars=Wr.canAccess=void 0;var lQ=w("path");async function eg({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}Wr.canAccess=eg;var pQ="/\\.?*()^${}|[]+";function fQ(t,e){let r=pQ.split("").filter(n=>!e||e.indexOf(n)<0).join("").replace(/[\\\]]/g,"\\$&"),i=new RegExp(`[${r}]`,"g");return t.replace(i,"\\$&")}Wr.escapeRegexSpecialChars=fQ;async function dQ(t,e){if(await eg(t,e.CHROME_PATH))return e.CHROME_PATH}Wr.preferredChromePath=dQ;async function hQ(t,e){if(await eg(t,e.EDGE_PATH))return e.EDGE_PATH}Wr.preferredEdgePath=hQ;function mQ(t,e){return[...t].filter(i=>!!i).map(i=>{let n=e.find(s=>s.regex.test(i));return n?{path:i,weight:n.weight,quality:n.quality}:{path:i,weight:10,quality:"dev"}}).sort((i,n)=>n.weight-i.weight).map(i=>({path:i.path,quality:i.quality}))}Wr.sort=mQ;async function HQ(t,e,r){let i=[t.LOCALAPPDATA,t.PROGRAMFILES,t["PROGRAMFILES(X86)"]].filter(s=>!!s),n=[];for(let s of i)for(let o of r){let a=lQ.win32.join(s,o.name);n.push(eg(e,a).then(u=>u?{path:a,quality:o.type}:void 0))}return(await Promise.all(n)).filter(s=>!!s)}Wr.findWindowsCandidates=HQ});var bw=v(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.DarwinFinderBase=void 0;var gQ=w("path"),gw=Za(),nR=/( \(0x[a-f0-9]+\))/,yw=class{constructor(e,r,i){this.env=e,this.fs=r,this.execa=i,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let r of this.wellKnownPaths)if(e(r)&&await(0,gw.canAccess)(this.fs,r.path))return r;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,r,i){let{stdout:n}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${nR.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),s=[...r,...n.split(`
`).map(u=>u.trim().replace(nR,""))].filter(u=>!!u),o=this.getPreferredPath();o&&s.push(o);let a=new Set;for(let u of s)for(let c of i){let l=gQ.posix.join(u.trim(),c);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let r=this.env.HOME&&(0,gw.escapeRegexSpecialChars)(this.env.HOME),i=this.getPreferredPath(),n=e.reduce((s,o)=>[...s,{regex:new RegExp(`^/Applications/.*${o.name}`),weight:o.weight+100,quality:o.quality},{regex:new RegExp(`^${r}/Applications/.*${o.name}`),weight:o.weight,quality:o.quality},{regex:new RegExp(`^/Volumes/.*${o.name}`),weight:o.weight-100,quality:o.quality}],[]);return i&&n.unshift({regex:new RegExp((0,gw.escapeRegexSpecialChars)(i)),weight:151,quality:"custom"}),n}};tg.DarwinFinderBase=yw});var sR=v(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.DarwinChromeBrowserFinder=void 0;var yQ=Za(),bQ=bw(),vw=class extends bQ.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],r=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],i=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",r,e);return(0,yQ.sort)(i,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};rg.DarwinChromeBrowserFinder=vw});var oR=v(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.DarwinEdgeBrowserFinder=void 0;var vQ=Za(),_Q=bw(),_w=class extends _Q.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],r=["/Applications/Microsoft Edge.app"],i=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",r,e);return(0,vQ.sort)(i,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};ig.DarwinEdgeBrowserFinder=_w});var Aw=v(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.LinuxChromeBrowserFinder=void 0;var wQ=w("path"),nl=Za(),ww=w("child_process"),IQ=w("os"),aR=/\r?\n/,Iw=class{constructor(e,r){this.env=e,this.fs=r,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,r=this.env[this.pathEnvironmentVar];r&&await(0,nl.canAccess)(this.fs,r)&&e.add(r),[wQ.posix.join((0,IQ.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(o=>{for(let a in this.findChromeExecutables(o))e.add(a)}),await Promise.all(this.executablesOnPath.map(async o=>{try{let a=(0,ww.execFileSync)("which",[o],{stdio:"pipe"}).toString().split(aR)[0];await(0,nl.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let s=r?[{regex:new RegExp((0,nl.escapeRegexSpecialChars)(r)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,nl.sort)(e,s)}async findChromeExecutables(e){let r=/(^[^ ]+).*/,i=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,n=[];if(await(0,nl.canAccess)(this.fs,e)){let s;try{s=(0,ww.execSync)(`grep -ER "${i}" ${e} | awk -F '=' '{print $2}'`)}catch{s=(0,ww.execSync)(`grep -Er "${i}" ${e} | awk -F '=' '{print $2}'`)}let o=s.toString().split(aR).map(a=>a.replace(r,"$1"));await Promise.all(o.map(async a=>{await(0,nl.canAccess)(this.fs,a)&&n.push(a)}))}return n}};ng.LinuxChromeBrowserFinder=Iw});var uR=v(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.LinuxEdgeBrowserFinder=void 0;var AQ=Aw(),Sw=class extends AQ.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};sg.LinuxEdgeBrowserFinder=Sw});var lR=v(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.WindowsChromeBrowserFinder=void 0;var SQ=w("path"),cR=Za(),Ew=class{constructor(e,r){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=SQ.win32.sep,r=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],i=await(0,cR.findWindowsCandidates)(this.env,this.fs,r),n=await(0,cR.preferredChromePath)(this.fs,this.env);return n&&i.unshift({path:n,quality:"custom"}),i}};og.WindowsChromeBrowserFinder=Ew});var fR=v(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.WindowsEdgeBrowserFinder=void 0;var Hr=w("path"),pR=Za(),xw=class{constructor(e,r){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${Hr.sep}Microsoft${Hr.sep}Edge SxS${Hr.sep}Application${Hr.sep}msedge.exe`,type:"canary"},{name:`${Hr.sep}Microsoft${Hr.sep}Edge Dev${Hr.sep}Application${Hr.sep}msedge.exe`,type:"dev"},{name:`${Hr.sep}Microsoft${Hr.sep}Edge Beta${Hr.sep}Application${Hr.sep}msedge.exe`,type:"beta"},{name:`${Hr.sep}Microsoft${Hr.sep}Edge${Hr.sep}Application${Hr.sep}msedge.exe`,type:"stable"}],r=await(0,pR.findWindowsCandidates)(this.env,this.fs,e),i=await(0,pR.preferredEdgePath)(this.fs,this.env);return i&&r.unshift({path:i,quality:"custom"}),r}};ag.WindowsEdgeBrowserFinder=xw});var Cw=v(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.EdgeBrowserFinder=Zi.ChromeBrowserFinder=Zi.isQuality=Zi.allQualities=void 0;var EQ=sR(),xQ=oR(),CQ=Aw(),LQ=uR(),PQ=lR(),DQ=fR(),TQ={canary:null,stable:null,beta:null,dev:null,custom:null};Zi.allQualities=new Set(Object.keys(TQ));var $Q=t=>Zi.allQualities.has(t);Zi.isQuality=$Q;Zi.ChromeBrowserFinder=process.platform==="win32"?PQ.WindowsChromeBrowserFinder:process.platform==="darwin"?EQ.DarwinChromeBrowserFinder:CQ.LinuxChromeBrowserFinder;Zi.EdgeBrowserFinder=process.platform==="win32"?DQ.WindowsEdgeBrowserFinder:process.platform==="darwin"?xQ.DarwinEdgeBrowserFinder:LQ.LinuxEdgeBrowserFinder});var gR=v((wIe,HR)=>{"use strict";function kQ(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),i="",n=!1,s=r[0]||"text/plain",o=s;for(let l=1;l<r.length;l++)r[l]==="base64"?n=!0:(o+=`;${r[l]}`,r[l].indexOf("charset=")===0&&(i=r[l].substring(8)));!r[0]&&!i.length&&(o+=";charset=US-ASCII",i="US-ASCII");let a=n?"base64":"ascii",u=unescape(t.substring(e+1)),c=Buffer.from(u,a);return c.type=s,c.typeFull=o,c.charset=i,c}HR.exports=kQ});var Cs=v((xs,lg)=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var yR=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function RQ(t){return yR.includes(t)}var OQ=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...yR];function NQ(t){return OQ.includes(t)}var BQ=["null","undefined","string","number","bigint","boolean","symbol"];function FQ(t){return BQ.includes(t)}function ol(t){return e=>typeof e===t}var{toString:bR}=Object.prototype,jf=t=>{let e=bR.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&E.domElement(t))return"HTMLElement";if(NQ(e))return e},rt=t=>e=>jf(e)===t;function E(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(E.observable(t))return"Observable";if(E.array(t))return"Array";if(E.buffer(t))return"Buffer";let e=jf(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}E.undefined=ol("undefined");E.string=ol("string");var UQ=ol("number");E.number=t=>UQ(t)&&!E.nan(t);E.bigint=ol("bigint");E.function_=ol("function");E.null_=t=>t===null;E.class_=t=>E.function_(t)&&t.toString().startsWith("class ");E.boolean=t=>t===!0||t===!1;E.symbol=ol("symbol");E.numericString=t=>E.string(t)&&!E.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));E.array=(t,e)=>Array.isArray(t)?E.function_(e)?t.every(e):!0:!1;E.buffer=t=>{var e,r,i,n;return(n=(i=(r=(e=t)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.isBuffer)===null||i===void 0?void 0:i.call(r,t))!==null&&n!==void 0?n:!1};E.blob=t=>rt("Blob")(t);E.nullOrUndefined=t=>E.null_(t)||E.undefined(t);E.object=t=>!E.null_(t)&&(typeof t=="object"||E.function_(t));E.iterable=t=>{var e;return E.function_((e=t)===null||e===void 0?void 0:e[Symbol.iterator])};E.asyncIterable=t=>{var e;return E.function_((e=t)===null||e===void 0?void 0:e[Symbol.asyncIterator])};E.generator=t=>{var e,r;return E.iterable(t)&&E.function_((e=t)===null||e===void 0?void 0:e.next)&&E.function_((r=t)===null||r===void 0?void 0:r.throw)};E.asyncGenerator=t=>E.asyncIterable(t)&&E.function_(t.next)&&E.function_(t.throw);E.nativePromise=t=>rt("Promise")(t);var jQ=t=>{var e,r;return E.function_((e=t)===null||e===void 0?void 0:e.then)&&E.function_((r=t)===null||r===void 0?void 0:r.catch)};E.promise=t=>E.nativePromise(t)||jQ(t);E.generatorFunction=rt("GeneratorFunction");E.asyncGeneratorFunction=t=>jf(t)==="AsyncGeneratorFunction";E.asyncFunction=t=>jf(t)==="AsyncFunction";E.boundFunction=t=>E.function_(t)&&!t.hasOwnProperty("prototype");E.regExp=rt("RegExp");E.date=rt("Date");E.error=rt("Error");E.map=t=>rt("Map")(t);E.set=t=>rt("Set")(t);E.weakMap=t=>rt("WeakMap")(t);E.weakSet=t=>rt("WeakSet")(t);E.int8Array=rt("Int8Array");E.uint8Array=rt("Uint8Array");E.uint8ClampedArray=rt("Uint8ClampedArray");E.int16Array=rt("Int16Array");E.uint16Array=rt("Uint16Array");E.int32Array=rt("Int32Array");E.uint32Array=rt("Uint32Array");E.float32Array=rt("Float32Array");E.float64Array=rt("Float64Array");E.bigInt64Array=rt("BigInt64Array");E.bigUint64Array=rt("BigUint64Array");E.arrayBuffer=rt("ArrayBuffer");E.sharedArrayBuffer=rt("SharedArrayBuffer");E.dataView=rt("DataView");E.enumCase=(t,e)=>Object.values(e).includes(t);E.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;E.urlInstance=t=>rt("URL")(t);E.urlString=t=>{if(!E.string(t))return!1;try{return new URL(t),!0}catch{return!1}};E.truthy=t=>Boolean(t);E.falsy=t=>!t;E.nan=t=>Number.isNaN(t);E.primitive=t=>E.null_(t)||FQ(typeof t);E.integer=t=>Number.isInteger(t);E.safeInteger=t=>Number.isSafeInteger(t);E.plainObject=t=>{if(bR.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};E.typedArray=t=>RQ(jf(t));var qQ=t=>E.safeInteger(t)&&t>=0;E.arrayLike=t=>!E.nullOrUndefined(t)&&!E.function_(t)&&qQ(t.length);E.inRange=(t,e)=>{if(E.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(E.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var WQ=1,VQ=["innerHTML","ownerDocument","style","attributes","nodeValue"];E.domElement=t=>E.object(t)&&t.nodeType===WQ&&E.string(t.nodeName)&&!E.plainObject(t)&&VQ.every(e=>e in t);E.observable=t=>{var e,r,i,n;return t?t===((r=(e=t)[Symbol.observable])===null||r===void 0?void 0:r.call(e))||t===((n=(i=t)["@@observable"])===null||n===void 0?void 0:n.call(i)):!1};E.nodeStream=t=>E.object(t)&&E.function_(t.pipe)&&!E.observable(t);E.infinite=t=>t===1/0||t===-1/0;var vR=t=>e=>E.integer(e)&&Math.abs(e%2)===t;E.evenInteger=vR(0);E.oddInteger=vR(1);E.emptyArray=t=>E.array(t)&&t.length===0;E.nonEmptyArray=t=>E.array(t)&&t.length>0;E.emptyString=t=>E.string(t)&&t.length===0;var GQ=t=>E.string(t)&&!/\S/.test(t);E.emptyStringOrWhitespace=t=>E.emptyString(t)||GQ(t);E.nonEmptyString=t=>E.string(t)&&t.length>0;E.nonEmptyStringAndNotWhitespace=t=>E.string(t)&&!E.emptyStringOrWhitespace(t);E.emptyObject=t=>E.object(t)&&!E.map(t)&&!E.set(t)&&Object.keys(t).length===0;E.nonEmptyObject=t=>E.object(t)&&!E.map(t)&&!E.set(t)&&Object.keys(t).length>0;E.emptySet=t=>E.set(t)&&t.size===0;E.nonEmptySet=t=>E.set(t)&&t.size>0;E.emptyMap=t=>E.map(t)&&t.size===0;E.nonEmptyMap=t=>E.map(t)&&t.size>0;E.propertyKey=t=>E.any([E.string,E.number,E.symbol],t);E.formData=t=>rt("FormData")(t);E.urlSearchParams=t=>rt("URLSearchParams")(t);var _R=(t,e,r)=>{if(!E.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};E.any=(t,...e)=>(E.array(t)?t:[t]).some(i=>_R(Array.prototype.some,i,e));E.all=(t,...e)=>_R(Array.prototype.every,t,e);var Z=(t,e,r,i={})=>{if(!t){let{multipleValues:n}=i,s=n?`received values of types ${[...new Set(r.map(o=>`\`${E(o)}\``))].join(", ")}`:`received value of type \`${E(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${s}.`)}};xs.assert={undefined:t=>Z(E.undefined(t),"undefined",t),string:t=>Z(E.string(t),"string",t),number:t=>Z(E.number(t),"number",t),bigint:t=>Z(E.bigint(t),"bigint",t),function_:t=>Z(E.function_(t),"Function",t),null_:t=>Z(E.null_(t),"null",t),class_:t=>Z(E.class_(t),"Class",t),boolean:t=>Z(E.boolean(t),"boolean",t),symbol:t=>Z(E.symbol(t),"symbol",t),numericString:t=>Z(E.numericString(t),"string with a number",t),array:(t,e)=>{Z(E.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>Z(E.buffer(t),"Buffer",t),blob:t=>Z(E.blob(t),"Blob",t),nullOrUndefined:t=>Z(E.nullOrUndefined(t),"null or undefined",t),object:t=>Z(E.object(t),"Object",t),iterable:t=>Z(E.iterable(t),"Iterable",t),asyncIterable:t=>Z(E.asyncIterable(t),"AsyncIterable",t),generator:t=>Z(E.generator(t),"Generator",t),asyncGenerator:t=>Z(E.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>Z(E.nativePromise(t),"native Promise",t),promise:t=>Z(E.promise(t),"Promise",t),generatorFunction:t=>Z(E.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>Z(E.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>Z(E.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>Z(E.boundFunction(t),"Function",t),regExp:t=>Z(E.regExp(t),"RegExp",t),date:t=>Z(E.date(t),"Date",t),error:t=>Z(E.error(t),"Error",t),map:t=>Z(E.map(t),"Map",t),set:t=>Z(E.set(t),"Set",t),weakMap:t=>Z(E.weakMap(t),"WeakMap",t),weakSet:t=>Z(E.weakSet(t),"WeakSet",t),int8Array:t=>Z(E.int8Array(t),"Int8Array",t),uint8Array:t=>Z(E.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>Z(E.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>Z(E.int16Array(t),"Int16Array",t),uint16Array:t=>Z(E.uint16Array(t),"Uint16Array",t),int32Array:t=>Z(E.int32Array(t),"Int32Array",t),uint32Array:t=>Z(E.uint32Array(t),"Uint32Array",t),float32Array:t=>Z(E.float32Array(t),"Float32Array",t),float64Array:t=>Z(E.float64Array(t),"Float64Array",t),bigInt64Array:t=>Z(E.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>Z(E.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>Z(E.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>Z(E.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>Z(E.dataView(t),"DataView",t),enumCase:(t,e)=>Z(E.enumCase(t,e),"EnumCase",t),urlInstance:t=>Z(E.urlInstance(t),"URL",t),urlString:t=>Z(E.urlString(t),"string with a URL",t),truthy:t=>Z(E.truthy(t),"truthy",t),falsy:t=>Z(E.falsy(t),"falsy",t),nan:t=>Z(E.nan(t),"NaN",t),primitive:t=>Z(E.primitive(t),"primitive",t),integer:t=>Z(E.integer(t),"integer",t),safeInteger:t=>Z(E.safeInteger(t),"integer",t),plainObject:t=>Z(E.plainObject(t),"plain object",t),typedArray:t=>Z(E.typedArray(t),"TypedArray",t),arrayLike:t=>Z(E.arrayLike(t),"array-like",t),domElement:t=>Z(E.domElement(t),"HTMLElement",t),observable:t=>Z(E.observable(t),"Observable",t),nodeStream:t=>Z(E.nodeStream(t),"Node.js Stream",t),infinite:t=>Z(E.infinite(t),"infinite number",t),emptyArray:t=>Z(E.emptyArray(t),"empty array",t),nonEmptyArray:t=>Z(E.nonEmptyArray(t),"non-empty array",t),emptyString:t=>Z(E.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>Z(E.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>Z(E.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>Z(E.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>Z(E.emptyObject(t),"empty object",t),nonEmptyObject:t=>Z(E.nonEmptyObject(t),"non-empty object",t),emptySet:t=>Z(E.emptySet(t),"empty set",t),nonEmptySet:t=>Z(E.nonEmptySet(t),"non-empty set",t),emptyMap:t=>Z(E.emptyMap(t),"empty map",t),nonEmptyMap:t=>Z(E.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>Z(E.propertyKey(t),"PropertyKey",t),formData:t=>Z(E.formData(t),"FormData",t),urlSearchParams:t=>Z(E.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>Z(E.evenInteger(t),"even integer",t),oddInteger:t=>Z(E.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>Z(E.directInstanceOf(t,e),"T",t),inRange:(t,e)=>Z(E.inRange(t,e),"in range",t),any:(t,...e)=>Z(E.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>Z(E.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(E,{class:{value:E.class_},function:{value:E.function_},null:{value:E.null_}});Object.defineProperties(xs.assert,{class:{value:xs.assert.class_},function:{value:xs.assert.function_},null:{value:xs.assert.null_}});xs.default=E;lg.exports=E;lg.exports.default=E;lg.exports.assert=xs.assert});var wR=v((IIe,Pw)=>{"use strict";var pg=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},al=class{static fn(e){return(...r)=>new al((i,n,s)=>{r.push(s),e(...r).then(i,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,i)=>{this._reject=i;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},s=a=>{this._isPending=!1,i(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,s,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new pg(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(al.prototype,Promise.prototype);Pw.exports=al;Pw.exports.CancelError=pg});var IR=v((Tw,$w)=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});function KQ(t){return t.encrypted}var Dw=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let i=typeof r.connect=="function",n=typeof r.secureConnect=="function",s=typeof r.close=="function",o=()=>{i&&r.connect(),KQ(t)&&n&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),s&&t.once("close",r.close)};t.writable&&!t.connecting?o():t.connecting?t.once("connect",o):t.destroyed&&s&&r.close(t._hadError)};Tw.default=Dw;$w.exports=Dw;$w.exports.default=Dw});var AR=v((kw,Rw)=>{"use strict";Object.defineProperty(kw,"__esModule",{value:!0});var zQ=IR(),XQ=w("util"),JQ=Number(process.versions.node.split(".")[0]),Mw=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=a=>{let u=a.emit.bind(a);a.emit=(c,...l)=>(c==="error"&&(e.error=Date.now(),e.phases.total=e.error-e.start,a.emit=u),u(c,...l))};r(t);let i=()=>{e.abort=Date.now(),(!e.response||JQ>=13)&&(e.phases.total=Date.now()-e.start)};t.prependOnceListener("abort",i);let n=a=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,XQ.types.isProxy(a))return;let u=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};a.prependOnceListener("lookup",u),zQ.default(a,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(a.removeListener("lookup",u),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?n(t.socket):t.prependOnceListener("socket",n);let s=()=>{var a;e.upload=Date.now(),e.phases.request=e.upload-((a=e.secureConnect)!==null&&a!==void 0?a:e.connect)};return(()=>typeof t.writableFinished=="boolean"?t.writableFinished:t.finished&&t.outputSize===0&&(!t.socket||t.socket.writableLength===0))()?s():t.prependOnceListener("finish",s),t.prependOnceListener("response",a=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,a.timings=e,r(a),a.prependOnceListener("end",()=>{e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start}),a.prependOnceListener("aborted",i)}),e};kw.default=Mw;Rw.exports=Mw;Rw.exports.default=Mw});var DR=v((AIe,Bw)=>{"use strict";var{V4MAPPED:YQ,ADDRCONFIG:QQ,ALL:PR,promises:{Resolver:SR},lookup:ZQ}=w("dns"),{promisify:Ow}=w("util"),eZ=w("os"),ul=Symbol("cacheableLookupCreateConnection"),Nw=Symbol("cacheableLookupInstance"),ER=Symbol("expires"),tZ=typeof PR=="number",xR=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},rZ=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},CR=()=>{let t=!1,e=!1;for(let r of Object.values(eZ.networkInterfaces()))for(let i of r)if(!i.internal&&(i.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},iZ=t=>Symbol.iterator in t,LR={ttl:!0},nZ={all:!0},fg=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:i=3600,errorTtl:n=.15,resolver:s=new SR,lookup:o=ZQ}={}){if(this.maxTtl=r,this.errorTtl=n,this._cache=e,this._resolver=s,this._dnsLookup=Ow(o),this._resolver instanceof SR?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=Ow(this._resolver.resolve4.bind(this._resolver)),this._resolve6=Ow(this._resolver.resolve6.bind(this._resolver))),this._iface=CR(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,i<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},i*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,i){if(typeof r=="function"?(i=r,r={}):typeof r=="number"&&(r={family:r}),!i)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(n=>{r.all?i(null,n):i(null,n.address,n.family,n.expires,n.ttl)},i)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let i=await this.query(e);if(r.family===6){let n=i.filter(s=>s.family===6);r.hints&YQ&&(tZ&&r.hints&PR||n.length===0)?rZ(i):i=n}else r.family===4&&(i=i.filter(n=>n.family===4));if(r.hints&QQ){let{_iface:n}=this;i=i.filter(s=>s.family===6?n.has6:n.has4)}if(i.length===0){let n=new Error(`cacheableLookup ENOTFOUND ${e}`);throw n.code="ENOTFOUND",n.hostname=e,n}return r.all?i:i[0]}async query(e){let r=await this._cache.get(e);if(!r){let i=this._pending[e];if(i)r=await i;else{let n=this.queryAndCache(e);this._pending[e]=n;try{r=await n}finally{delete this._pending[e]}}}return r=r.map(i=>({...i})),r}async _resolve(e){let r=async c=>{try{return await c}catch(l){if(l.code==="ENODATA"||l.code==="ENOTFOUND")return[];throw l}},[i,n]=await Promise.all([this._resolve4(e,LR),this._resolve6(e,LR)].map(c=>r(c))),s=0,o=0,a=0,u=Date.now();for(let c of i)c.family=4,c.expires=u+c.ttl*1e3,s=Math.max(s,c.ttl);for(let c of n)c.family=6,c.expires=u+c.ttl*1e3,o=Math.max(o,c.ttl);return i.length>0?n.length>0?a=Math.min(s,o):a=s:a=o,{entries:[...i,...n],cacheTtl:a}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,i){if(this.maxTtl>0&&i>0){i=Math.min(i,this.maxTtl)*1e3,r[ER]=Date.now()+i;try{await this._cache.set(e,r,i)}catch(n){this.lookupAsync=async()=>{let s=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw s.cause=n,s}}iZ(this._cache)&&this._tick(i)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,nZ);let r=await this._resolve(e);r.entries.length===0&&this._fallback&&(r=await this._lookup(e),r.entries.length!==0&&this._hostnamesToFallback.add(e));let i=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,i),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let i=1/0,n=Date.now();for(let[s,o]of this._cache){let a=o[ER];n>=a?this._cache.delete(s):a<i&&(i=a)}i!==1/0&&this._tick(i-n)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(xR(e),ul in e)throw new Error("CacheableLookup has been already installed");e[ul]=e.createConnection,e[Nw]=this,e.createConnection=(r,i)=>("lookup"in r||(r.lookup=this.lookup),e[ul](r,i))}uninstall(e){if(xR(e),e[ul]){if(e[Nw]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[ul],delete e[ul],delete e[Nw]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=CR(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};Bw.exports=fg;Bw.exports.default=fg});var MR=v((SIe,$R)=>{"use strict";var sZ="text/plain",oZ="us-ascii",TR=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),aZ=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:i,data:n,hash:s}=r.groups,o=i.split(";");s=e?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let u=(o.shift()||"").toLowerCase(),l=[...o.map(p=>{let[f,H=""]=p.split("=").map(m=>m.trim());return f==="charset"&&(H=H.toLowerCase(),H===oZ)?"":`${f}${H?`=${H}`:""}`}).filter(Boolean)];return a&&l.push("base64"),(l.length!==0||u&&u!==sZ)&&l.unshift(u),`data:${l.join(";")},${a?n.trim():n}${s?`#${s}`:""}`},uZ=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return aZ(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let n=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),e.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),e.stripAuthentication&&(n.username="",n.password=""),e.stripHash?n.hash="":e.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname&&(n.pathname=n.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let o=n.pathname.split("/"),a=o[o.length-1];TR(a,e.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),n.pathname=o.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let o of[...n.searchParams.keys()])TR(o,e.removeQueryParameters)&&n.searchParams.delete(o);e.removeQueryParameters===!0&&(n.search=""),e.sortQueryParameters&&n.searchParams.sort(),e.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let s=t;return t=n.toString(),!e.removeSingleSlash&&n.pathname==="/"&&!s.endsWith("/")&&n.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};$R.exports=uZ});var Fw=v((EIe,RR)=>{RR.exports=kR;function kR(t,e){if(t&&e)return kR(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var s=t.apply(this,i),o=i[i.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var cl=v((xIe,Uw)=>{var OR=Fw();Uw.exports=OR(dg);Uw.exports.strict=OR(NR);dg.proto=dg(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return dg(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return NR(this)},configurable:!0})});function dg(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function NR(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var hg=v((CIe,FR)=>{var cZ=cl(),lZ=function(){},pZ=function(t){return t.setHeader&&typeof t.abort=="function"},fZ=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},BR=function(t,e,r){if(typeof e=="function")return BR(t,null,e);e||(e={}),r=cZ(r||lZ);var i=t._writableState,n=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,u=function(){t.writable||c()},c=function(){o=!1,s||r.call(t)},l=function(){s=!1,o||r.call(t)},p=function(b){r.call(t,b?new Error("exited with error code: "+b):null)},f=function(b){r.call(t,b)},H=function(){process.nextTick(m)},m=function(){if(!a){if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"))}},y=function(){t.req.on("finish",c)};return pZ(t)?(t.on("complete",c),t.on("abort",H),t.req?y():t.on("request",y)):o&&!i&&(t.on("end",u),t.on("close",u)),fZ(t)&&t.on("exit",p),t.on("end",l),t.on("finish",c),e.error!==!1&&t.on("error",f),t.on("close",H),function(){a=!0,t.removeListener("complete",c),t.removeListener("abort",H),t.removeListener("request",y),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("exit",p),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",H)}};FR.exports=BR});var qR=v((LIe,jR)=>{var dZ=cl(),hZ=hg(),jw=w("fs"),qf=function(){},mZ=/^v?\.0/.test(process.version),mg=function(t){return typeof t=="function"},HZ=function(t){return!mZ||!jw?!1:(t instanceof(jw.ReadStream||qf)||t instanceof(jw.WriteStream||qf))&&mg(t.close)},gZ=function(t){return t.setHeader&&mg(t.abort)},yZ=function(t,e,r,i){i=dZ(i);var n=!1;t.on("close",function(){n=!0}),hZ(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,HZ(t))return t.close(qf);if(gZ(t))return t.abort();if(mg(t.destroy))return t.destroy();i(o||new Error("stream was destroyed"))}}},UR=function(t){t()},bZ=function(t,e){return t.pipe(e)},vZ=function(){var t=Array.prototype.slice.call(arguments),e=mg(t[t.length-1]||qf)&&t.pop()||qf;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,i=t.map(function(n,s){var o=s<t.length-1,a=s>0;return yZ(n,o,a,function(u){r||(r=u),u&&i.forEach(UR),!o&&(i.forEach(UR),e(r))})});return t.reduce(bZ)};jR.exports=vZ});var VR=v((PIe,WR)=>{"use strict";var{PassThrough:_Z}=w("stream");WR.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,i=r==="buffer",n=!1;e?n=!(r||i):r=r||"utf8",i&&(r=null);let s=new _Z({objectMode:n});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",u=>{a.push(u),n?o=a.length:o+=u.length}),s.getBufferedValue=()=>e?a:i?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var GR=v((DIe,ll)=>{"use strict";var{constants:wZ}=w("buffer"),IZ=qR(),AZ=VR(),Hg=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function gg(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,i;return await new Promise((n,s)=>{let o=a=>{a&&i.getBufferedLength()<=wZ.MAX_LENGTH&&(a.bufferedData=i.getBufferedValue()),s(a)};i=IZ(t,AZ(e),a=>{if(a){o(a);return}n()}),i.on("data",()=>{i.getBufferedLength()>r&&o(new Hg)})}),i.getBufferedValue()}ll.exports=gg;ll.exports.default=gg;ll.exports.buffer=(t,e)=>gg(t,{...e,encoding:"buffer"});ll.exports.array=(t,e)=>gg(t,{...e,array:!0});ll.exports.MaxBufferError=Hg});var zR=v(($Ie,KR)=>{"use strict";var SZ=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),EZ=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),xZ=new Set([500,502,503,504]),CZ={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},LZ={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function eu(t){let e=parseInt(t,10);return isFinite(e)?e:0}function PZ(t){return t?xZ.has(t.status):!0}function qw(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let i of r){let[n,s]=i.split(/=/,2);e[n.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return e}function DZ(t){let e=[];for(let r in t){let i=t[r];e.push(i===!0?r:r+"="+i)}if(e.length)return e.join(", ")}KR.exports=class{constructor(e,r,{shared:i,cacheHeuristic:n,immutableMinTimeToLive:s,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=i!==!1,this._cacheHeuristic=n!==void 0?n:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=qw(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=qw(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":DZ(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&EZ.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||SZ.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=qw(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let i of r)if(e.headers[i]!==this._reqHeaders[i])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let i in e)CZ[i]||(r[i]=e[i]);if(e.connection){let i=e.connection.trim().split(/\s*,\s*/);for(let n of i)delete r[n]}if(r.warning){let i=r.warning.split(/,/).filter(n=>!/^\s*1[0-9][0-9]/.test(n));i.length?r.warning=i.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return eu(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return eu(this._rescc["s-maxage"])}if(this._rescc["max-age"])return eu(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let i=Date.parse(this._resHeaders.expires);return Number.isNaN(i)||i<r?0:Math.max(e,(i-r)/1e3)}if(this._resHeaders["last-modified"]){let i=Date.parse(this._resHeaders["last-modified"]);if(isFinite(i)&&r>i)return Math.max(e,(r-i)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+eu(this._rescc["stale-if-error"]),i=e+eu(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,i)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+eu(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+eu(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let n=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));n.length?r["if-none-match"]=n.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&PZ(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let i=!1;if(r.status!==void 0&&r.status!=304?i=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?i=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?i=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?i=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(i=!0),!i)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let n={};for(let o in this._resHeaders)n[o]=o in r.headers&&!LZ[o]?r.headers[o]:this._resHeaders[o];let s=Object.assign({},r,{status:this._status,method:this._method,headers:n});return{policy:new this.constructor(e,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var yg=v((MIe,XR)=>{"use strict";XR.exports=t=>{let e={};for(let[r,i]of Object.entries(t))e[r.toLowerCase()]=i;return e}});var YR=v((kIe,JR)=>{"use strict";var TZ=w("stream").Readable,$Z=yg(),Ww=class extends TZ{constructor(e,r,i,n){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(i instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof n!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=$Z(r),this.body=i,this.url=n}_read(){this.push(this.body),this.push(null)}};JR.exports=Ww});var ZR=v((RIe,QR)=>{"use strict";var MZ=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];QR.exports=(t,e)=>{let r=new Set(Object.keys(t).concat(MZ));for(let i of r)i in e||(e[i]=typeof t[i]=="function"?t[i].bind(t):t[i])}});var tO=v((OIe,eO)=>{"use strict";var kZ=w("stream").PassThrough,RZ=ZR(),OZ=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new kZ;return RZ(t,e),t.pipe(e)};eO.exports=OZ});var rO=v(Vw=>{Vw.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",i=Array.isArray(e);r=i?"[":"{";var n=!0;for(var s in e){var o=typeof e[s]=="function"||!i&&typeof e[s]>"u";Object.hasOwnProperty.call(e,s)&&!o&&(n||(r+=","),n=!1,i?e[s]==null?r+="null":r+=t(e[s]):e[s]!==void 0&&(r+=t(s)+":"+t(e[s])))}return r+=i?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};Vw.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var oO=v((BIe,sO)=>{"use strict";var NZ=w("events"),iO=rO(),BZ=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(w(e[r]))(t)}return new Map},nO=["sqlite","postgres","mysql","mongo","redis","tiered"],Gw=class extends NZ{constructor(e,{emitErrors:r=!0,...i}={}){if(super(),this.opts={namespace:"keyv",serialize:iO.stringify,deserialize:iO.parse,...typeof e=="string"?{uri:e}:e,...i},!this.opts.store){let s={...this.opts};this.opts.store=BZ(s)}if(this.opts.compression){let s=this.opts.compression;this.opts.serialize=s.serialize.bind(s),this.opts.deserialize=s.deserialize.bind(s)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",s=>this.emit("error",s)),this.opts.store.namespace=this.opts.namespace;let n=s=>async function*(){for await(let[o,a]of typeof s=="function"?s(this.opts.store.namespace):s){let u=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof u.expires=="number"&&Date.now()>u.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),u.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=n(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=n(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return nO.includes(this.opts.store.opts.dialect)||nO.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:i}=this.opts,n=Array.isArray(e),s=n?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(n&&i.getMany===void 0){let o=[];for(let a of s)o.push(Promise.resolve().then(()=>i.get(a)).then(u=>typeof u=="string"?this.opts.deserialize(u):this.opts.compression?this.opts.deserialize(u):u).then(u=>{if(u!=null)return typeof u.expires=="number"&&Date.now()>u.expires?this.delete(a).then(()=>{}):r&&r.raw?u:u.value}));return Promise.allSettled(o).then(a=>{let u=[];for(let c of a)u.push(c.value);return u})}return Promise.resolve().then(()=>n?i.getMany(s):i.get(s)).then(o=>typeof o=="string"?this.opts.deserialize(o):this.opts.compression?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(n){let a=[];for(let u of o){if(typeof u=="string"&&(u=this.opts.deserialize(u)),u==null){a.push(void 0);continue}typeof u.expires=="number"&&Date.now()>u.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?u:u.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(e).then(()=>{}):r&&r.raw?o:o.value}})}set(e,r,i){let n=this._getKeyPrefix(e);typeof i>"u"&&(i=this.opts.ttl),i===0&&(i=void 0);let{store:s}=this.opts;return Promise.resolve().then(()=>{let o=typeof i=="number"?Date.now()+i:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>s.set(n,o,i)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let n=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let s=[];for(let o of n)s.push(r.delete(o));return Promise.allSettled(s).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(n))}let i=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(i))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:i}=this.opts;return Promise.resolve().then(async()=>typeof i.has=="function"?i.has(r):await i.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};sO.exports=Gw});var cO=v((UIe,uO)=>{"use strict";var FZ=w("events"),bg=w("url"),UZ=MR(),jZ=GR(),Kw=zR(),aO=YR(),qZ=yg(),WZ=tO(),VZ=oO(),en=class{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new VZ({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,i)=>{let n;if(typeof r=="string")n=zw(bg.parse(r)),r={};else if(r instanceof bg.URL)n=zw(bg.parse(r.toString())),r={};else{let[p,...f]=(r.path||"").split("?"),H=f.length>0?`?${f.join("?")}`:"";n=zw({...r,pathname:p,search:H})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...GZ(n)},r.headers=qZ(r.headers);let s=new FZ,o=UZ(bg.format(n),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,u=!1,c=!1,l=p=>{c=!0;let f=!1,H,m=new Promise(b=>{H=()=>{f||(f=!0,b())}}),y=b=>{if(u&&!p.forceRefresh){b.status=b.statusCode;let B=Kw.fromObject(u.cachePolicy).revalidatedPolicy(p,b);if(!B.modified){let q=B.policy.responseHeaders();b=new aO(u.statusCode,q,u.body,u.url),b.cachePolicy=B.policy,b.fromCache=!0}}b.fromCache||(b.cachePolicy=new Kw(p,b,p),b.fromCache=!1);let I;p.cache&&b.cachePolicy.storable()?(I=WZ(b),(async()=>{try{let B=jZ.buffer(b);if(await Promise.race([m,new Promise(G=>b.once("end",G))]),f)return;let q=await B,C={cachePolicy:b.cachePolicy.toObject(),url:b.url,statusCode:b.fromCache?u.statusCode:b.statusCode,body:q},D=p.strictTtl?b.cachePolicy.timeToLive():void 0;p.maxTtl&&(D=D?Math.min(D,p.maxTtl):p.maxTtl),await this.cache.set(a,C,D)}catch(B){s.emit("error",new en.CacheError(B))}})()):p.cache&&u&&(async()=>{try{await this.cache.delete(a)}catch(B){s.emit("error",new en.CacheError(B))}})(),s.emit("response",I||b),typeof i=="function"&&i(I||b)};try{let b=e(p,y);b.once("error",H),b.once("abort",H),s.emit("request",b)}catch(b){s.emit("error",new en.RequestError(b))}};return(async()=>{let p=async H=>{await Promise.resolve();let m=H.cache?await this.cache.get(a):void 0;if(typeof m>"u")return l(H);let y=Kw.fromObject(m.cachePolicy);if(y.satisfiesWithoutRevalidation(H)&&!H.forceRefresh){let b=y.responseHeaders(),I=new aO(m.statusCode,b,m.body,m.url);I.cachePolicy=y,I.fromCache=!0,s.emit("response",I),typeof i=="function"&&i(I)}else u=m,H.headers=y.revalidationHeaders(H),l(H)},f=H=>s.emit("error",new en.CacheError(H));this.cache.once("error",f),s.on("response",()=>this.cache.removeListener("error",f));try{await p(r)}catch(H){r.automaticFailover&&!c&&l(r),s.emit("error",new en.CacheError(H))}})(),s}}};function GZ(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function zw(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}en.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};en.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};uO.exports=en});var pO=v((WIe,lO)=>{"use strict";var KZ=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];lO.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(KZ)),i={};for(let n of r)n in e||(i[n]={get(){let s=t[n];return typeof s=="function"?s.bind(t):s},set(s){t[n]=s},enumerable:!0,configurable:!1});return Object.defineProperties(e,i),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var dO=v((VIe,fO)=>{"use strict";var{Transform:zZ,PassThrough:XZ}=w("stream"),Xw=w("zlib"),JZ=pO();fO.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof Xw.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let i=!0,n=new zZ({transform(a,u,c){i=!1,c(null,a)},flush(a){a()}}),s=new XZ({autoDestroy:!1,destroy(a,u){t.destroy(),u(a)}}),o=r?Xw.createBrotliDecompress():Xw.createUnzip();return o.once("error",a=>{if(i&&!t.readable){s.end();return}s.destroy(a)}),JZ(t,s),t.pipe(n).pipe(o).pipe(s),s}});var Yw=v((GIe,hO)=>{"use strict";var Jw=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[i,n]of this.oldCache.entries())this.onEviction(i,n);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};hO.exports=Jw});var Zw=v((KIe,yO)=>{"use strict";var YZ=w("events"),QZ=w("tls"),ZZ=w("http2"),eee=Yw(),Dr=Symbol("currentStreamsCount"),mO=Symbol("request"),Ci=Symbol("cachedOriginSet"),pl=Symbol("gracefullyClosing"),tee=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],ree=(t,e,r)=>{let i=0,n=t.length;for(;i<n;){let s=i+n>>>1;r(t[s],e)?i=s+1:n=s}return i},iee=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,Qw=(t,e)=>{for(let r of t)r[Ci].length<e[Ci].length&&r[Ci].every(i=>e[Ci].includes(i))&&r[Dr]+e[Dr]<=e.remoteSettings.maxConcurrentStreams&&gO(r)},nee=(t,e)=>{for(let r of t)e[Ci].length<r[Ci].length&&e[Ci].every(i=>r[Ci].includes(i))&&e[Dr]+r[Dr]<=r.remoteSettings.maxConcurrentStreams&&gO(e)},HO=({agent:t,isFree:e})=>{let r={};for(let i in t.sessions){let s=t.sessions[i].filter(o=>{let a=o[Jn.kCurrentStreamsCount]<o.remoteSettings.maxConcurrentStreams;return e?a:!a});s.length!==0&&(r[i]=s)}return r},gO=t=>{t[pl]=!0,t[Dr]===0&&t.close()},Jn=class extends YZ{constructor({timeout:e=6e4,maxSessions:r=1/0,maxFreeSessions:i=10,maxCachedTlsSessions:n=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxFreeSessions=i,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new eee({maxSize:n})}static normalizeOrigin(e,r){return typeof e=="string"&&(e=new URL(e)),r&&e.hostname!==r&&(e.hostname=r),e.origin}normalizeOptions(e){let r="";if(e)for(let i of tee)e[i]&&(r+=`:${e[i]}`);return r}_tryToCreateNewSession(e,r){if(!(e in this.queue)||!(r in this.queue[e]))return;let i=this.queue[e][r];this._sessionsCount<this.maxSessions&&!i.completed&&(i.completed=!0,i())}getSession(e,r,i){return new Promise((n,s)=>{Array.isArray(i)?(i=[...i],n()):i=[{resolve:n,reject:s}];let o=this.normalizeOptions(r),a=Jn.normalizeOrigin(e,r&&r.servername);if(a===void 0){for(let{reject:l}of i)l(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(o in this.sessions){let l=this.sessions[o],p=-1,f=-1,H;for(let m of l){let y=m.remoteSettings.maxConcurrentStreams;if(y<p)break;if(m[Ci].includes(a)){let b=m[Dr];if(b>=y||m[pl]||m.destroyed)continue;H||(p=y),b>f&&(H=m,f=b)}}if(H){if(i.length!==1){for(let{reject:m}of i){let y=new Error(`Expected the length of listeners to be 1, got ${i.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);m(y)}return}i[0].resolve(H);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...i),this._tryToCreateNewSession(o,a);return}}else this.queue[o]={};let u=()=>{o in this.queue&&this.queue[o][a]===c&&(delete this.queue[o][a],Object.keys(this.queue[o]).length===0&&delete this.queue[o])},c=()=>{let l=`${a}:${o}`,p=!1;try{let f=ZZ.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(l),...r});f[Dr]=0,f[pl]=!1;let H=()=>f[Dr]<f.remoteSettings.maxConcurrentStreams,m=!0;f.socket.once("session",b=>{this.tlsSessionCache.set(l,b)}),f.once("error",b=>{for(let{reject:I}of i)I(b);this.tlsSessionCache.delete(l)}),f.setTimeout(this.timeout,()=>{f.destroy()}),f.once("close",()=>{if(p){m&&this._freeSessionsCount--,this._sessionsCount--;let b=this.sessions[o];b.splice(b.indexOf(f),1),b.length===0&&delete this.sessions[o]}else{let b=new Error("Session closed without receiving a SETTINGS frame");b.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:I}of i)I(b);u()}this._tryToCreateNewSession(o,a)});let y=()=>{if(!(!(o in this.queue)||!H())){for(let b of f[Ci])if(b in this.queue[o]){let{listeners:I}=this.queue[o][b];for(;I.length!==0&&H();)I.shift().resolve(f);let B=this.queue[o];if(B[b].listeners.length===0&&(delete B[b],Object.keys(B).length===0)){delete this.queue[o];break}if(!H())break}}};f.on("origin",()=>{f[Ci]=f.originSet,H()&&(y(),Qw(this.sessions[o],f))}),f.once("remoteSettings",()=>{if(f.ref(),f.unref(),this._sessionsCount++,c.destroyed){let b=new Error("Agent has been destroyed");for(let I of i)I.reject(b);f.destroy();return}f[Ci]=f.originSet;{let b=this.sessions;if(o in b){let I=b[o];I.splice(ree(I,f,iee),0,f)}else b[o]=[f]}this._freeSessionsCount+=1,p=!0,this.emit("session",f),y(),u(),f[Dr]===0&&this._freeSessionsCount>this.maxFreeSessions&&f.close(),i.length!==0&&(this.getSession(a,r,i),i.length=0),f.on("remoteSettings",()=>{y(),Qw(this.sessions[o],f)})}),f[mO]=f.request,f.request=(b,I)=>{if(f[pl])throw new Error("The session is gracefully closing. No new streams are allowed.");let B=f[mO](b,I);return f.ref(),++f[Dr],f[Dr]===f.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,B.once("close",()=>{if(m=H(),--f[Dr],!f.destroyed&&!f.closed&&(nee(this.sessions[o],f),H()&&!f.closed)){m||(this._freeSessionsCount++,m=!0);let q=f[Dr]===0;q&&f.unref(),q&&(this._freeSessionsCount>this.maxFreeSessions||f[pl])?f.close():(Qw(this.sessions[o],f),y())}}),B}}catch(f){for(let H of i)H.reject(f);u()}};c.listeners=i,c.completed=!1,c.destroyed=!1,this.queue[o][a]=c,this._tryToCreateNewSession(o,a)})}request(e,r,i,n){return new Promise((s,o)=>{this.getSession(e,r,[{reject:o,resolve:a=>{try{s(a.request(i,n))}catch(u){o(u)}}}])})}createConnection(e,r){return Jn.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let i=e.port||443,n=e.hostname||e.host;return typeof r.servername>"u"&&(r.servername=n),QZ.connect(i,n,r)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let r of e)r[Dr]===0&&r.close()}destroy(e){for(let r of Object.values(this.sessions))for(let i of r)i.destroy(e);for(let r of Object.values(this.queue))for(let i of Object.values(r))i.destroyed=!0;this.queue={}}get freeSessions(){return HO({agent:this,isFree:!0})}get busySessions(){return HO({agent:this,isFree:!1})}};Jn.kCurrentStreamsCount=Dr;Jn.kGracefullyClosing=pl;yO.exports={Agent:Jn,globalAgent:new Jn}});var tI=v((zIe,bO)=>{"use strict";var{Readable:see}=w("stream"),eI=class extends see{constructor(e,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};bO.exports=eI});var rI=v((XIe,vO)=>{"use strict";vO.exports=t=>{let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return typeof t.port=="string"&&t.port.length!==0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var wO=v((JIe,_O)=>{"use strict";_O.exports=(t,e,r)=>{for(let i of r)t.on(i,(...n)=>e.emit(i,...n))}});var AO=v((YIe,IO)=>{"use strict";IO.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var EO=v((ZIe,SO)=>{"use strict";var fl=(t,e,r)=>{SO.exports[e]=class extends t{constructor(...n){super(typeof r=="string"?r:r(n)),this.name=`${super.name} [${e}]`,this.code=e}}};fl(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],i=Array.isArray(r);return i&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${i?"one of":"of"} type ${r}. Received ${typeof t[2]}`});fl(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);fl(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);fl(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);fl(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);fl(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`)});var aI=v((eAe,$O)=>{"use strict";var oee=w("http2"),{Writable:aee}=w("stream"),{Agent:xO,globalAgent:uee}=Zw(),cee=tI(),lee=rI(),pee=wO(),fee=AO(),{ERR_INVALID_ARG_TYPE:iI,ERR_INVALID_PROTOCOL:dee,ERR_HTTP_HEADERS_SENT:CO,ERR_INVALID_HTTP_TOKEN:hee,ERR_HTTP_INVALID_HEADER_VALUE:mee,ERR_INVALID_CHAR:Hee}=EO(),{HTTP2_HEADER_STATUS:LO,HTTP2_HEADER_METHOD:PO,HTTP2_HEADER_PATH:DO,HTTP2_METHOD_CONNECT:gee}=oee.constants,gr=Symbol("headers"),nI=Symbol("origin"),sI=Symbol("session"),TO=Symbol("options"),vg=Symbol("flushedHeaders"),Wf=Symbol("jobs"),yee=/^[\^`\-\w!#$%&*+.|~]+$/,bee=/[^\t\u0020-\u007E\u0080-\u00FF]/,oI=class extends aee{constructor(e,r,i){super({autoDestroy:!1});let n=typeof e=="string"||e instanceof URL;if(n&&(e=lee(e instanceof URL?e:new URL(e))),typeof r=="function"||r===void 0?(i=r,r=n?e:{...e}):r={...e,...r},r.h2session)this[sI]=r.h2session;else if(r.agent===!1)this.agent=new xO({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new xO({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=uee;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new iI("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new dee(r.protocol,"https:");let s=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,o=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[gr]=Object.create(null),this[Wf]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[u,c]of Object.entries(r.headers))this.setHeader(u,c);r.auth&&!("authorization"in this[gr])&&(this[gr].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[TO]=r,s===443?(this[nI]=`https://${o}`,":authority"in this[gr]||(this[gr][":authority"]=o)):(this[nI]=`https://${o}:${s}`,":authority"in this[gr]||(this[gr][":authority"]=`${o}:${s}`)),a&&this.setTimeout(a),i&&this.once("response",i),this[vg]=!1}get method(){return this[gr][PO]}set method(e){e&&(this[gr][PO]=e.toUpperCase())}get path(){return this[gr][DO]}set path(e){e&&(this[gr][DO]=e)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,i){if(this._mustNotHaveABody){i(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let n=()=>this._request.write(e,r,i);this._request?n():this[Wf].push(n)}_final(e){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?r():this[Wf].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(e)}async flushHeaders(){if(this[vg]||this.destroyed)return;this[vg]=!0;let e=this.method===gee,r=i=>{if(this._request=i,this.destroyed){i.destroy();return}e||pee(i,this,["timeout","continue","close","error"]);let n=o=>(...a)=>{!this.writable&&!this.destroyed?o(...a):this.once("finish",()=>{o(...a)})};i.once("response",n((o,a,u)=>{let c=new cee(this.socket,i.readableHighWaterMark);this.res=c,c.req=this,c.statusCode=o[LO],c.headers=o,c.rawHeaders=u,c.once("end",()=>{this.aborted?(c.aborted=!0,c.emit("aborted")):(c.complete=!0,c.socket=null,c.connection=null)}),e?(c.upgrade=!0,this.emit("connect",c,i,Buffer.alloc(0))?this.emit("close"):i.destroy()):(i.on("data",l=>{!c._dumped&&!c.push(l)&&i.pause()}),i.once("end",()=>{c.push(null)}),this.emit("response",c)||c._dump())})),i.once("headers",n(o=>this.emit("information",{statusCode:o[LO]}))),i.once("trailers",n((o,a,u)=>{let{res:c}=this;c.trailers=o,c.rawTrailers=u}));let{socket:s}=i.session;this.socket=s,this.connection=s;for(let o of this[Wf])o();this.emit("socket",this.socket)};if(this[sI])try{r(this[sI].request(this[gr]))}catch(i){this.emit("error",i)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[nI],this[TO],this[gr]))}catch(i){this.emit("error",i)}}}getHeader(e){if(typeof e!="string")throw new iI("name","string",e);return this[gr][e.toLowerCase()]}get headersSent(){return this[vg]}removeHeader(e){if(typeof e!="string")throw new iI("name","string",e);if(this.headersSent)throw new CO("remove");delete this[gr][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new CO("set");if(typeof e!="string"||!yee.test(e)&&!fee(e))throw new hee("Header name",e);if(typeof r>"u")throw new mee(r,e);if(bee.test(r))throw new Hee("header content",e);this[gr][e.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let i=()=>this._request.setTimeout(e,r);return this._request?i():this[Wf].push(i),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};$O.exports=oI});var kO=v((tAe,MO)=>{"use strict";var vee=w("tls");MO.exports=(t={},e=vee.connect)=>new Promise((r,i)=>{let n=!1,s,o=async()=>{await u,s.off("timeout",a),s.off("error",i),t.resolveSocket?(r({alpnProtocol:s.alpnProtocol,socket:s,timeout:n}),n&&(await Promise.resolve(),s.emit("timeout"))):(s.destroy(),r({alpnProtocol:s.alpnProtocol,timeout:n}))},a=async()=>{n=!0,o()},u=(async()=>{try{s=await e(t,o),s.on("error",i),s.once("timeout",a)}catch(c){i(c)}})()})});var OO=v((rAe,RO)=>{"use strict";var _ee=w("net");RO.exports=t=>{let e=t.host,r=t.headers&&t.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?e=r:e=r.slice(1,-1):e=r.split(":",1)[0]),_ee.isIP(e)?"":e}});var FO=v((iAe,cI)=>{"use strict";var NO=w("http"),uI=w("https"),wee=kO(),Iee=Yw(),Aee=aI(),See=OO(),Eee=rI(),_g=new Iee({maxSize:100}),Vf=new Map,BO=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let i=()=>{t.emit("free",e,r)};e.on("free",i);let n=()=>{t.removeSocket(e,r)};e.on("close",n);let s=()=>{t.removeSocket(e,r),e.off("close",n),e.off("free",i),e.off("agentRemove",s)};e.on("agentRemove",s),t.emit("free",e,r)},xee=async t=>{let e=`${t.host}:${t.port}:${t.ALPNProtocols.sort()}`;if(!_g.has(e)){if(Vf.has(e))return(await Vf.get(e)).alpnProtocol;let{path:r,agent:i}=t;t.path=t.socketPath;let n=wee(t);Vf.set(e,n);try{let{socket:s,alpnProtocol:o}=await n;if(_g.set(e,o),t.path=r,o==="h2")s.destroy();else{let{globalAgent:a}=uI,u=uI.Agent.prototype.createConnection;i?i.createConnection===u?BO(i,s,t):s.destroy():a.createConnection===u?BO(a,s,t):s.destroy()}return Vf.delete(e),o}catch(s){throw Vf.delete(e),s}}return _g.get(e)};cI.exports=async(t,e,r)=>{if((typeof t=="string"||t instanceof URL)&&(t=Eee(new URL(t))),typeof e=="function"&&(r=e,e=void 0),e={ALPNProtocols:["h2","http/1.1"],...t,...e,resolveSocket:!0},!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let i=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||See(e),e.port=e.port||(i?443:80),e._defaultAgent=i?uI.globalAgent:NO.globalAgent;let n=e.agent;if(n){if(n.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");e.agent=n[i?"https":"http"]}return i&&await xee(e)==="h2"?(n&&(e.agent=n.http2),new Aee(e,r)):NO.request(e,r)};cI.exports.protocolCache=_g});var jO=v((nAe,UO)=>{"use strict";var Cee=w("http2"),Lee=Zw(),lI=aI(),Pee=tI(),Dee=FO(),Tee=(t,e,r)=>new lI(t,e,r),$ee=(t,e,r)=>{let i=new lI(t,e,r);return i.end(),i};UO.exports={...Cee,ClientRequest:lI,IncomingMessage:Pee,...Lee,request:Tee,get:$ee,auto:Dee}});var fI=v(pI=>{"use strict";Object.defineProperty(pI,"__esModule",{value:!0});var qO=Cs();pI.default=t=>qO.default.nodeStream(t)&&qO.default.function_(t.getBoundary)});var KO=v(dI=>{"use strict";Object.defineProperty(dI,"__esModule",{value:!0});var VO=w("fs"),GO=w("util"),WO=Cs(),Mee=fI(),kee=GO.promisify(VO.stat);dI.default=async(t,e)=>{if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(WO.default.string(t))return Buffer.byteLength(t);if(WO.default.buffer(t))return t.length;if(Mee.default(t))return GO.promisify(t.getLength.bind(t))();if(t instanceof VO.ReadStream){let{size:r}=await kee(t.path);return r===0?void 0:r}}});var mI=v(hI=>{"use strict";Object.defineProperty(hI,"__esModule",{value:!0});function Ree(t,e,r){let i={};for(let n of r)i[n]=(...s)=>{e.emit(n,...s)},t.on(n,i[n]);return()=>{for(let n of r)t.off(n,i[n])}}hI.default=Ree});var zO=v(HI=>{"use strict";Object.defineProperty(HI,"__esModule",{value:!0});HI.default=()=>{let t=[];return{once(e,r,i){e.once(r,i),t.push({origin:e,event:r,fn:i})},unhandleAll(){for(let e of t){let{origin:r,event:i,fn:n}=e;r.removeListener(i,n)}t.length=0}}}});var JO=v(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.TimeoutError=void 0;var Oee=w("net"),Nee=zO(),XO=Symbol("reentry"),Bee=()=>{},wg=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};Gf.TimeoutError=wg;Gf.default=(t,e,r)=>{if(XO in t)return Bee;t[XO]=!0;let i=[],{once:n,unhandleAll:s}=Nee.default(),o=(p,f,H)=>{var m;let y=setTimeout(f,p,p,H);(m=y.unref)===null||m===void 0||m.call(y);let b=()=>{clearTimeout(y)};return i.push(b),b},{host:a,hostname:u}=r,c=(p,f)=>{t.destroy(new wg(p,f))},l=()=>{for(let p of i)p();s()};if(t.once("error",p=>{if(l(),t.listenerCount("error")===0)throw p}),t.once("close",l),n(t,"response",p=>{n(p,"end",l)}),typeof e.request<"u"&&o(e.request,c,"request"),typeof e.socket<"u"){let p=()=>{c(e.socket,"socket")};t.setTimeout(e.socket,p),i.push(()=>{t.removeListener("timeout",p)})}return n(t,"socket",p=>{var f;let{socketPath:H}=t;if(p.connecting){let m=Boolean(H??Oee.isIP((f=u??a)!==null&&f!==void 0?f:"")!==0);if(typeof e.lookup<"u"&&!m&&typeof p.address().address>"u"){let y=o(e.lookup,c,"lookup");n(p,"lookup",y)}if(typeof e.connect<"u"){let y=()=>o(e.connect,c,"connect");m?n(p,"connect",y()):n(p,"lookup",b=>{b===null&&n(p,"connect",y())})}typeof e.secureConnect<"u"&&r.protocol==="https:"&&n(p,"connect",()=>{let y=o(e.secureConnect,c,"secureConnect");n(p,"secureConnect",y)})}if(typeof e.send<"u"){let m=()=>o(e.send,c,"send");p.connecting?n(p,"connect",()=>{n(t,"upload-complete",m())}):n(t,"upload-complete",m())}}),typeof e.response<"u"&&n(t,"upload-complete",()=>{let p=o(e.response,c,"response");n(t,"response",p)}),l}});var QO=v(gI=>{"use strict";Object.defineProperty(gI,"__esModule",{value:!0});var YO=Cs();gI.default=t=>{t=t;let e={protocol:t.protocol,hostname:YO.default.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return YO.default.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var ZO=v(yI=>{"use strict";Object.defineProperty(yI,"__esModule",{value:!0});var Fee=w("url"),Uee=["protocol","host","hostname","port","pathname","search"];yI.default=(t,e)=>{var r,i;if(e.path){if(e.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(e.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(e.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(e.search&&e.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!t){if(!e.protocol)throw new TypeError("No URL protocol specified");t=`${e.protocol}//${(i=(r=e.hostname)!==null&&r!==void 0?r:e.host)!==null&&i!==void 0?i:""}`}let n=new Fee.URL(t);if(e.path){let s=e.path.indexOf("?");s===-1?e.pathname=e.path:(e.pathname=e.path.slice(0,s),e.search=e.path.slice(s+1)),delete e.path}for(let s of Uee)e[s]&&(n[s]=e[s].toString());return n}});var eN=v(vI=>{"use strict";Object.defineProperty(vI,"__esModule",{value:!0});var bI=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};vI.default=bI});var wI=v(_I=>{"use strict";Object.defineProperty(_I,"__esModule",{value:!0});var jee=async t=>{let e=[],r=0;for await(let i of t)e.push(i),r+=Buffer.byteLength(i);return Buffer.isBuffer(e[0])?Buffer.concat(e,r):Buffer.from(e.join(""))};_I.default=jee});var rN=v(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.dnsLookupIpVersionToFamily=tu.isDnsLookupIpVersion=void 0;var tN={auto:0,ipv4:4,ipv6:6};tu.isDnsLookupIpVersion=t=>t in tN;tu.dnsLookupIpVersionToFamily=t=>{if(tu.isDnsLookupIpVersion(t))return tN[t];throw new Error("Invalid DNS lookup IP version")}});var II=v(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.isResponseOk=void 0;Ig.isResponseOk=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304}});var nN=v(AI=>{"use strict";Object.defineProperty(AI,"__esModule",{value:!0});var iN=new Set;AI.default=t=>{iN.has(t)||(iN.add(t),process.emitWarning(`Got: ${t}`,{type:"DeprecationWarning"}))}});var sN=v(SI=>{"use strict";Object.defineProperty(SI,"__esModule",{value:!0});var st=Cs(),qee=(t,e)=>{if(st.default.null_(t.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");st.assert.any([st.default.string,st.default.undefined],t.encoding),st.assert.any([st.default.boolean,st.default.undefined],t.resolveBodyOnly),st.assert.any([st.default.boolean,st.default.undefined],t.methodRewriting),st.assert.any([st.default.boolean,st.default.undefined],t.isStream),st.assert.any([st.default.string,st.default.undefined],t.responseType),t.responseType===void 0&&(t.responseType="text");let{retry:r}=t;if(e?t.retry={...e.retry}:t.retry={calculateDelay:i=>i.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},st.default.object(r)?(t.retry={...t.retry,...r},t.retry.methods=[...new Set(t.retry.methods.map(i=>i.toUpperCase()))],t.retry.statusCodes=[...new Set(t.retry.statusCodes)],t.retry.errorCodes=[...new Set(t.retry.errorCodes)]):st.default.number(r)&&(t.retry.limit=r),st.default.undefined(t.retry.maxRetryAfter)&&(t.retry.maxRetryAfter=Math.min(...[t.timeout.request,t.timeout.connect].filter(st.default.number))),st.default.object(t.pagination)){e&&(t.pagination={...e.pagination,...t.pagination});let{pagination:i}=t;if(!st.default.function_(i.transform))throw new Error("`options.pagination.transform` must be implemented");if(!st.default.function_(i.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!st.default.function_(i.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!st.default.function_(i.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return t.responseType==="json"&&t.headers.accept===void 0&&(t.headers.accept="application/json"),t};SI.default=qee});var oN=v(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.retryAfterStatusCodes=void 0;Kf.retryAfterStatusCodes=new Set([413,429,503]);var Wee=({attemptCount:t,retryOptions:e,error:r,retryAfter:i})=>{if(t>e.limit)return 0;let n=e.methods.includes(r.options.method),s=e.errorCodes.includes(r.code),o=r.response&&e.statusCodes.includes(r.response.statusCode);if(!n||!s&&!o)return 0;if(r.response){if(i)return e.maxRetryAfter===void 0||i>e.maxRetryAfter?0:i;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(t-1)*1e3+a};Kf.default=Wee});var Jf=v(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.UnsupportedProtocolError=Ne.ReadError=Ne.TimeoutError=Ne.UploadError=Ne.CacheError=Ne.HTTPError=Ne.MaxRedirectsError=Ne.RequestError=Ne.setNonEnumerableProperties=Ne.knownHookEvents=Ne.withoutBody=Ne.kIsNormalizedAlready=void 0;var aN=w("util"),uN=w("stream"),Vee=w("fs"),Ro=w("url"),cN=w("http"),EI=w("http"),Gee=w("https"),Kee=AR(),zee=DR(),lN=cO(),Xee=dO(),Jee=jO(),Yee=yg(),K=Cs(),Qee=KO(),pN=fI(),Zee=mI(),fN=JO(),ete=QO(),dN=ZO(),tte=eN(),rte=wI(),hN=rN(),ite=II(),Oo=nN(),nte=sN(),ste=oN(),xI,ir=Symbol("request"),Eg=Symbol("response"),dl=Symbol("responseSize"),hl=Symbol("downloadedSize"),ml=Symbol("bodySize"),Hl=Symbol("uploadedSize"),Ag=Symbol("serverResponsesPiped"),mN=Symbol("unproxyEvents"),HN=Symbol("isFromCache"),CI=Symbol("cancelTimeouts"),gN=Symbol("startedReading"),gl=Symbol("stopReading"),Sg=Symbol("triggerRead"),No=Symbol("body"),zf=Symbol("jobs"),yN=Symbol("originalResponse"),bN=Symbol("retryTimeout");Ne.kIsNormalizedAlready=Symbol("isNormalizedAlready");var ote=K.default.string(process.versions.brotli);Ne.withoutBody=new Set(["GET","HEAD"]);Ne.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function ate(t){for(let e in t){let r=t[e];if(!K.default.string(r)&&!K.default.number(r)&&!K.default.boolean(r)&&!K.default.null_(r)&&!K.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function ute(t){return K.default.object(t)&&!("statusCode"in t)}var LI=new tte.default,cte=async t=>new Promise((e,r)=>{let i=n=>{r(n)};t.pending||e(),t.once("error",i),t.once("ready",()=>{t.off("error",i),e()})}),lte=new Set([300,301,302,303,304,307,308]),pte=["context","body","json","form"];Ne.setNonEnumerableProperties=(t,e)=>{let r={};for(let i of t)if(i)for(let n of pte)n in i&&(r[n]={writable:!0,configurable:!0,enumerable:!1,value:i[n]});Object.defineProperties(e,r)};var At=class extends Error{constructor(e,r,i){var n,s;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(n=r.code)!==null&&n!==void 0?n:"ERR_GOT_REQUEST_ERROR",i instanceof $g?(Object.defineProperty(this,"request",{enumerable:!1,value:i}),Object.defineProperty(this,"response",{enumerable:!1,value:i[Eg]}),Object.defineProperty(this,"options",{enumerable:!1,value:i.options})):Object.defineProperty(this,"options",{enumerable:!1,value:i}),this.timings=(s=this.request)===null||s===void 0?void 0:s.timings,K.default.string(r.stack)&&K.default.string(this.stack)){let o=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(o).split(`
`).reverse(),u=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;u.length!==0&&u[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,o)}${a.reverse().join(`
`)}${u.reverse().join(`
`)}`}}};Ne.RequestError=At;var xg=class extends At{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};Ne.MaxRedirectsError=xg;var Cg=class extends At{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};Ne.HTTPError=Cg;var Lg=class extends At{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};Ne.CacheError=Lg;var Pg=class extends At{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};Ne.UploadError=Pg;var Dg=class extends At{constructor(e,r,i){super(e.message,e,i),this.name="TimeoutError",this.event=e.event,this.timings=r}};Ne.TimeoutError=Dg;var Xf=class extends At{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};Ne.ReadError=Xf;var Tg=class extends At{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};Ne.UnsupportedProtocolError=Tg;var fte=["socket","connect","continue","information","upgrade","timeout"],$g=class extends uN.Duplex{constructor(e,r={},i){super({autoDestroy:!1,highWaterMark:0}),this[hl]=0,this[Hl]=0,this.requestInitialized=!1,this[Ag]=new Set,this.redirects=[],this[gl]=!1,this[Sg]=!1,this[zf]=[],this.retryCount=0,this._progressCallbacks=[];let n=()=>this._unlockWrite(),s=()=>this._lockWrite();this.on("pipe",c=>{c.prependListener("data",n),c.on("data",s),c.prependListener("end",n),c.on("end",s)}),this.on("unpipe",c=>{c.off("data",n),c.off("data",s),c.off("end",n),c.off("end",s)}),this.on("pipe",c=>{c instanceof EI.IncomingMessage&&(this.options.headers={...c.headers,...this.options.headers})});let{json:o,body:a,form:u}=r;if((o||a||u)&&this._lockWrite(),Ne.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,i)}catch(c){K.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(c);return}(async()=>{var c;try{this.options.body instanceof Vee.ReadStream&&await cte(this.options.body);let{url:l}=this.options;if(!l)throw new TypeError("Missing `url` property");if(this.requestUrl=l.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(c=this[ir])===null||c===void 0||c.destroy();return}for(let p of this[zf])p();this[zf].length=0,this.requestInitialized=!0}catch(l){if(l instanceof At){this._beforeError(l);return}this.destroyed||this.destroy(l)}})()}static normalizeArguments(e,r,i){var n,s,o,a,u;let c=r;if(K.default.object(e)&&!K.default.urlInstance(e))r={...i,...e,...r};else{if(e&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...i,...r},e!==void 0&&(r.url=e),K.default.urlInstance(r.url)&&(r.url=new Ro.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),K.assert.any([K.default.string,K.default.undefined],r.method),K.assert.any([K.default.object,K.default.undefined],r.headers),K.assert.any([K.default.string,K.default.urlInstance,K.default.undefined],r.prefixUrl),K.assert.any([K.default.object,K.default.undefined],r.cookieJar),K.assert.any([K.default.object,K.default.string,K.default.undefined],r.searchParams),K.assert.any([K.default.object,K.default.string,K.default.undefined],r.cache),K.assert.any([K.default.object,K.default.number,K.default.undefined],r.timeout),K.assert.any([K.default.object,K.default.undefined],r.context),K.assert.any([K.default.object,K.default.undefined],r.hooks),K.assert.any([K.default.boolean,K.default.undefined],r.decompress),K.assert.any([K.default.boolean,K.default.undefined],r.ignoreInvalidCookies),K.assert.any([K.default.boolean,K.default.undefined],r.followRedirect),K.assert.any([K.default.number,K.default.undefined],r.maxRedirects),K.assert.any([K.default.boolean,K.default.undefined],r.throwHttpErrors),K.assert.any([K.default.boolean,K.default.undefined],r.http2),K.assert.any([K.default.boolean,K.default.undefined],r.allowGetBody),K.assert.any([K.default.string,K.default.undefined],r.localAddress),K.assert.any([hN.isDnsLookupIpVersion,K.default.undefined],r.dnsLookupIpVersion),K.assert.any([K.default.object,K.default.undefined],r.https),K.assert.any([K.default.boolean,K.default.undefined],r.rejectUnauthorized),r.https&&(K.assert.any([K.default.boolean,K.default.undefined],r.https.rejectUnauthorized),K.assert.any([K.default.function_,K.default.undefined],r.https.checkServerIdentity),K.assert.any([K.default.string,K.default.object,K.default.array,K.default.undefined],r.https.certificateAuthority),K.assert.any([K.default.string,K.default.object,K.default.array,K.default.undefined],r.https.key),K.assert.any([K.default.string,K.default.object,K.default.array,K.default.undefined],r.https.certificate),K.assert.any([K.default.string,K.default.undefined],r.https.passphrase),K.assert.any([K.default.string,K.default.buffer,K.default.array,K.default.undefined],r.https.pfx)),K.assert.any([K.default.object,K.default.undefined],r.cacheOptions),K.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===(i==null?void 0:i.headers)?r.headers={...r.headers}:r.headers=Yee({...i==null?void 0:i.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==(i==null?void 0:i.searchParams)){let H;if(K.default.string(r.searchParams)||r.searchParams instanceof Ro.URLSearchParams)H=new Ro.URLSearchParams(r.searchParams);else{ate(r.searchParams),H=new Ro.URLSearchParams;for(let m in r.searchParams){let y=r.searchParams[m];y===null?H.append(m,""):y!==void 0&&H.append(m,y)}}(n=i==null?void 0:i.searchParams)===null||n===void 0||n.forEach((m,y)=>{H.has(y)||H.append(y,m)}),r.searchParams=H}if(r.username=(s=r.username)!==null&&s!==void 0?s:"",r.password=(o=r.password)!==null&&o!==void 0?o:"",K.default.undefined(r.prefixUrl)?r.prefixUrl=(a=i==null?void 0:i.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),K.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=dN.default(r.prefixUrl+r.url,r)}else(K.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=dN.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:H}=r;Object.defineProperty(r,"prefixUrl",{set:y=>{let b=r.url;if(!b.href.startsWith(y))throw new Error(`Cannot change \`prefixUrl\` from ${H} to ${y}: ${b.href}`);r.url=new Ro.URL(y+b.href.slice(H.length)),H=y},get:()=>H});let{protocol:m}=r.url;if(m==="unix:"&&(m="http:",r.url=new Ro.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),m!=="http:"&&m!=="https:")throw new Tg(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:l}=r;if(l){let{setCookie:H,getCookieString:m}=l;K.assert.function_(H),K.assert.function_(m),H.length===4&&m.length===0&&(H=aN.promisify(H.bind(r.cookieJar)),m=aN.promisify(m.bind(r.cookieJar)),r.cookieJar={setCookie:H,getCookieString:m})}let{cache:p}=r;if(p&&(LI.has(p)||LI.set(p,new lN((H,m)=>{let y=H[ir](H,m);return K.default.promise(y)&&(y.once=(b,I)=>{if(b==="error")y.catch(I);else if(b==="abort")(async()=>{try{(await y).once("abort",I)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${b}`);return y}),y},p))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)xI||(xI=new zee.default),r.dnsCache=xI;else if(!K.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${K.default(r.dnsCache)}`);K.default.number(r.timeout)?r.timeout={request:r.timeout}:i&&r.timeout!==i.timeout?r.timeout={...i.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let f=r.hooks===(i==null?void 0:i.hooks);r.hooks={...r.hooks};for(let H of Ne.knownHookEvents)if(H in r.hooks)if(K.default.array(r.hooks[H]))r.hooks[H]=[...r.hooks[H]];else throw new TypeError(`Parameter \`${H}\` must be an Array, got ${K.default(r.hooks[H])}`);else r.hooks[H]=[];if(i&&!f)for(let H of Ne.knownHookEvents)i.hooks[H].length>0&&(r.hooks[H]=[...i.hooks[H],...r.hooks[H]]);if("family"in r&&Oo.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),i!=null&&i.https&&(r.https={...i.https,...r.https}),"rejectUnauthorized"in r&&Oo.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&Oo.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&Oo.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&Oo.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&Oo.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&Oo.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&Oo.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let H in r.agent)if(H!=="http"&&H!=="https"&&H!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${H}\``)}return r.maxRedirects=(u=r.maxRedirects)!==null&&u!==void 0?u:0,Ne.setNonEnumerableProperties([i,c],r),nte.default(r,i)}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,i=!K.default.undefined(e.form),n=!K.default.undefined(e.json),s=!K.default.undefined(e.body),o=i||n||s,a=Ne.withoutBody.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=a,o){if(a)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([s,i,n].filter(u=>u).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(s&&!(e.body instanceof uN.Readable)&&!K.default.string(e.body)&&!K.default.buffer(e.body)&&!pN.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(i&&!K.default.object(e.form))throw new TypeError("The `form` option must be an Object");{let u=!K.default.string(r["content-type"]);s?(pN.default(e.body)&&u&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[No]=e.body):i?(u&&(r["content-type"]="application/x-www-form-urlencoded"),this[No]=new Ro.URLSearchParams(e.form).toString()):(u&&(r["content-type"]="application/json"),this[No]=e.stringifyJson(e.json));let c=await Qee.default(this[No],e.headers);K.default.undefined(r["content-length"])&&K.default.undefined(r["transfer-encoding"])&&!a&&!K.default.undefined(c)&&(r["content-length"]=String(c))}}else a?this._lockWrite():this._unlockWrite();this[ml]=Number(r["content-length"])||void 0}async _onResponseBase(e){let{options:r}=this,{url:i}=r;this[yN]=e,r.decompress&&(e=Xee(e));let n=e.statusCode,s=e;s.statusMessage=s.statusMessage?s.statusMessage:cN.STATUS_CODES[n],s.url=r.url.toString(),s.requestUrl=this.requestUrl,s.redirectUrls=this.redirects,s.request=this,s.isFromCache=e.fromCache||!1,s.ip=this.ip,s.retryCount=this.retryCount,this[HN]=s.isFromCache,this[dl]=Number(e.headers["content-length"])||void 0,this[Eg]=e,e.once("end",()=>{this[dl]=this[hl],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{e.destroy(),this._beforeError(new Xf(a,this))}),e.once("aborted",()=>{this._beforeError(new Xf({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=e.headers["set-cookie"];if(K.default.object(r.cookieJar)&&o){let a=o.map(async u=>r.cookieJar.setCookie(u,i.toString()));r.ignoreInvalidCookies&&(a=a.map(async u=>u.catch(()=>{})));try{await Promise.all(a)}catch(u){this._beforeError(u);return}}if(r.followRedirect&&e.headers.location&&lte.has(n)){if(e.resume(),this[ir]&&(this[CI](),delete this[ir],this[mN]()),(n===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[No]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new xg(this));return}try{let p=function(f){return f.protocol==="unix:"||f.hostname==="unix"},u=Buffer.from(e.headers.location,"binary").toString(),c=new Ro.URL(u,i),l=c.toString();if(decodeURI(l),!p(i)&&p(c)){this._beforeError(new At("Cannot redirect to UNIX socket",{},this));return}c.hostname!==i.hostname||c.port!==i.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(c.username=r.username,c.password=r.password),this.redirects.push(l),r.url=c;for(let f of r.hooks.beforeRedirect)await f(r,s);this.emit("redirect",s,r),await this._makeRequest()}catch(u){this._beforeError(u);return}return}if(r.isStream&&r.throwHttpErrors&&!ite.isResponseOk(s)){this._beforeError(new Cg(s));return}e.on("readable",()=>{this[Sg]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e);for(let a of this[Ag])if(!a.headersSent){for(let u in e.headers){let c=r.decompress?u!=="content-encoding":!0,l=e.headers[u];c&&a.setHeader(u,l)}a.statusCode=n}}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:i,url:n}=r;Kee.default(e),this[CI]=fN.default(e,i,n);let s=r.cache?"cacheableResponse":"response";e.once(s,u=>{this._onResponse(u)}),e.once("error",u=>{var c;e.destroy(),(c=e.res)===null||c===void 0||c.removeAllListeners("end"),u=u instanceof fN.TimeoutError?new Dg(u,this.timings,this):new At(u.message,u,this),this._beforeError(u)}),this[mN]=Zee.default(e,this,fte),this[ir]=e,this.emit("uploadProgress",this.uploadProgress);let o=this[No],a=this.redirects.length===0?this:e;K.default.nodeStream(o)?(o.pipe(a),o.once("error",u=>{this._beforeError(new Pg(u,this))})):(this._unlockWrite(),K.default.undefined(o)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(o,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,r){return new Promise((i,n)=>{Object.assign(r,ete.default(e)),delete r.url;let s,o=LI.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,s&&(await s).emit("cacheableResponse",a),i(a)});r.url=e,o.once("error",n),o.once("request",async a=>{s=a,i(s)})})}async _makeRequest(){var e,r,i,n,s;let{options:o}=this,{headers:a}=o;for(let I in a)if(K.default.undefined(a[I]))delete a[I];else if(K.default.null_(a[I]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${I}\` header`);if(o.decompress&&K.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=ote?"gzip, deflate, br":"gzip, deflate"),o.cookieJar){let I=await o.cookieJar.getCookieString(o.url.toString());K.default.nonEmptyString(I)&&(o.headers.cookie=I)}for(let I of o.hooks.beforeRequest){let B=await I(o);if(!K.default.undefined(B)){o.request=()=>B;break}}o.body&&this[No]!==o.body&&(this[No]=o.body);let{agent:u,request:c,timeout:l,url:p}=o;if(o.dnsCache&&!("lookup"in o)&&(o.lookup=o.dnsCache.lookup),p.hostname==="unix"){let I=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(I!=null&&I.groups){let{socketPath:B,path:q}=I.groups;Object.assign(o,{socketPath:B,path:q,host:""})}}let f=p.protocol==="https:",H;o.http2?H=Jee.auto:H=f?Gee.request:cN.request;let m=(e=o.request)!==null&&e!==void 0?e:H,y=o.cache?this._createCacheableRequest:m;u&&!o.http2&&(o.agent=u[f?"https":"http"]),o[ir]=m,delete o.request,delete o.timeout;let b=o;if(b.shared=(r=o.cacheOptions)===null||r===void 0?void 0:r.shared,b.cacheHeuristic=(i=o.cacheOptions)===null||i===void 0?void 0:i.cacheHeuristic,b.immutableMinTimeToLive=(n=o.cacheOptions)===null||n===void 0?void 0:n.immutableMinTimeToLive,b.ignoreCargoCult=(s=o.cacheOptions)===null||s===void 0?void 0:s.ignoreCargoCult,o.dnsLookupIpVersion!==void 0)try{b.family=hN.dnsLookupIpVersionToFamily(o.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}o.https&&("rejectUnauthorized"in o.https&&(b.rejectUnauthorized=o.https.rejectUnauthorized),o.https.checkServerIdentity&&(b.checkServerIdentity=o.https.checkServerIdentity),o.https.certificateAuthority&&(b.ca=o.https.certificateAuthority),o.https.certificate&&(b.cert=o.https.certificate),o.https.key&&(b.key=o.https.key),o.https.passphrase&&(b.passphrase=o.https.passphrase),o.https.pfx&&(b.pfx=o.https.pfx));try{let I=await y(p,b);K.default.undefined(I)&&(I=H(p,b)),o.request=c,o.timeout=l,o.agent=u,o.https&&("rejectUnauthorized"in o.https&&delete b.rejectUnauthorized,o.https.checkServerIdentity&&delete b.checkServerIdentity,o.https.certificateAuthority&&delete b.ca,o.https.certificate&&delete b.cert,o.https.key&&delete b.key,o.https.passphrase&&delete b.passphrase,o.https.pfx&&delete b.pfx),ute(I)?this._onRequest(I):this.writable?(this.once("finish",()=>{this._onResponse(I)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(I)}catch(I){throw I instanceof lN.CacheError?new Lg(I,this):new At(I.message,I,this)}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new At(r.message,r,this)}this.destroy(e)}_beforeError(e){if(this[gl])return;let{options:r}=this,i=this.retryCount+1;this[gl]=!0,e instanceof At||(e=new At(e.message,e,this));let n=e,{response:s}=n;(async()=>{if(s&&!s.body){s.setEncoding(this._readableState.encoding);try{s.rawBody=await rte.default(s),s.body=s.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let o;try{let a;s&&"retry-after"in s.headers&&(a=Number(s.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(s.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),o=await r.retry.calculateDelay({attemptCount:i,retryOptions:r.retry,error:n,retryAfter:a,computedValue:ste.default({attemptCount:i,retryOptions:r.retry,error:n,retryAfter:a,computedValue:0})})}catch(a){this._error(new At(a.message,a,this));return}if(o){let a=async()=>{try{for(let u of this.options.hooks.beforeRetry)await u(this.options,n,i)}catch(u){this._error(new At(u.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",i,e))};this[bN]=setTimeout(a,o);return}}this._error(n)})()}_read(){this[Sg]=!0;let e=this[Eg];if(e&&!this[gl]){e.readableLength&&(this[Sg]=!1);let r;for(;(r=e.read())!==null;){this[hl]+=r.length,this[gN]=!0;let i=this.downloadProgress;i.percent<1&&this.emit("downloadProgress",i),this.push(r)}}}_write(e,r,i){let n=()=>{this._writeRequest(e,r,i)};this.requestInitialized?n():this[zf].push(n)}_writeRequest(e,r,i){this[ir].destroyed||(this._progressCallbacks.push(()=>{this[Hl]+=Buffer.byteLength(e,r);let n=this.uploadProgress;n.percent<1&&this.emit("uploadProgress",n)}),this[ir].write(e,r,n=>{!n&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),i(n)}))}_final(e){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(ir in this)){e();return}if(this[ir].destroyed){e();return}this[ir].end(i=>{i||(this[ml]=this[Hl],this.emit("uploadProgress",this.uploadProgress),this[ir].emit("upload-complete")),e(i)})};this.requestInitialized?r():this[zf].push(r)}_destroy(e,r){var i;this[gl]=!0,clearTimeout(this[bN]),ir in this&&(this[CI](),!((i=this[Eg])===null||i===void 0)&&i.complete||this[ir].destroy()),e!==null&&!K.default.undefined(e)&&!(e instanceof At)&&(e=new At(e.message,e,this)),r(e)}get _isAboutToError(){return this[gl]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,r,i;return((r=(e=this[ir])===null||e===void 0?void 0:e.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((i=this[yN])===null||i===void 0)&&i.complete)}get socket(){var e,r;return(r=(e=this[ir])===null||e===void 0?void 0:e.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let e;return this[dl]?e=this[hl]/this[dl]:this[dl]===this[hl]?e=1:e=0,{percent:e,transferred:this[hl],total:this[dl]}}get uploadProgress(){let e;return this[ml]?e=this[Hl]/this[ml]:this[ml]===this[Hl]?e=1:e=0,{percent:e,transferred:this[Hl],total:this[ml]}}get timings(){var e;return(e=this[ir])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[HN]}pipe(e,r){if(this[gN])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof EI.ServerResponse&&this[Ag].add(e),super.pipe(e,r)}unpipe(e){return e instanceof EI.ServerResponse&&this[Ag].delete(e),super.unpipe(e),this}};Ne.default=$g});var Yf=v(tn=>{"use strict";var dte=tn&&tn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),hte=tn&&tn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dte(e,t,r)};Object.defineProperty(tn,"__esModule",{value:!0});tn.CancelError=tn.ParseError=void 0;var vN=Jf(),PI=class extends vN.RequestError{constructor(e,r){let{options:i}=r.request;super(`${e.message} in "${i.url.toString()}"`,e,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};tn.ParseError=PI;var DI=class extends vN.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};tn.CancelError=DI;hte(Jf(),tn)});var wN=v(TI=>{"use strict";Object.defineProperty(TI,"__esModule",{value:!0});var _N=Yf(),mte=(t,e,r,i)=>{let{rawBody:n}=t;try{if(e==="text")return n.toString(i);if(e==="json")return n.length===0?"":r(n.toString());if(e==="buffer")return n;throw new _N.ParseError({message:`Unknown body type '${e}'`,name:"Error"},t)}catch(s){throw new _N.ParseError(s,t)}};TI.default=mte});var $I=v(Bo=>{"use strict";var Hte=Bo&&Bo.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),gte=Bo&&Bo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Hte(e,t,r)};Object.defineProperty(Bo,"__esModule",{value:!0});var yte=w("events"),bte=Cs(),vte=wR(),Mg=Yf(),IN=wN(),AN=Jf(),_te=mI(),wte=wI(),SN=II(),Ite=["request","response","redirect","uploadProgress","downloadProgress"];function EN(t){let e,r,i=new yte.EventEmitter,n=new vte((o,a,u)=>{let c=l=>{let p=new AN.default(void 0,t);p.retryCount=l,p._noPipe=!0,u(()=>p.destroy()),u.shouldReject=!1,u(()=>a(new Mg.CancelError(p))),e=p,p.once("response",async m=>{var y;if(m.retryCount=l,m.request.aborted)return;let b;try{b=await wte.default(p),m.rawBody=b}catch{return}if(p._isAboutToError)return;let I=((y=m.headers["content-encoding"])!==null&&y!==void 0?y:"").toLowerCase(),B=["gzip","deflate","br"].includes(I),{options:q}=p;if(B&&!q.decompress)m.body=b;else try{m.body=IN.default(m,q.responseType,q.parseJson,q.encoding)}catch(C){if(m.body=b.toString(),SN.isResponseOk(m)){p._beforeError(C);return}}try{for(let[C,D]of q.hooks.afterResponse.entries())m=await D(m,async G=>{let W=AN.default.normalizeArguments(void 0,{...G,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},q);W.hooks.afterResponse=W.hooks.afterResponse.slice(0,C);for(let M of W.hooks.beforeRetry)await M(W);let N=EN(W);return u(()=>{N.catch(()=>{}),N.cancel()}),N})}catch(C){p._beforeError(new Mg.RequestError(C.message,C,p));return}if(r=m,!SN.isResponseOk(m)){p._beforeError(new Mg.HTTPError(m));return}p.destroy(),o(p.options.resolveBodyOnly?m.body:m)});let f=m=>{if(n.isCanceled)return;let{options:y}=p;if(m instanceof Mg.HTTPError&&!y.throwHttpErrors){let{response:b}=m;o(p.options.resolveBodyOnly?b.body:b);return}a(m)};p.once("error",f);let H=p.options.body;p.once("retry",(m,y)=>{var b,I;if(H===((b=y.request)===null||b===void 0?void 0:b.options.body)&&bte.default.nodeStream((I=y.request)===null||I===void 0?void 0:I.options.body)){f(y);return}c(m)}),_te.default(p,i,Ite)};c(0)});n.on=(o,a)=>(i.on(o,a),n);let s=o=>{let a=(async()=>{await n;let{options:u}=r.request;return IN.default(r,o,u.parseJson,u.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)),a};return n.json=()=>{let{headers:o}=e.options;return!e.writableFinished&&o.accept===void 0&&(o.accept="application/json"),s("json")},n.buffer=()=>s("buffer"),n.text=()=>s("text"),n}Bo.default=EN;gte(Yf(),Bo)});var xN=v(MI=>{"use strict";Object.defineProperty(MI,"__esModule",{value:!0});var Ate=Yf();function Ste(t,...e){let r=(async()=>{if(t instanceof Ate.RequestError)try{for(let n of e)if(n)for(let s of n)t=await s(t)}catch(n){t=n}throw t})(),i=()=>r;return r.json=i,r.text=i,r.buffer=i,r.on=i,r}MI.default=Ste});var PN=v(kI=>{"use strict";Object.defineProperty(kI,"__esModule",{value:!0});var CN=Cs();function LN(t){for(let e of Object.values(t))(CN.default.plainObject(e)||CN.default.array(e))&&LN(e);return Object.freeze(t)}kI.default=LN});var TN=v(DN=>{"use strict";Object.defineProperty(DN,"__esModule",{value:!0})});var RI=v(Pi=>{"use strict";var Ete=Pi&&Pi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),xte=Pi&&Pi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ete(e,t,r)};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.defaultHandler=void 0;var $N=Cs(),Li=$I(),Cte=xN(),Rg=Jf(),Lte=PN(),Pte={RequestError:Li.RequestError,CacheError:Li.CacheError,ReadError:Li.ReadError,HTTPError:Li.HTTPError,MaxRedirectsError:Li.MaxRedirectsError,TimeoutError:Li.TimeoutError,ParseError:Li.ParseError,CancelError:Li.CancelError,UnsupportedProtocolError:Li.UnsupportedProtocolError,UploadError:Li.UploadError},Dte=async t=>new Promise(e=>{setTimeout(e,t)}),{normalizeArguments:kg}=Rg.default,MN=(...t)=>{let e;for(let r of t)e=kg(void 0,r,e);return e},Tte=t=>t.isStream?new Rg.default(void 0,t):Li.default(t),$te=t=>"defaults"in t&&"options"in t.defaults,Mte=["get","post","put","patch","head","delete"];Pi.defaultHandler=(t,e)=>e(t);var kN=(t,e)=>{if(t)for(let r of t)r(e)},RN=t=>{t._rawHandlers=t.handlers,t.handlers=t.handlers.map(i=>(n,s)=>{let o,a=i(n,u=>(o=s(u),o));if(a!==o&&!n.isStream&&o){let u=a,{then:c,catch:l,finally:p}=u;Object.setPrototypeOf(u,Object.getPrototypeOf(o)),Object.defineProperties(u,Object.getOwnPropertyDescriptors(o)),u.then=c,u.catch=l,u.finally=p}return a});let e=(i,n={},s)=>{var o,a;let u=0,c=l=>t.handlers[u++](l,u===t.handlers.length?Tte:c);if($N.default.plainObject(i)){let l={...i,...n};Rg.setNonEnumerableProperties([i,n],l),n=l,i=void 0}try{let l;try{kN(t.options.hooks.init,n),kN((o=n.hooks)===null||o===void 0?void 0:o.init,n)}catch(f){l=f}let p=kg(i,n,s??t.options);if(p[Rg.kIsNormalizedAlready]=!0,l)throw new Li.RequestError(l.message,l,p);return c(p)}catch(l){if(n.isStream)throw l;return Cte.default(l,t.options.hooks.beforeError,(a=n.hooks)===null||a===void 0?void 0:a.beforeError)}};e.extend=(...i)=>{let n=[t.options],s=[...t._rawHandlers],o;for(let a of i)$te(a)?(n.push(a.defaults.options),s.push(...a.defaults._rawHandlers),o=a.defaults.mutableDefaults):(n.push(a),"handlers"in a&&s.push(...a.handlers),o=a.mutableDefaults);return s=s.filter(a=>a!==Pi.defaultHandler),s.length===0&&s.push(Pi.defaultHandler),RN({options:MN(...n),handlers:s,mutableDefaults:Boolean(o)})};let r=async function*(i,n){let s=kg(i,n,t.options);s.resolveBodyOnly=!1;let o=s.pagination;if(!$N.default.object(o))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:u}=o,c=0;for(;c<o.requestLimit;){c!==0&&await Dte(o.backoff);let l=await e(void 0,void 0,s),p=await o.transform(l),f=[];for(let m of p)if(o.filter(m,a,f)&&(!o.shouldContinue(m,a,f)||(yield m,o.stackAllItems&&a.push(m),f.push(m),--u<=0)))return;let H=o.paginate(l,a,f);if(H===!1)return;H===l.request.options?s=l.request.options:H!==void 0&&(s=kg(void 0,H,s)),c++}};e.paginate=r,e.paginate.all=async(i,n)=>{let s=[];for await(let o of r(i,n))s.push(o);return s},e.paginate.each=r,e.stream=(i,n)=>e(i,{...n,isStream:!0});for(let i of Mte)e[i]=(n,s)=>e(n,{...s,method:i}),e.stream[i]=(n,s)=>e(n,{...s,method:i,isStream:!0});return Object.assign(e,Pte),Object.defineProperty(e,"defaults",{value:t.mutableDefaults?t:Lte.default(t),writable:t.mutableDefaults,configurable:t.mutableDefaults,enumerable:!0}),e.mergeOptions=MN,e};Pi.default=RN;xte(TN(),Pi)});var BN=v((Ls,Og)=>{"use strict";var kte=Ls&&Ls.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),ON=Ls&&Ls.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kte(e,t,r)};Object.defineProperty(Ls,"__esModule",{value:!0});var Rte=w("url"),NN=RI(),Ote={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:t=>t.request.options.responseType==="json"?t.body:JSON.parse(t.body),paginate:t=>{if(!Reflect.has(t.headers,"link"))return!1;let e=t.headers.link.split(","),r;for(let i of e){let n=i.split(";");if(n[1].includes("next")){r=n[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new Rte.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:t=>JSON.parse(t),stringifyJson:t=>JSON.stringify(t),cacheOptions:{}},handlers:[NN.defaultHandler],mutableDefaults:!1},OI=NN.default(Ote);Ls.default=OI;Og.exports=OI;Og.exports.default=OI;Og.exports.__esModule=!0;ON(RI(),Ls);ON($I(),Ls)});var zN=v((DSe,Fg)=>{var Ut=function(t){"use strict";var e=1e7,r=7,i=9007199254740992,n=f(i),s="0123456789abcdefghijklmnopqrstuvwxyz",o=typeof BigInt=="function";function a(d,g,_,A){return typeof d>"u"?a[0]:typeof g<"u"?+g==10&&!_?ve(d):mt(d,g,_,A):ve(d)}function u(d,g){this.value=d,this.sign=g,this.isSmall=!1}u.prototype=Object.create(a.prototype);function c(d){this.value=d,this.sign=d<0,this.isSmall=!0}c.prototype=Object.create(a.prototype);function l(d){this.value=d}l.prototype=Object.create(a.prototype);function p(d){return-i<d&&d<i}function f(d){return d<1e7?[d]:d<1e14?[d%1e7,Math.floor(d/1e7)]:[d%1e7,Math.floor(d/1e7)%1e7,Math.floor(d/1e14)]}function H(d){m(d);var g=d.length;if(g<4&&re(d,n)<0)switch(g){case 0:return 0;case 1:return d[0];case 2:return d[0]+d[1]*e;default:return d[0]+(d[1]+d[2]*e)*e}return d}function m(d){for(var g=d.length;d[--g]===0;);d.length=g+1}function y(d){for(var g=new Array(d),_=-1;++_<d;)g[_]=0;return g}function b(d){return d>0?Math.floor(d):Math.ceil(d)}function I(d,g){var _=d.length,A=g.length,T=new Array(_),k=0,j=e,V,F;for(F=0;F<A;F++)V=d[F]+g[F]+k,k=V>=j?1:0,T[F]=V-k*j;for(;F<_;)V=d[F]+k,k=V===j?1:0,T[F++]=V-k*j;return k>0&&T.push(k),T}function B(d,g){return d.length>=g.length?I(d,g):I(g,d)}function q(d,g){var _=d.length,A=new Array(_),T=e,k,j;for(j=0;j<_;j++)k=d[j]-T+g,g=Math.floor(k/T),A[j]=k-g*T,g+=1;for(;g>0;)A[j++]=g%T,g=Math.floor(g/T);return A}u.prototype.add=function(d){var g=ve(d);if(this.sign!==g.sign)return this.subtract(g.negate());var _=this.value,A=g.value;return g.isSmall?new u(q(_,Math.abs(A)),this.sign):new u(B(_,A),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(d){var g=ve(d),_=this.value;if(_<0!==g.sign)return this.subtract(g.negate());var A=g.value;if(g.isSmall){if(p(_+A))return new c(_+A);A=f(Math.abs(A))}return new u(q(A,Math.abs(_)),_<0)},c.prototype.plus=c.prototype.add,l.prototype.add=function(d){return new l(this.value+ve(d).value)},l.prototype.plus=l.prototype.add;function C(d,g){var _=d.length,A=g.length,T=new Array(_),k=0,j=e,V,F;for(V=0;V<A;V++)F=d[V]-k-g[V],F<0?(F+=j,k=1):k=0,T[V]=F;for(V=A;V<_;V++){if(F=d[V]-k,F<0)F+=j;else{T[V++]=F;break}T[V]=F}for(;V<_;V++)T[V]=d[V];return m(T),T}function D(d,g,_){var A;return re(d,g)>=0?A=C(d,g):(A=C(g,d),_=!_),A=H(A),typeof A=="number"?(_&&(A=-A),new c(A)):new u(A,_)}function G(d,g,_){var A=d.length,T=new Array(A),k=-g,j=e,V,F;for(V=0;V<A;V++)F=d[V]+k,k=Math.floor(F/j),F%=j,T[V]=F<0?F+j:F;return T=H(T),typeof T=="number"?(_&&(T=-T),new c(T)):new u(T,_)}u.prototype.subtract=function(d){var g=ve(d);if(this.sign!==g.sign)return this.add(g.negate());var _=this.value,A=g.value;return g.isSmall?G(_,Math.abs(A),this.sign):D(_,A,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(d){var g=ve(d),_=this.value;if(_<0!==g.sign)return this.add(g.negate());var A=g.value;return g.isSmall?new c(_-A):G(A,Math.abs(_),_>=0)},c.prototype.minus=c.prototype.subtract,l.prototype.subtract=function(d){return new l(this.value-ve(d).value)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var d=this.sign,g=new c(-this.value);return g.sign=!d,g},l.prototype.negate=function(){return new l(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)};function W(d,g){var _=d.length,A=g.length,T=_+A,k=y(T),j=e,V,F,ne,ce,me;for(ne=0;ne<_;++ne){ce=d[ne];for(var Te=0;Te<A;++Te)me=g[Te],V=ce*me+k[ne+Te],F=Math.floor(V/j),k[ne+Te]=V-F*j,k[ne+Te+1]+=F}return m(k),k}function N(d,g){var _=d.length,A=new Array(_),T=e,k=0,j,V;for(V=0;V<_;V++)j=d[V]*g+k,k=Math.floor(j/T),A[V]=j-k*T;for(;k>0;)A[V++]=k%T,k=Math.floor(k/T);return A}function M(d,g){for(var _=[];g-- >0;)_.push(0);return _.concat(d)}function O(d,g){var _=Math.max(d.length,g.length);if(_<=30)return W(d,g);_=Math.ceil(_/2);var A=d.slice(_),T=d.slice(0,_),k=g.slice(_),j=g.slice(0,_),V=O(T,j),F=O(A,k),ne=O(B(T,A),B(j,k)),ce=B(B(V,M(C(C(ne,V),F),_)),M(F,2*_));return m(ce),ce}function S(d,g){return-.012*d-.012*g+15e-6*d*g>0}u.prototype.multiply=function(d){var g=ve(d),_=this.value,A=g.value,T=this.sign!==g.sign,k;if(g.isSmall){if(A===0)return a[0];if(A===1)return this;if(A===-1)return this.negate();if(k=Math.abs(A),k<e)return new u(N(_,k),T);A=f(k)}return S(_.length,A.length)?new u(O(_,A),T):new u(W(_,A),T)},u.prototype.times=u.prototype.multiply;function $(d,g,_){return d<e?new u(N(g,d),_):new u(W(g,f(d)),_)}c.prototype._multiplyBySmall=function(d){return p(d.value*this.value)?new c(d.value*this.value):$(Math.abs(d.value),f(Math.abs(this.value)),this.sign!==d.sign)},u.prototype._multiplyBySmall=function(d){return d.value===0?a[0]:d.value===1?this:d.value===-1?this.negate():$(Math.abs(d.value),this.value,this.sign!==d.sign)},c.prototype.multiply=function(d){return ve(d)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,l.prototype.multiply=function(d){return new l(this.value*ve(d).value)},l.prototype.times=l.prototype.multiply;function R(d){var g=d.length,_=y(g+g),A=e,T,k,j,V,F;for(j=0;j<g;j++){V=d[j],k=0-V*V;for(var ne=j;ne<g;ne++)F=d[ne],T=2*(V*F)+_[j+ne]+k,k=Math.floor(T/A),_[j+ne]=T-k*A;_[j+g]=k}return m(_),_}u.prototype.square=function(){return new u(R(this.value),!1)},c.prototype.square=function(){var d=this.value*this.value;return p(d)?new c(d):new u(R(f(Math.abs(this.value))),!1)},l.prototype.square=function(d){return new l(this.value*this.value)};function X(d,g){var _=d.length,A=g.length,T=e,k=y(g.length),j=g[A-1],V=Math.ceil(T/(2*j)),F=N(d,V),ne=N(g,V),ce,me,Te,Kr,$r,Mb,kb;for(F.length<=_&&F.push(0),ne.push(0),j=ne[A-1],me=_-A;me>=0;me--){for(ce=T-1,F[me+A]!==j&&(ce=Math.floor((F[me+A]*T+F[me+A-1])/j)),Te=0,Kr=0,Mb=ne.length,$r=0;$r<Mb;$r++)Te+=ce*ne[$r],kb=Math.floor(Te/T),Kr+=F[me+$r]-(Te-kb*T),Te=kb,Kr<0?(F[me+$r]=Kr+T,Kr=-1):(F[me+$r]=Kr,Kr=0);for(;Kr!==0;){for(ce-=1,Te=0,$r=0;$r<Mb;$r++)Te+=F[me+$r]-T+ne[$r],Te<0?(F[me+$r]=Te+T,Te=0):(F[me+$r]=Te,Te=1);Kr+=Te}k[me]=ce}return F=P(F,V)[0],[H(k),H(F)]}function L(d,g){for(var _=d.length,A=g.length,T=[],k=[],j=e,V,F,ne,ce,me;_;){if(k.unshift(d[--_]),m(k),re(k,g)<0){T.push(0);continue}F=k.length,ne=k[F-1]*j+k[F-2],ce=g[A-1]*j+g[A-2],F>A&&(ne=(ne+1)*j),V=Math.ceil(ne/ce);do{if(me=N(g,V),re(me,k)<=0)break;V--}while(V);T.push(V),k=C(k,me)}return T.reverse(),[H(T),H(k)]}function P(d,g){var _=d.length,A=y(_),T=e,k,j,V,F;for(V=0,k=_-1;k>=0;--k)F=V*T+d[k],j=b(F/g),V=F-j*g,A[k]=j|0;return[A,V|0]}function ee(d,g){var _,A=ve(g);if(o)return[new l(d.value/A.value),new l(d.value%A.value)];var T=d.value,k=A.value,j;if(k===0)throw new Error("Cannot divide by zero");if(d.isSmall)return A.isSmall?[new c(b(T/k)),new c(T%k)]:[a[0],d];if(A.isSmall){if(k===1)return[d,a[0]];if(k==-1)return[d.negate(),a[0]];var V=Math.abs(k);if(V<e){_=P(T,V),j=H(_[0]);var F=_[1];return d.sign&&(F=-F),typeof j=="number"?(d.sign!==A.sign&&(j=-j),[new c(j),new c(F)]):[new u(j,d.sign!==A.sign),new c(F)]}k=f(V)}var ne=re(T,k);if(ne===-1)return[a[0],d];if(ne===0)return[a[d.sign===A.sign?1:-1],a[0]];T.length+k.length<=200?_=X(T,k):_=L(T,k),j=_[0];var ce=d.sign!==A.sign,me=_[1],Te=d.sign;return typeof j=="number"?(ce&&(j=-j),j=new c(j)):j=new u(j,ce),typeof me=="number"?(Te&&(me=-me),me=new c(me)):me=new u(me,Te),[j,me]}u.prototype.divmod=function(d){var g=ee(this,d);return{quotient:g[0],remainder:g[1]}},l.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(d){return ee(this,d)[0]},l.prototype.over=l.prototype.divide=function(d){return new l(this.value/ve(d).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(d){return ee(this,d)[1]},l.prototype.mod=l.prototype.remainder=function(d){return new l(this.value%ve(d).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(d){var g=ve(d),_=this.value,A=g.value,T,k,j;if(A===0)return a[1];if(_===0)return a[0];if(_===1)return a[1];if(_===-1)return g.isEven()?a[1]:a[-1];if(g.sign)return a[0];if(!g.isSmall)throw new Error("The exponent "+g.toString()+" is too large.");if(this.isSmall&&p(T=Math.pow(_,A)))return new c(b(T));for(k=this,j=a[1];A&!0&&(j=j.times(k),--A),A!==0;)A/=2,k=k.square();return j},c.prototype.pow=u.prototype.pow,l.prototype.pow=function(d){var g=ve(d),_=this.value,A=g.value,T=BigInt(0),k=BigInt(1),j=BigInt(2);if(A===T)return a[1];if(_===T)return a[0];if(_===k)return a[1];if(_===BigInt(-1))return g.isEven()?a[1]:a[-1];if(g.isNegative())return new l(T);for(var V=this,F=a[1];(A&k)===k&&(F=F.times(V),--A),A!==T;)A/=j,V=V.square();return F},u.prototype.modPow=function(d,g){if(d=ve(d),g=ve(g),g.isZero())throw new Error("Cannot take modPow with modulus 0");var _=a[1],A=this.mod(g);for(d.isNegative()&&(d=d.multiply(a[-1]),A=A.modInv(g));d.isPositive();){if(A.isZero())return a[0];d.isOdd()&&(_=_.multiply(A).mod(g)),d=d.divide(2),A=A.square().mod(g)}return _},l.prototype.modPow=c.prototype.modPow=u.prototype.modPow;function re(d,g){if(d.length!==g.length)return d.length>g.length?1:-1;for(var _=d.length-1;_>=0;_--)if(d[_]!==g[_])return d[_]>g[_]?1:-1;return 0}u.prototype.compareAbs=function(d){var g=ve(d),_=this.value,A=g.value;return g.isSmall?1:re(_,A)},c.prototype.compareAbs=function(d){var g=ve(d),_=Math.abs(this.value),A=g.value;return g.isSmall?(A=Math.abs(A),_===A?0:_>A?1:-1):-1},l.prototype.compareAbs=function(d){var g=this.value,_=ve(d).value;return g=g>=0?g:-g,_=_>=0?_:-_,g===_?0:g>_?1:-1},u.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var g=ve(d),_=this.value,A=g.value;return this.sign!==g.sign?g.sign?1:-1:g.isSmall?this.sign?-1:1:re(_,A)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var g=ve(d),_=this.value,A=g.value;return g.isSmall?_==A?0:_>A?1:-1:_<0!==g.sign?_<0?-1:1:_<0?1:-1},c.prototype.compareTo=c.prototype.compare,l.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var g=this.value,_=ve(d).value;return g===_?0:g>_?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.equals=function(d){return this.compare(d)===0},l.prototype.eq=l.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(d){return this.compare(d)!==0},l.prototype.neq=l.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(d){return this.compare(d)>0},l.prototype.gt=l.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(d){return this.compare(d)<0},l.prototype.lt=l.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(d){return this.compare(d)>=0},l.prototype.geq=l.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(d){return this.compare(d)<=0},l.prototype.leq=l.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},l.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(d){var g=ve(d);return g.isZero()?!1:g.isUnit()?!0:g.compareAbs(2)===0?this.isEven():this.mod(g).isZero()},l.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function se(d){var g=d.abs();if(g.isUnit())return!1;if(g.equals(2)||g.equals(3)||g.equals(5))return!0;if(g.isEven()||g.isDivisibleBy(3)||g.isDivisibleBy(5))return!1;if(g.lesser(49))return!0}function oe(d,g){for(var _=d.prev(),A=_,T=0,k,j,V,F;A.isEven();)A=A.divide(2),T++;e:for(V=0;V<g.length;V++)if(!d.lesser(g[V])&&(F=Ut(g[V]).modPow(A,d),!(F.isUnit()||F.equals(_)))){for(k=T-1;k!=0;k--){if(F=F.square().mod(d),F.isUnit())return!1;if(F.equals(_))continue e}return!1}return!0}u.prototype.isPrime=function(d){var g=se(this);if(g!==t)return g;var _=this.abs(),A=_.bitLength();if(A<=64)return oe(_,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var T=Math.log(2)*A.toJSNumber(),k=Math.ceil(d===!0?2*Math.pow(T,2):T),j=[],V=0;V<k;V++)j.push(Ut(V+2));return oe(_,j)},l.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(d,g){var _=se(this);if(_!==t)return _;for(var A=this.abs(),T=d===t?5:d,k=[],j=0;j<T;j++)k.push(Ut.randBetween(2,A.minus(2),g));return oe(A,k)},l.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(d){for(var g=Ut.zero,_=Ut.one,A=ve(d),T=this.abs(),k,j,V;!T.isZero();)k=A.divide(T),j=g,V=A,g=_,A=T,_=j.subtract(k.multiply(_)),T=V.subtract(k.multiply(T));if(!A.isUnit())throw new Error(this.toString()+" and "+d.toString()+" are not co-prime");return g.compare(0)===-1&&(g=g.add(d)),this.isNegative()?g.negate():g},l.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var d=this.value;return this.sign?G(d,1,this.sign):new u(q(d,1),this.sign)},c.prototype.next=function(){var d=this.value;return d+1<i?new c(d+1):new u(n,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},u.prototype.prev=function(){var d=this.value;return this.sign?new u(q(d,1),!0):G(d,1,this.sign)},c.prototype.prev=function(){var d=this.value;return d-1>-i?new c(d-1):new u(n,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var ie=[1];2*ie[ie.length-1]<=e;)ie.push(2*ie[ie.length-1]);var de=ie.length,we=ie[de-1];function He(d){return Math.abs(d)<=e}u.prototype.shiftLeft=function(d){var g=ve(d).toJSNumber();if(!He(g))throw new Error(String(g)+" is too large for shifting.");if(g<0)return this.shiftRight(-g);var _=this;if(_.isZero())return _;for(;g>=de;)_=_.multiply(we),g-=de-1;return _.multiply(ie[g])},l.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(d){var g,_=ve(d).toJSNumber();if(!He(_))throw new Error(String(_)+" is too large for shifting.");if(_<0)return this.shiftLeft(-_);for(var A=this;_>=de;){if(A.isZero()||A.isNegative()&&A.isUnit())return A;g=ee(A,we),A=g[1].isNegative()?g[0].prev():g[0],_-=de-1}return g=ee(A,ie[_]),g[1].isNegative()?g[0].prev():g[0]},l.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight;function Et(d,g,_){g=ve(g);for(var A=d.isNegative(),T=g.isNegative(),k=A?d.not():d,j=T?g.not():g,V=0,F=0,ne=null,ce=null,me=[];!k.isZero()||!j.isZero();)ne=ee(k,we),V=ne[1].toJSNumber(),A&&(V=we-1-V),ce=ee(j,we),F=ce[1].toJSNumber(),T&&(F=we-1-F),k=ne[0],j=ce[0],me.push(_(V,F));for(var Te=_(A?1:0,T?1:0)!==0?Ut(-1):Ut(0),Kr=me.length-1;Kr>=0;Kr-=1)Te=Te.multiply(we).add(Ut(me[Kr]));return Te}u.prototype.not=function(){return this.negate().prev()},l.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(d){return Et(this,d,function(g,_){return g&_})},l.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(d){return Et(this,d,function(g,_){return g|_})},l.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(d){return Et(this,d,function(g,_){return g^_})},l.prototype.xor=c.prototype.xor=u.prototype.xor;var be=1<<30,br=(e&-e)*(e&-e)|be;function Gr(d){var g=d.value,_=typeof g=="number"?g|be:typeof g=="bigint"?g|BigInt(be):g[0]+g[1]*e|br;return _&-_}function Q(d,g){if(g.compareTo(d)<=0){var _=Q(d,g.square(g)),A=_.p,T=_.e,k=A.multiply(g);return k.compareTo(d)<=0?{p:k,e:T*2+1}:{p:A,e:T*2}}return{p:Ut(1),e:0}}u.prototype.bitLength=function(){var d=this;return d.compareTo(Ut(0))<0&&(d=d.negate().subtract(Ut(1))),d.compareTo(Ut(0))===0?Ut(0):Ut(Q(d,Ut(2)).e).add(Ut(1))},l.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;function Le(d,g){return d=ve(d),g=ve(g),d.greater(g)?d:g}function Y(d,g){return d=ve(d),g=ve(g),d.lesser(g)?d:g}function ge(d,g){if(d=ve(d).abs(),g=ve(g).abs(),d.equals(g))return d;if(d.isZero())return g;if(g.isZero())return d;for(var _=a[1],A,T;d.isEven()&&g.isEven();)A=Y(Gr(d),Gr(g)),d=d.divide(A),g=g.divide(A),_=_.multiply(A);for(;d.isEven();)d=d.divide(Gr(d));do{for(;g.isEven();)g=g.divide(Gr(g));d.greater(g)&&(T=g,g=d,d=T),g=g.subtract(d)}while(!g.isZero());return _.isUnit()?d:d.multiply(_)}function Be(d,g){return d=ve(d).abs(),g=ve(g).abs(),d.divide(ge(d,g)).multiply(g)}function ct(d,g,_){d=ve(d),g=ve(g);var A=_||Math.random,T=Y(d,g),k=Le(d,g),j=k.subtract(T).add(1);if(j.isSmall)return T.add(Math.floor(A()*j));for(var V=Ha(j,e).value,F=[],ne=!0,ce=0;ce<V.length;ce++){var me=ne?V[ce]:e,Te=b(A()*me);F.push(Te),Te<me&&(ne=!1)}return T.add(a.fromArray(F,e,!1))}var mt=function(d,g,_,A){_=_||s,d=String(d),A||(d=d.toLowerCase(),_=_.toLowerCase());var T=d.length,k,j=Math.abs(g),V={};for(k=0;k<_.length;k++)V[_[k]]=k;for(k=0;k<T;k++){var F=d[k];if(F!=="-"&&F in V&&V[F]>=j){if(F==="1"&&j===1)continue;throw new Error(F+" is not a valid digit in base "+g+".")}}g=ve(g);var ne=[],ce=d[0]==="-";for(k=ce?1:0;k<d.length;k++){var F=d[k];if(F in V)ne.push(ve(V[F]));else if(F==="<"){var me=k;do k++;while(d[k]!==">"&&k<d.length);ne.push(ve(d.slice(me+1,k)))}else throw new Error(F+" is not a valid character")}return Ks(ne,g,ce)};function Ks(d,g,_){var A=a[0],T=a[1],k;for(k=d.length-1;k>=0;k--)A=A.add(d[k].times(T)),T=T.times(g);return _?A.negate():A}function zs(d,g){return g=g||s,d<g.length?g[d]:"<"+d+">"}function Ha(d,g){if(g=Ut(g),g.isZero()){if(d.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(g.equals(-1)){if(d.isZero())return{value:[0],isNegative:!1};if(d.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-d.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var _=Array.apply(null,Array(d.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return _.unshift([1]),{value:[].concat.apply([],_),isNegative:!1}}var A=!1;if(d.isNegative()&&g.isPositive()&&(A=!0,d=d.abs()),g.isUnit())return d.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(d.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:A};for(var T=[],k=d,j;k.isNegative()||k.compareAbs(g)>=0;){j=k.divmod(g),k=j.quotient;var V=j.remainder;V.isNegative()&&(V=g.minus(V).abs(),k=k.next()),T.push(V.toJSNumber())}return T.push(k.toJSNumber()),{value:T.reverse(),isNegative:A}}function Pu(d,g,_){var A=Ha(d,g);return(A.isNegative?"-":"")+A.value.map(function(T){return zs(T,_)}).join("")}u.prototype.toArray=function(d){return Ha(this,d)},c.prototype.toArray=function(d){return Ha(this,d)},l.prototype.toArray=function(d){return Ha(this,d)},u.prototype.toString=function(d,g){if(d===t&&(d=10),d!==10)return Pu(this,d,g);for(var _=this.value,A=_.length,T=String(_[--A]),k="0000000",j;--A>=0;)j=String(_[A]),T+=k.slice(j.length)+j;var V=this.sign?"-":"";return V+T},c.prototype.toString=function(d,g){return d===t&&(d=10),d!=10?Pu(this,d,g):String(this.value)},l.prototype.toString=c.prototype.toString,l.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function eh(d){if(p(+d)){var g=+d;if(g===b(g))return o?new l(BigInt(g)):new c(g);throw new Error("Invalid integer: "+d)}var _=d[0]==="-";_&&(d=d.slice(1));var A=d.split(/e/i);if(A.length>2)throw new Error("Invalid integer: "+A.join("e"));if(A.length===2){var T=A[1];if(T[0]==="+"&&(T=T.slice(1)),T=+T,T!==b(T)||!p(T))throw new Error("Invalid integer: "+T+" is not a valid exponent.");var k=A[0],j=k.indexOf(".");if(j>=0&&(T-=k.length-j-1,k=k.slice(0,j)+k.slice(j+1)),T<0)throw new Error("Cannot include negative exponent part for integers");k+=new Array(T+1).join("0"),d=k}var V=/^([0-9][0-9]*)$/.test(d);if(!V)throw new Error("Invalid integer: "+d);if(o)return new l(BigInt(_?"-"+d:d));for(var F=[],ne=d.length,ce=r,me=ne-ce;ne>0;)F.push(+d.slice(me,ne)),me-=ce,me<0&&(me=0),ne-=ce;return m(F),new u(F,_)}function $b(d){if(o)return new l(BigInt(d));if(p(d)){if(d!==b(d))throw new Error(d+" is not an integer.");return new c(d)}return eh(d.toString())}function ve(d){return typeof d=="number"?$b(d):typeof d=="string"?eh(d):typeof d=="bigint"?new l(d):d}for(var Fi=0;Fi<1e3;Fi++)a[Fi]=ve(Fi),Fi>0&&(a[-Fi]=ve(-Fi));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=Le,a.min=Y,a.gcd=ge,a.lcm=Be,a.isInstance=function(d){return d instanceof u||d instanceof c||d instanceof l},a.randBetween=ct,a.fromArray=function(d,g,_){return Ks(d.map(ve),ve(g||10),_)},a}();typeof Fg<"u"&&Fg.hasOwnProperty("exports")&&(Fg.exports=Ut);typeof define=="function"&&define.amd&&define(function(){return Ut})});var XN=v(jt=>{"use strict";var Ute=w("fs"),jte=zN(),qo=!1;jt.maxObjectSize=100*1e3*1e3;jt.maxObjectCount=32768;var qte=9783072e5,Wte=jt.UID=function(t){this.UID=t},TSe=jt.parseFile=function(t,e){function r(i){var n=null,s;try{s=Vte(i)}catch(o){n=o}e(n,s)}if(Buffer.isBuffer(t))return r(t);Ute.readFile(t,function(i,n){if(i)return e(i);r(n)})},Vte=jt.parseBuffer=function(t){var e={},r=t.slice(0,6).toString("utf8");if(r!=="bplist")throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");var i=t.slice(t.length-32,t.length),n=i.readUInt8(6);qo&&console.log("offsetSize: "+n);var s=i.readUInt8(7);qo&&console.log("objectRefSize: "+s);var o=NI(i,8);qo&&console.log("numObjects: "+o);var a=NI(i,16);qo&&console.log("topObject: "+a);var u=NI(i,24);if(qo&&console.log("offsetTableOffset: "+u),o>jt.maxObjectCount)throw new Error("maxObjectCount exceeded");for(var c=[],l=0;l<o;l++){var p=t.slice(u+l*n,u+(l+1)*n);c[l]=Vr(p,0),qo&&console.log("Offset for Object #"+l+" is "+c[l]+" ["+c[l].toString(16)+"]")}function f(H){var m=c[H],y=t[m],b=(y&240)>>4,I=y&15;switch(b){case 0:return B();case 1:return C();case 8:return D();case 2:return G();case 3:return W();case 4:return N();case 5:return M();case 6:return M(!0);case 10:return O();case 13:return S();default:throw new Error("Unhandled type 0x"+b.toString(16))}function B(){switch(I){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+b.toString(16))}}function q($){var R="",X;for(X=0;X<$.length&&$[X]==0;X++);for(;X<$.length;X++){var L="00"+$[X].toString(16);R+=L.substr(L.length-2)}return R}function C(){var $=Math.pow(2,I);if($>4){var R=t.slice(m+1,m+1+$),X=q(R);return jte(X,16)}if($<jt.maxObjectSize)return Vr(t.slice(m+1,m+1+$));throw new Error("To little heap space available! Wanted to read "+$+" bytes, but only "+jt.maxObjectSize+" are available.")}function D(){var $=I+1;if($<jt.maxObjectSize)return new Wte(Vr(t.slice(m+1,m+1+$)));throw new Error("To little heap space available! Wanted to read "+$+" bytes, but only "+jt.maxObjectSize+" are available.")}function G(){var $=Math.pow(2,I);if($<jt.maxObjectSize){var R=t.slice(m+1,m+1+$);if($===4)return R.readFloatBE(0);if($===8)return R.readDoubleBE(0)}else throw new Error("To little heap space available! Wanted to read "+$+" bytes, but only "+jt.maxObjectSize+" are available.")}function W(){I!=3&&console.error("Unknown date type :"+I+". Parsing anyway...");var $=t.slice(m+1,m+9);return new Date(qte+1e3*$.readDoubleBE(0))}function N(){var $=1,R=I;if(I==15){var X=t[m+1],L=(X&240)/16;L!=1&&console.error("0x4: UNEXPECTED LENGTH-INT TYPE! "+L);var P=X&15,ee=Math.pow(2,P);$=2+ee,ee<3,R=Vr(t.slice(m+2,m+2+ee))}if(R<jt.maxObjectSize)return t.slice(m+$,m+$+R);throw new Error("To little heap space available! Wanted to read "+R+" bytes, but only "+jt.maxObjectSize+" are available.")}function M($){$=$||0;var R="utf8",X=I,L=1;if(I==15){var P=t[m+1],ee=(P&240)/16;ee!=1&&console.err("UNEXPECTED LENGTH-INT TYPE! "+ee);var re=P&15,se=Math.pow(2,re),L=2+se;se<3,X=Vr(t.slice(m+2,m+2+se))}if(X*=$+1,X<jt.maxObjectSize){var oe=new Buffer(t.slice(m+L,m+L+X));return $&&(oe=Gte(oe),R="ucs2"),oe.toString(R)}else throw new Error("To little heap space available! Wanted to read "+X+" bytes, but only "+jt.maxObjectSize+" are available.")}function O(){var $=I,R=1;if(I==15){var X=t[m+1],L=(X&240)/16;L!=1&&console.error("0xa: UNEXPECTED LENGTH-INT TYPE! "+L);var P=X&15,ee=Math.pow(2,P);R=2+ee,ee<3,$=Vr(t.slice(m+2,m+2+ee))}if($*s>jt.maxObjectSize)throw new Error("To little heap space available!");for(var re=[],se=0;se<$;se++){var oe=Vr(t.slice(m+R+se*s,m+R+(se+1)*s));re[se]=f(oe)}return re}function S(){var $=I,R=1;if(I==15){var X=t[m+1],L=(X&240)/16;L!=1&&console.error("0xD: UNEXPECTED LENGTH-INT TYPE! "+L);var P=X&15,ee=Math.pow(2,P);R=2+ee,ee<3,$=Vr(t.slice(m+2,m+2+ee))}if($*2*s>jt.maxObjectSize)throw new Error("To little heap space available!");qo&&console.log("Parsing dictionary #"+H);for(var re={},se=0;se<$;se++){var oe=Vr(t.slice(m+R+se*s,m+R+(se+1)*s)),ie=Vr(t.slice(m+R+$*s+se*s,m+R+$*s+(se+1)*s)),de=f(oe),we=f(ie);qo&&console.log("  DICT #"+H+": Mapped "+de+" to "+we),re[de]=we}return re}}return[f(a)]};function Vr(t,e){e=e||0;for(var r=0,i=e;i<t.length;i++)r<<=8,r|=t[i]&255;return r}function NI(t,e){var r=t.slice(e,e+8);return r.readUInt32BE(4,8)}function Gte(t){for(var e=t.length,r=0;r<e;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t}});var QN=v((MSe,YN)=>{"use strict";var JN=w("os");function Kte(){var t=process.env,e=t.HOME,r=t.LOGNAME||t.USER||t.LNAME||t.USERNAME;return process.platform==="win32"?t.USERPROFILE||t.HOMEDRIVE+t.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null}YN.exports=typeof JN.homedir=="function"?JN.homedir:Kte});var tB=v((kSe,eB)=>{"use strict";var zte=QN(),ZN=zte();eB.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return ZN?t.replace(/^~($|\/|\\)/,ZN+"$1"):t}});var BI=v((RSe,nB)=>{"use strict";var rB=function(t,e,r){return function(){for(var i=this,n=new Array(arguments.length),s=0;s<arguments.length;s++)n[s]=arguments[s];return new e(function(o,a){n.push(function(u,c){if(u)a(u);else if(r.multiArgs){for(var l=new Array(arguments.length-1),p=1;p<arguments.length;p++)l[p-1]=arguments[p];o(l)}else o(c)}),t.apply(i,n)})}},iB=nB.exports=function(t,e,r){typeof e!="function"&&(r=e,e=Promise),r=r||{},r.exclude=r.exclude||[/.+Sync$/];var i=function(s){var o=function(a){return typeof a=="string"?s===a:a.test(s)};return r.include?r.include.some(o):!r.exclude.some(o)},n=typeof t=="function"?function(){return r.excludeMain?t.apply(this,arguments):rB(t,e,r).apply(this,arguments)}:{};return Object.keys(t).reduce(function(s,o){var a=t[o];return s[o]=typeof a=="function"&&i(o)?rB(a,e,r):a,s},n)};iB.all=iB});var oB=v((OSe,sB)=>{"use strict";var Xte=w("os"),Jte=XN(),Yte=tB(),Qte=BI(),Zte=Number(Xte.release().split(".")[0]),ere=Yte(Zte>=14?"~/Library/Preferences/com.apple.LaunchServices/com.apple.launchservices.secure.plist":"~/Library/Preferences/com.apple.LaunchServices.plist");sB.exports=()=>{if(process.platform!=="darwin")return Promise.reject(new Error("Only OS X is supported"));let t="com.apple.Safari";return Qte(Jte.parseFile)(ere).then(e=>{let r=e&&e[0].LSHandlers;if(!r||r.length===0)return t;for(let i of r)if(i.LSHandlerURLScheme==="http"&&i.LSHandlerRoleAll){t=i.LSHandlerRoleAll;break}return t})}});var hB=v((NSe,dB)=>{"use strict";var UI="pending",aB="settled",Ug="fulfilled",jg="rejected",tre=function(){},uB=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",rre=typeof setImmediate>"u"?setTimeout:setImmediate,Zf=[],FI;function ire(){for(var t=0;t<Zf.length;t++)Zf[t][0](Zf[t][1]);Zf=[],FI=!1}function qg(t,e){Zf.push([t,e]),FI||(FI=!0,rre(ire,0))}function nre(t,e){function r(n){jI(e,n)}function i(n){ed(e,n)}try{t(r,i)}catch(n){i(n)}}function cB(t){var e=t.owner,r=e._state,i=e._data,n=t[r],s=t.then;if(typeof n=="function"){r=Ug;try{i=n(i)}catch(o){ed(s,o)}}lB(s,i)||(r===Ug&&jI(s,i),r===jg&&ed(s,i))}function lB(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||typeof e=="object")){var i=e.then;if(typeof i=="function")return i.call(e,function(n){r||(r=!0,e===n?pB(t,n):jI(t,n))},function(n){r||(r=!0,ed(t,n))}),!0}}catch(n){return r||ed(t,n),!0}return!1}function jI(t,e){(t===e||!lB(t,e))&&pB(t,e)}function pB(t,e){t._state===UI&&(t._state=aB,t._data=e,qg(sre,t))}function ed(t,e){t._state===UI&&(t._state=aB,t._data=e,qg(ore,t))}function fB(t){t._then=t._then.forEach(cB)}function sre(t){t._state=Ug,fB(t)}function ore(t){t._state=jg,fB(t),!t._handled&&uB&&global.process.emit("unhandledRejection",t._data,t)}function are(t){global.process.emit("rejectionHandled",t)}function oi(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof oi))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],nre(t,this)}oi.prototype={constructor:oi,_state:UI,_then:null,_data:void 0,_handled:!1,then:function(t,e){var r={owner:this,then:new this.constructor(tre),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===jg&&uB&&qg(are,this)),this._state===Ug||this._state===jg?qg(cB,r):this._then.push(r),r.then},catch:function(t){return this.then(null,t)}};oi.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new oi(function(e,r){var i=[],n=0;function s(u){return n++,function(c){i[u]=c,--n||e(i)}}for(var o=0,a;o<t.length;o++)a=t[o],a&&typeof a.then=="function"?a.then(s(o),r):i[o]=a;n||e(i)})};oi.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new oi(function(e,r){for(var i=0,n;i<t.length;i++)n=t[i],n&&typeof n.then=="function"?n.then(e,r):e(n)})};oi.resolve=function(t){return t&&typeof t=="object"&&t.constructor===oi?t:new oi(function(e){e(t)})};oi.reject=function(t){return new oi(function(e,r){r(t)})};dB.exports=oi});var HB=v((BSe,mB)=>{"use strict";mB.exports=typeof Promise=="function"?Promise:hB()});var bB=v((FSe,yB)=>{"use strict";var ure=w("child_process").execFile,gB=HB(),cre=BI();yB.exports=function(t){return process.platform!=="darwin"?gB.reject(new Error("Only OS X systems are supported")):cre(ure,gB)("osascript",["-e",t]).then(function(e){return e.trim()})}});var _B=v((USe,vB)=>{"use strict";var lre=bB();vB.exports=t=>lre(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)});var SB=v((jSe,AB)=>{var wB=Object.prototype.hasOwnProperty;AB.exports=ai;function ai(t){if(!(this instanceof ai))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof ai||typeof Map=="function"&&t instanceof Map)t.forEach(function(e,r){this.set(r,e)},this);else if(Array.isArray(t))t.forEach(function(e){this.set(e[0],e[1])},this);else throw new TypeError("invalid argument")}ai.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(r){r!=="size"&&t.call(e,this._data[r].value,this._data[r].key)},this)};ai.prototype.has=function(t){return!!qI(this._data,t)};ai.prototype.get=function(t){var e=qI(this._data,t);return e&&e.value};ai.prototype.set=function(t,e){fre(this._data,t,e)};ai.prototype.delete=function(t){var e=qI(this._data,t);e&&(delete this._data[e._index],this._data.size--)};ai.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})};Object.defineProperty(ai.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0});ai.prototype.values=ai.prototype.keys=ai.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};function IB(t,e){return t===e||t!==t&&e!==e}function pre(t,e,r){this.key=t,this.value=e,this._index=r}function qI(t,e){for(var r=0,i="_"+e,n=i;wB.call(t,n);n=i+r++)if(IB(t[n].key,e))return t[n]}function fre(t,e,r){for(var i=0,n="_"+e,s=n;wB.call(t,s);s=n+i++)if(IB(t[s].key,e)){t[s].value=r;return}t.size++,t[s]=new pre(e,r,s)}});var EB=v((qSe,WI)=>{process.env.npm_package_name==="pseudomap"&&process.env.npm_lifecycle_script==="test"&&(process.env.TEST_PSEUDOMAP="true");typeof Map=="function"&&!process.env.TEST_PSEUDOMAP?WI.exports=Map:WI.exports=SB()});var CB=v((WSe,xB)=>{xB.exports=Ge;Ge.Node=td;Ge.create=Ge;function Ge(t){var e=this;if(e instanceof Ge||(e=new Ge),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}Ge.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null};Ge.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Ge.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Ge.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)dre(this,arguments[t]);return this.length};Ge.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)hre(this,arguments[t]);return this.length};Ge.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Ge.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Ge.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,i=0;r!==null;i++)t.call(e,r.value,i,this),r=r.next};Ge.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,i=this.length-1;r!==null;i--)t.call(e,r.value,i,this),r=r.prev};Ge.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Ge.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Ge.prototype.map=function(t,e){e=e||this;for(var r=new Ge,i=this.head;i!==null;)r.push(t.call(e,i.value,this)),i=i.next;return r};Ge.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Ge,i=this.tail;i!==null;)r.push(t.call(e,i.value,this)),i=i.prev;return r};Ge.prototype.reduce=function(t,e){var r,i=this.head;if(arguments.length>1)r=e;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;i!==null;n++)r=t(r,i.value,n),i=i.next;return r};Ge.prototype.reduceReverse=function(t,e){var r,i=this.tail;if(arguments.length>1)r=e;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;i!==null;n--)r=t(r,i.value,n),i=i.prev;return r};Ge.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Ge.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Ge.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ge;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,n=this.head;n!==null&&i<t;i++)n=n.next;for(;n!==null&&i<e;i++,n=n.next)r.push(n.value);return r};Ge.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ge;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,n=this.tail;n!==null&&i>e;i--)n=n.prev;for(;n!==null&&i>t;i--,n=n.prev)r.push(n.value);return r};Ge.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=e,this.tail=t,this};function dre(t,e){t.tail=new td(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function hre(t,e){t.head=new td(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function td(t,e,r,i){if(!(this instanceof td))return new td(t,e,r,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}});var GI=v((VSe,DB)=>{"use strict";DB.exports=ot;var mre=EB(),rd=w("util"),Hre=CB(),gre=typeof Symbol=="function"&&process.env._nodeLRUCacheForceNoSymbol!=="1",nn;gre?nn=function(t){return Symbol(t)}:nn=function(t){return"_"+t};var Ds=nn("max"),Zn=nn("length"),nu=nn("lengthCalculator"),vl=nn("allowStale"),Wo=nn("maxAge"),Ps=nn("dispose"),LB=nn("noDisposeOnSet"),qt=nn("lruList"),rn=nn("cache");function id(){return 1}function ot(t){if(!(this instanceof ot))return new ot(t);typeof t=="number"&&(t={max:t}),t||(t={});var e=this[Ds]=t.max;(!e||typeof e!="number"||e<=0)&&(this[Ds]=1/0);var r=t.length||id;typeof r!="function"&&(r=id),this[nu]=r,this[vl]=t.stale||!1,this[Wo]=t.maxAge||0,this[Ps]=t.dispose,this[LB]=t.noDisposeOnSet||!1,this.reset()}Object.defineProperty(ot.prototype,"max",{set:function(t){(!t||typeof t!="number"||t<=0)&&(t=1/0),this[Ds]=t,nd(this)},get:function(){return this[Ds]},enumerable:!0});Object.defineProperty(ot.prototype,"allowStale",{set:function(t){this[vl]=!!t},get:function(){return this[vl]},enumerable:!0});Object.defineProperty(ot.prototype,"maxAge",{set:function(t){(!t||typeof t!="number"||t<0)&&(t=0),this[Wo]=t,nd(this)},get:function(){return this[Wo]},enumerable:!0});Object.defineProperty(ot.prototype,"lengthCalculator",{set:function(t){typeof t!="function"&&(t=id),t!==this[nu]&&(this[nu]=t,this[Zn]=0,this[qt].forEach(function(e){e.length=this[nu](e.value,e.key),this[Zn]+=e.length},this)),nd(this)},get:function(){return this[nu]},enumerable:!0});Object.defineProperty(ot.prototype,"length",{get:function(){return this[Zn]},enumerable:!0});Object.defineProperty(ot.prototype,"itemCount",{get:function(){return this[qt].length},enumerable:!0});ot.prototype.rforEach=function(t,e){e=e||this;for(var r=this[qt].tail;r!==null;){var i=r.prev;PB(this,t,r,e),r=i}};function PB(t,e,r,i){var n=r.value;sd(t,n)&&(_l(t,r),t[vl]||(n=void 0)),n&&e.call(i,n.value,n.key,t)}ot.prototype.forEach=function(t,e){e=e||this;for(var r=this[qt].head;r!==null;){var i=r.next;PB(this,t,r,e),r=i}};ot.prototype.keys=function(){return this[qt].toArray().map(function(t){return t.key},this)};ot.prototype.values=function(){return this[qt].toArray().map(function(t){return t.value},this)};ot.prototype.reset=function(){this[Ps]&&this[qt]&&this[qt].length&&this[qt].forEach(function(t){this[Ps](t.key,t.value)},this),this[rn]=new mre,this[qt]=new Hre,this[Zn]=0};ot.prototype.dump=function(){return this[qt].map(function(t){if(!sd(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})};ot.prototype.dumpLru=function(){return this[qt]};ot.prototype.inspect=function(t,e){var r="LRUCache {",i=!1,n=this[vl];n&&(r+=`
  allowStale: true`,i=!0);var s=this[Ds];s&&s!==1/0&&(i&&(r+=","),r+=`
  max: `+rd.inspect(s,e),i=!0);var o=this[Wo];o&&(i&&(r+=","),r+=`
  maxAge: `+rd.inspect(o,e),i=!0);var a=this[nu];a&&a!==id&&(i&&(r+=","),r+=`
  length: `+rd.inspect(this[Zn],e),i=!0);var u=!1;return this[qt].forEach(function(c){u?r+=`,
  `:(i&&(r+=`,
`),u=!0,r+=`
  `);var l=rd.inspect(c.key).split(`
`).join(`
  `),p={value:c.value};c.maxAge!==o&&(p.maxAge=c.maxAge),a!==id&&(p.length=c.length),sd(this,c)&&(p.stale=!0),p=rd.inspect(p,e).split(`
`).join(`
  `),r+=l+" => "+p}),(u||i)&&(r+=`
`),r+="}",r};ot.prototype.set=function(t,e,r){r=r||this[Wo];var i=r?Date.now():0,n=this[nu](e,t);if(this[rn].has(t)){if(n>this[Ds])return _l(this,this[rn].get(t)),!1;var s=this[rn].get(t),o=s.value;return this[Ps]&&(this[LB]||this[Ps](t,o.value)),o.now=i,o.maxAge=r,o.value=e,this[Zn]+=n-o.length,o.length=n,this.get(t),nd(this),!0}var a=new yre(t,e,n,i,r);return a.length>this[Ds]?(this[Ps]&&this[Ps](t,e),!1):(this[Zn]+=a.length,this[qt].unshift(a),this[rn].set(t,this[qt].head),nd(this),!0)};ot.prototype.has=function(t){if(!this[rn].has(t))return!1;var e=this[rn].get(t).value;return!sd(this,e)};ot.prototype.get=function(t){return VI(this,t,!0)};ot.prototype.peek=function(t){return VI(this,t,!1)};ot.prototype.pop=function(){var t=this[qt].tail;return t?(_l(this,t),t.value):null};ot.prototype.del=function(t){_l(this,this[rn].get(t))};ot.prototype.load=function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var i=t[r],n=i.e||0;if(n===0)this.set(i.k,i.v);else{var s=n-e;s>0&&this.set(i.k,i.v,s)}}};ot.prototype.prune=function(){var t=this;this[rn].forEach(function(e,r){VI(t,r,!1)})};function VI(t,e,r){var i=t[rn].get(e);if(i){var n=i.value;sd(t,n)?(_l(t,i),t[vl]||(n=void 0)):r&&t[qt].unshiftNode(i),n&&(n=n.value)}return n}function sd(t,e){if(!e||!e.maxAge&&!t[Wo])return!1;var r=!1,i=Date.now()-e.now;return e.maxAge?r=i>e.maxAge:r=t[Wo]&&i>t[Wo],r}function nd(t){if(t[Zn]>t[Ds])for(var e=t[qt].tail;t[Zn]>t[Ds]&&e!==null;){var r=e.prev;_l(t,e),e=r}}function _l(t,e){if(e){var r=e.value;t[Ps]&&t[Ps](r.key,r.value),t[Zn]-=r.length,t[rn].delete(r.key),t[qt].removeNode(e)}}function yre(t,e,r,i,n){this.key=t,this.value=e,this.length=r,this.now=i,this.maxAge=n||0}});var NB=v((GSe,OB)=>{OB.exports=RB;RB.sync=vre;var KI=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",TB=w("path"),bre=KI?";":":",$B=zv();function MB(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function kB(t,e){var r=e.colon||bre,i=e.path||process.env.PATH||"",n=[""];i=i.split(r);var s="";return KI&&(i.unshift(process.cwd()),s=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",n=s.split(r),t.indexOf(".")!==-1&&n[0]!==""&&n.unshift("")),(t.match(/\//)||KI&&t.match(/\\/))&&(i=[""]),{env:i,ext:n,extExe:s}}function RB(t,e,r){typeof e=="function"&&(r=e,e={});var i=kB(t,e),n=i.env,s=i.ext,o=i.extExe,a=[];(function u(c,l){if(c===l)return e.all&&a.length?r(null,a):r(MB(t));var p=n[c];p.charAt(0)==='"'&&p.slice(-1)==='"'&&(p=p.slice(1,-1));var f=TB.join(p,t);!p&&/^\.[\\\/]/.test(t)&&(f=t.slice(0,2)+f),function H(m,y){if(m===y)return u(c+1,l);var b=s[m];$B(f+b,{pathExt:o},function(I,B){if(!I&&B)if(e.all)a.push(f+b);else return r(null,f+b);return H(m+1,y)})}(0,s.length)})(0,n.length)}function vre(t,e){e=e||{};for(var r=kB(t,e),i=r.env,n=r.ext,s=r.extExe,o=[],a=0,u=i.length;a<u;a++){var c=i[a];c.charAt(0)==='"'&&c.slice(-1)==='"'&&(c=c.slice(1,-1));var l=TB.join(c,t);!c&&/^\.[\\\/]/.test(t)&&(l=t.slice(0,2)+l);for(var p=0,f=n.length;p<f;p++){var H=l+n[p],m;try{if(m=$B.sync(H,{pathExt:s}),m)if(e.all)o.push(H);else return H}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw MB(t)}});var jB=v((KSe,UB)=>{"use strict";var BB=w("path"),FB=NB(),_re=GI(),Wg=new _re({max:50,maxAge:30*1e3}),wre=new RegExp(process.platform==="win32"?/[\/\\]/:/\//);function Ire(t,e){var r;if(wre.test(t)&&(t=BB.resolve(t)),e=!!e,r=Wg.get(t+"!"+e),Wg.has(t))return Wg.get(t);try{r=e?FB.sync(t,{pathExt:BB.delimiter+(process.env.PATHEXT||"")}):FB.sync(t)}catch{}return Wg.set(t+"!"+e,r),r}UB.exports=Ire});var GB=v((zSe,VB)=>{"use strict";var zI=w("fs"),Are=GI(),qB=jB(),Sre=process.platform==="win32",XI=new Are({max:50,maxAge:30*1e3});function Ere(t){var e,r,i,n;if(XI.has(t))return XI.get(t);e=new Buffer(150);try{r=zI.openSync(t,"r"),zI.readSync(r,e,0,150,0),zI.closeSync(r)}catch{}return i=e.toString().trim().match(/#!(.+)/i),i&&(n=i[1].replace(/\/usr\/bin\/env\s+/i,"")),XI.set(t,n),n}function WB(t,e){return t=""+t,e?(t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t='"'+t+'"'):t=t.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),t}function xre(t){return/^[a-z0-9_-]+$/i.test(t)?t:WB(t,!0)}function Cre(t,e,r){var i,n,s,o;return e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=r||{},o=t,Sre&&(s=qB(t),s=s||qB(t,!0),i=s&&Ere(s),i&&(e.unshift(s),t=i),n=t!=="echo",t=xre(t),e=e.map(function(a){return WB(a,n)}),e=["/s","/c",'"'+t+(e.length?" "+e.join(" "):"")+'"'],t=process.env.comspec||"cmd.exe",r.windowsVerbatimArguments=!0),{command:t,args:e,options:r,file:s,original:o}}VB.exports=Cre});var JB=v((XSe,Vg)=>{"use strict";var KB=process.platform==="win32";function zB(t,e){var r;return r=new Error(e+" "+t+" ENOENT"),r.code=r.errno="ENOENT",r.syscall=e+" "+t,r}function Lre(t,e){var r;KB&&(r=t.emit,t.emit=function(i,n){var s;return i==="exit"&&(s=XB(n,e,"spawn"),s)?r.call(t,"error",s):r.apply(t,arguments)})}function XB(t,e,r){return KB&&t===1&&!e.file?zB(e.original,r):null}Vg.exports.hookChildProcess=Lre;Vg.exports.verifyENOENT=XB;Vg.exports.notFoundError=zB});var eF=v((JSe,od)=>{"use strict";var Pre=w("child_process"),YB=GB(),QB=JB();function ZB(t,e,r){var i,n;return i=YB(t,e,r),n=Pre.spawn(i.command,i.args,i.options),QB.hookChildProcess(n,i),n}od.exports=ZB;od.exports.spawn=ZB;od.exports._parse=YB;od.exports._enoent=QB});var rF=v((YSe,tF)=>{"use strict";tF.exports=function(t){var e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var sF=v((QSe,nF)=>{"use strict";var iF=Object.getOwnPropertySymbols,Dre=Object.prototype.hasOwnProperty,Tre=Object.prototype.propertyIsEnumerable;function $re(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Mre(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(i.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(s){n[s]=s}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}nF.exports=Mre()?Object.assign:function(t,e){for(var r,i=$re(t),n,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)Dre.call(r,o)&&(i[o]=r[o]);if(iF){n=iF(r);for(var a=0;a<n.length;a++)Tre.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i}});var JI=v((ZSe,oF)=>{"use strict";oF.exports=function(t){t=t||{};var e=t.env||process.env,r=t.platform||process.platform;return r!=="win32"?"PATH":Object.keys(e).filter(function(i){return i.toUpperCase()==="PATH"})[0]||"Path"}});var uF=v((eEe,aF)=>{"use strict";var ad=w("path"),kre=JI();aF.exports=function(t){t=t||{};for(var e,r=ad.resolve(t.cwd||"."),i=[];e!==r;)i.push(ad.join(r,"node_modules/.bin")),e=r,r=ad.resolve(r,"..");return i.push(ad.dirname(process.execPath)),i.concat(t.path||process.env[kre()]).join(ad.delimiter)}});var lF=v((tEe,ud)=>{"use strict";var Rre=w("child_process"),YI=eF(),Ore=rF(),QI=sF(),Nre=uF(),cF=JI()(),Bre=1024*1024*10;ud.exports=function(t,e,r){return new Promise(function(i,n){var s=YI._parse(t,e,r);r=QI({maxBuffer:Bre,stripEof:!0,preferLocal:!0},s.options);var o=function(u){return r.stripEof&&(u=Ore(u)),u};r.preferLocal&&(r.env=QI({},r.env||process.env),r.env[cF]=Nre({cwd:r.cwd,path:r.env[cF]}));var a=Rre.execFile(s.command,s.args,r,function(u,c,l){if(u){u.stdout=c,u.stderr=l,n(u);return}i({stdout:o(c),stderr:o(l)})});YI._enoent.hookChildProcess(a,s)})};ud.exports.shell=function(t,e){var r,i;return e=QI({},e),process.platform==="win32"?(r=process.env.comspec||"cmd.exe",i=["/s","/c",'"'+t+'"'],e.windowsVerbatimArguments=!0):(r="/bin/sh",i=["-c",t]),e.shell&&(r=e.shell),ud.exports(r,i,e)};ud.exports.spawn=YI});var fF=v((rEe,pF)=>{"use strict";pF.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}});var hF=v((iEe,dF)=>{"use strict";var Fre=lF(),Ure=fF();dF.exports=function(){return process.platform!=="linux"?Promise.reject(new Error("Only Linux systems are supported")):Fre("xdg-mime",["query","default","x-scheme-handler/http"]).then(t=>{let e=t.stdout.trim();return{name:Ure(e.replace(/.desktop$/,"").replace("-"," ")),id:e}})}});var HF=v((nEe,mF)=>{"use strict";var jre=oB(),qre=_B();mF.exports=()=>process.platform==="linux"?hF()():process.platform==="darwin"?jre().then(t=>qre(t).then(e=>({name:e,id:t}))):Promise.reject(new Error("Only macOS and Linux are supported"))});var $s=v((SEe,eA)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?eA.exports={nextTick:Gre}:eA.exports=process;function Gre(t,e,r,i){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,s,o;switch(n){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,i)});default:for(s=new Array(n-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var tA=v((EEe,IF)=>{var Kre={}.toString;IF.exports=Array.isArray||function(t){return Kre.call(t)=="[object Array]"}});var rA=v((xEe,AF)=>{AF.exports=w("stream")});var ks=v((iA,EF)=>{var Jg=w("buffer"),Ms=Jg.Buffer;function SF(t,e){for(var r in t)e[r]=t[r]}Ms.from&&Ms.alloc&&Ms.allocUnsafe&&Ms.allocUnsafeSlow?EF.exports=Jg:(SF(Jg,iA),iA.Buffer=Il);function Il(t,e,r){return Ms(t,e,r)}SF(Ms,Il);Il.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ms(t,e,r)};Il.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Ms(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Il.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ms(t)};Il.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Jg.SlowBuffer(t)}});var sn=v(yr=>{function zre(t){return Array.isArray?Array.isArray(t):Yg(t)==="[object Array]"}yr.isArray=zre;function Xre(t){return typeof t=="boolean"}yr.isBoolean=Xre;function Jre(t){return t===null}yr.isNull=Jre;function Yre(t){return t==null}yr.isNullOrUndefined=Yre;function Qre(t){return typeof t=="number"}yr.isNumber=Qre;function Zre(t){return typeof t=="string"}yr.isString=Zre;function eie(t){return typeof t=="symbol"}yr.isSymbol=eie;function tie(t){return t===void 0}yr.isUndefined=tie;function rie(t){return Yg(t)==="[object RegExp]"}yr.isRegExp=rie;function iie(t){return typeof t=="object"&&t!==null}yr.isObject=iie;function nie(t){return Yg(t)==="[object Date]"}yr.isDate=nie;function sie(t){return Yg(t)==="[object Error]"||t instanceof Error}yr.isError=sie;function oie(t){return typeof t=="function"}yr.isFunction=oie;function aie(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}yr.isPrimitive=aie;yr.isBuffer=Buffer.isBuffer;function Yg(t){return Object.prototype.toString.call(t)}});var xF=v((LEe,nA)=>{typeof Object.create=="function"?nA.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:nA.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var Wt=v((PEe,oA)=>{try{if(sA=w("util"),typeof sA.inherits!="function")throw"";oA.exports=sA.inherits}catch{oA.exports=xF()}var sA});var LF=v((DEe,aA)=>{"use strict";function uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var CF=ks().Buffer,cd=w("util");function cie(t,e,r){t.copy(e,r)}aA.exports=function(){function t(){uie(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},t.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n},t.prototype.concat=function(r){if(this.length===0)return CF.alloc(0);if(this.length===1)return this.head.data;for(var i=CF.allocUnsafe(r>>>0),n=this.head,s=0;n;)cie(n.data,i,s),s+=n.data.length,n=n.next;return i},t}();cd&&cd.inspect&&cd.inspect.custom&&(aA.exports.prototype[cd.inspect.custom]=function(){var t=cd.inspect({length:this.length});return this.constructor.name+" "+t})});var uA=v((TEe,TF)=>{"use strict";var PF=$s();function lie(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&PF.nextTick(DF,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?(PF.nextTick(DF,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(s)}),this)}function pie(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function DF(t,e){t.emit("error",e)}TF.exports={destroy:lie,undestroy:pie}});var Qg=v(($Ee,$F)=>{$F.exports=w("util").deprecate});var lA=v((MEe,UF)=>{"use strict";var su=$s();UF.exports=$t;function kF(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Lie(e,t)}}var fie=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:su.nextTick,Al;$t.WritableState=pd;var RF=Object.create(sn());RF.inherits=Wt();var die={deprecate:Qg()},OF=rA(),ey=ks().Buffer,hie=global.Uint8Array||function(){};function mie(t){return ey.from(t)}function Hie(t){return ey.isBuffer(t)||t instanceof hie}var NF=uA();RF.inherits($t,OF);function gie(){}function pd(t,e){Al=Al||ou(),t=t||{};var r=e instanceof Al;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,n=t.writableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Aie(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new kF(this)}pd.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(pd.prototype,"buffer",{get:die.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Zg;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Zg=Function.prototype[Symbol.hasInstance],Object.defineProperty($t,Symbol.hasInstance,{value:function(t){return Zg.call(this,t)?!0:this!==$t?!1:t&&t._writableState instanceof pd}})):Zg=function(t){return t instanceof this};function $t(t){if(Al=Al||ou(),!Zg.call($t,this)&&!(this instanceof Al))return new $t(t);this._writableState=new pd(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),OF.call(this)}$t.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function yie(t,e){var r=new Error("write after end");t.emit("error",r),su.nextTick(e,r)}function bie(t,e,r,i){var n=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),su.nextTick(i,s),n=!1),n}$t.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&Hie(t);return s&&!ey.isBuffer(t)&&(t=mie(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=gie),i.ended?yie(this,r):(s||bie(this,i,t,r))&&(i.pendingcb++,n=_ie(this,i,s,t,e,r)),n};$t.prototype.cork=function(){var t=this._writableState;t.corked++};$t.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&BF(this,t))};$t.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function vie(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=ey.from(e,r)),e}Object.defineProperty($t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _ie(t,e,r,i,n,s){if(!r){var o=vie(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else cA(t,e,!1,a,i,n,s);return u}function cA(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function wie(t,e,r,i,n){--e.pendingcb,r?(su.nextTick(n,i),su.nextTick(ld,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(n(i),t._writableState.errorEmitted=!0,t.emit("error",i),ld(t,e))}function Iie(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Aie(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(Iie(r),e)wie(t,r,i,e,n);else{var s=FF(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&BF(t,r),i?fie(MF,t,r,s,n):MF(t,r,s,n)}}function MF(t,e,r,i){r||Sie(t,e),e.pendingcb--,i(),ld(t,e)}function Sie(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function BF(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,cA(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new kF(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(cA(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}$t.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};$t.prototype._writev=null;$t.prototype.end=function(t,e,r){var i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),!i.ending&&!i.finished&&Cie(this,i,r)};function FF(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Eie(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),ld(t,e)})}function xie(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,su.nextTick(Eie,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function ld(t,e){var r=FF(e);return r&&(xie(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Cie(t,e,r){e.ending=!0,ld(t,e),r&&(e.finished?su.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Lie(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty($t.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});$t.prototype.destroy=NF.destroy;$t.prototype._undestroy=NF.undestroy;$t.prototype._destroy=function(t,e){this.end(),e(t)}});var ou=v((kEe,VF)=>{"use strict";var jF=$s(),Pie=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};VF.exports=Rs;var qF=Object.create(sn());qF.inherits=Wt();var WF=dA(),fA=lA();qF.inherits(Rs,WF);for(pA=Pie(fA.prototype),ty=0;ty<pA.length;ty++)ry=pA[ty],Rs.prototype[ry]||(Rs.prototype[ry]=fA.prototype[ry]);var pA,ry,ty;function Rs(t){if(!(this instanceof Rs))return new Rs(t);WF.call(this,t),fA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Die)}Object.defineProperty(Rs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Die(){this.allowHalfOpen||this._writableState.ended||jF.nextTick(Tie,this)}function Tie(t){t.end()}Object.defineProperty(Rs.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Rs.prototype._destroy=function(t,e){this.push(null),this.end(),jF.nextTick(e,t)}});var HA=v(KF=>{"use strict";var mA=ks().Buffer,GF=mA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $ie(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Mie(t){var e=$ie(t);if(typeof e!="string"&&(mA.isEncoding===GF||!GF(t)))throw new Error("Unknown encoding: "+t);return e||t}KF.StringDecoder=fd;function fd(t){this.encoding=Mie(t);var e;switch(this.encoding){case"utf16le":this.text=Fie,this.end=Uie,e=4;break;case"utf8":this.fillLast=Oie,e=4;break;case"base64":this.text=jie,this.end=qie,e=3;break;default:this.write=Wie,this.end=Vie;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=mA.allocUnsafe(e)}fd.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};fd.prototype.end=Bie;fd.prototype.text=Nie;fd.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function hA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function kie(t,e,r){var i=e.length-1;if(i<r)return 0;var n=hA(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=hA(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=hA(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Rie(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Oie(t){var e=this.lastTotal-this.lastNeed,r=Rie(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Nie(t,e){var r=kie(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function Bie(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Fie(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Uie(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function jie(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function qie(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Wie(t){return t.toString(this.encoding)}function Vie(t){return t&&t.length?this.write(t):""}});var dA=v((NEe,s2)=>{"use strict";var El=$s();s2.exports=at;var Gie=tA(),dd;at.ReadableState=e2;var OEe=w("events").EventEmitter,YF=function(t,e){return t.listeners(e).length},_A=rA(),hd=ks().Buffer,Kie=global.Uint8Array||function(){};function zie(t){return hd.from(t)}function Xie(t){return hd.isBuffer(t)||t instanceof Kie}var QF=Object.create(sn());QF.inherits=Wt();var gA=w("util"),Fe=void 0;gA&&gA.debuglog?Fe=gA.debuglog("stream"):Fe=function(){};var Jie=LF(),ZF=uA(),Sl;QF.inherits(at,_A);var yA=["error","close","destroy","pause","resume"];function Yie(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Gie(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function e2(t,e){dd=dd||ou(),t=t||{};var r=e instanceof dd;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,n=t.readableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Jie,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Sl||(Sl=HA().StringDecoder),this.decoder=new Sl(t.encoding),this.encoding=t.encoding)}function at(t){if(dd=dd||ou(),!(this instanceof at))return new at(t);this._readableState=new e2(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),_A.call(this)}Object.defineProperty(at.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});at.prototype.destroy=ZF.destroy;at.prototype._undestroy=ZF.undestroy;at.prototype._destroy=function(t,e){this.push(null),e(t)};at.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=hd.from(t,e),e=""),i=!0),t2(this,t,e,!1,i)};at.prototype.unshift=function(t){return t2(this,t,null,!0,!1)};function t2(t,e,r,i,n){var s=t._readableState;if(e===null)s.reading=!1,tne(t,s);else{var o;n||(o=Qie(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==hd.prototype&&(e=zie(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):bA(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?bA(t,s,e,!1):r2(t,s)):bA(t,s,e,!1))):i||(s.reading=!1)}return Zie(s)}function bA(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&iy(t)),r2(t,e)}function Qie(t,e){var r;return!Xie(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Zie(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}at.prototype.isPaused=function(){return this._readableState.flowing===!1};at.prototype.setEncoding=function(t){return Sl||(Sl=HA().StringDecoder),this._readableState.decoder=new Sl(t),this._readableState.encoding=t,this};var zF=8388608;function ene(t){return t>=zF?t=zF:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function XF(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=ene(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}at.prototype.read=function(t){Fe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Fe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?vA(this):iy(this),null;if(t=XF(t,e),t===0&&e.ended)return e.length===0&&vA(this),null;var i=e.needReadable;Fe("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Fe("length less than watermark",i)),e.ended||e.reading?(i=!1,Fe("reading or ended",i)):i&&(Fe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=XF(r,e)));var n;return t>0?n=i2(t,e):n=null,n===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&vA(this)),n!==null&&this.emit("data",n),n};function tne(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,iy(t)}}function iy(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Fe("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?El.nextTick(JF,t):JF(t))}function JF(t){Fe("emit readable"),t.emit("readable"),wA(t)}function r2(t,e){e.readingMore||(e.readingMore=!0,El.nextTick(rne,t,e))}function rne(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Fe("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}at.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};at.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Fe("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:b;i.endEmitted?El.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(I,B){Fe("onunpipe"),I===r&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,l())}function a(){Fe("onend"),t.end()}var u=ine(r);t.on("drain",u);var c=!1;function l(){Fe("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",H),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var p=!1;r.on("data",f);function f(I){Fe("ondata"),p=!1;var B=t.write(I);B===!1&&!p&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&n2(i.pipes,t)!==-1)&&!c&&(Fe("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function H(I){Fe("onerror",I),b(),t.removeListener("error",H),YF(t,"error")===0&&t.emit("error",I)}Yie(t,"error",H);function m(){t.removeListener("finish",y),b()}t.once("close",m);function y(){Fe("onfinish"),t.removeListener("close",m),b()}t.once("finish",y);function b(){Fe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Fe("pipe resume"),r.resume()),t};function ine(t){return function(){var e=t._readableState;Fe("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&YF(t,"data")&&(e.flowing=!0,wA(t))}}at.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,r);return this}var o=n2(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};at.prototype.on=function(t,e){var r=_A.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&iy(this):El.nextTick(nne,this))}return r};at.prototype.addListener=at.prototype.on;function nne(t){Fe("readable nexttick read 0"),t.read(0)}at.prototype.resume=function(){var t=this._readableState;return t.flowing||(Fe("resume"),t.flowing=!0,sne(this,t)),this};function sne(t,e){e.resumeScheduled||(e.resumeScheduled=!0,El.nextTick(one,t,e))}function one(t,e){e.reading||(Fe("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),wA(t),e.flowing&&!e.reading&&t.read(0)}at.prototype.pause=function(){return Fe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function wA(t){var e=t._readableState;for(Fe("flow",e.flowing);e.flowing&&t.read()!==null;);}at.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Fe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Fe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(o){return function(){return t[o].apply(t,arguments)}}(n));for(var s=0;s<yA.length;s++)t.on(yA[s],this.emit.bind(this,yA[s]));return this._read=function(o){Fe("wrapped _read",o),i&&(i=!1,t.resume())},this};Object.defineProperty(at.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});at._fromList=i2;function i2(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=ane(t,e.buffer,e.decoder),r}function ane(t,e,r){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?i=e.shift():i=r?une(t,e):cne(t,e),i}function une(t,e){var r=e.head,i=1,n=r.data;for(t-=n.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),t-=o,t===0){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}function cne(t,e){var r=hd.allocUnsafe(t),i=e.head,n=1;for(i.data.copy(r),t-=i.data.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++n}return e.length-=n,r}function vA(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,El.nextTick(lne,e,t))}function lne(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function n2(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var IA=v((BEe,u2)=>{"use strict";u2.exports=Os;var ny=ou(),a2=Object.create(sn());a2.inherits=Wt();a2.inherits(Os,ny);function pne(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Os(t){if(!(this instanceof Os))return new Os(t);ny.call(this,t),this._transformState={afterTransform:pne.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",fne)}function fne(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){o2(t,e,r)}):o2(this,null,null)}Os.prototype.push=function(t,e){return this._transformState.needTransform=!1,ny.prototype.push.call(this,t,e)};Os.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Os.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Os.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Os.prototype._destroy=function(t,e){var r=this;ny.prototype._destroy.call(this,t,function(i){e(i),r.emit("close")})};function o2(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var f2=v((FEe,p2)=>{"use strict";p2.exports=md;var c2=IA(),l2=Object.create(sn());l2.inherits=Wt();l2.inherits(md,c2);function md(t){if(!(this instanceof md))return new md(t);c2.call(this,t)}md.prototype._transform=function(t,e,r){r(null,t)}});var d2=v((nr,sy)=>{var es=w("stream");process.env.READABLE_STREAM==="disable"&&es?(sy.exports=es,nr=sy.exports=es.Readable,nr.Readable=es.Readable,nr.Writable=es.Writable,nr.Duplex=es.Duplex,nr.Transform=es.Transform,nr.PassThrough=es.PassThrough,nr.Stream=es):(nr=sy.exports=dA(),nr.Stream=es||nr,nr.Readable=nr,nr.Writable=lA(),nr.Duplex=ou(),nr.Transform=IA(),nr.PassThrough=f2())});var H2=v((UEe,m2)=>{var h2=d2(),dne=w("util");function hne(t){return!(typeof t.pipe!="function"||!t.readable||typeof t._read!="function"||!t._readableState)}function mne(t,e){if(!hne(e))throw new Error("All input streams must be readable");var r=this;e._buffer=[],e.on("readable",function(){for(var i=e.read();i;)this===t[0]?r.push(i):this._buffer.push(i),i=e.read()}),e.on("end",function(){for(var i=t[0];i&&i._readableState.ended;i=t[0]){for(;i._buffer.length;)r.push(i._buffer.shift());t.shift()}t.length||r.push(null)}),e.on("error",this.emit.bind(this,"error")),t.push(e)}function Hd(t,e){if(!(this instanceof Hd))return new Hd(t,e);if(t=t||[],e=e||{},e.objectMode=!0,h2.call(this,e),Array.isArray(t)||(t=[t]),!t.length)return this.push(null);var r=mne.bind(this,[]);t.forEach(function(i){Array.isArray(i)?i.forEach(r):r(i)})}dne.inherits(Hd,h2);Hd.prototype._read=function(){};m2.exports=Hd});var AA=v((jEe,g2)=>{g2.exports=w("stream")});var b2=v((qEe,SA)=>{"use strict";function Hne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y2=ks().Buffer,gd=w("util");function gne(t,e,r){t.copy(e,r)}SA.exports=function(){function t(){Hne(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},t.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n},t.prototype.concat=function(r){if(this.length===0)return y2.alloc(0);if(this.length===1)return this.head.data;for(var i=y2.allocUnsafe(r>>>0),n=this.head,s=0;n;)gne(n.data,i,s),s+=n.data.length,n=n.next;return i},t}();gd&&gd.inspect&&gd.inspect.custom&&(SA.exports.prototype[gd.inspect.custom]=function(){var t=gd.inspect({length:this.length});return this.constructor.name+" "+t})});var EA=v((WEe,w2)=>{"use strict";var v2=$s();function yne(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&v2.nextTick(_2,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?(v2.nextTick(_2,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(s)}),this)}function bne(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _2(t,e){t.emit("error",e)}w2.exports={destroy:yne,undestroy:bne}});var CA=v((VEe,P2)=>{"use strict";var au=$s();P2.exports=Mt;function A2(t){var e=this;this.next=null,this.entry=null,this.finish=function(){One(e,t)}}var vne=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:au.nextTick,xl;Mt.WritableState=bd;var S2=sn();S2.inherits=Wt();var _ne={deprecate:Qg()},E2=AA(),ay=ks().Buffer,wne=global.Uint8Array||function(){};function Ine(t){return ay.from(t)}function Ane(t){return ay.isBuffer(t)||t instanceof wne}var x2=EA();S2.inherits(Mt,E2);function Sne(){}function bd(t,e){xl=xl||uu(),t=t||{};var r=e instanceof xl;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,n=t.writableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Tne(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new A2(this)}bd.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(bd.prototype,"buffer",{get:_ne.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var oy;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(oy=Function.prototype[Symbol.hasInstance],Object.defineProperty(Mt,Symbol.hasInstance,{value:function(t){return oy.call(this,t)?!0:this!==Mt?!1:t&&t._writableState instanceof bd}})):oy=function(t){return t instanceof this};function Mt(t){if(xl=xl||uu(),!oy.call(Mt,this)&&!(this instanceof xl))return new Mt(t);this._writableState=new bd(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),E2.call(this)}Mt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Ene(t,e){var r=new Error("write after end");t.emit("error",r),au.nextTick(e,r)}function xne(t,e,r,i){var n=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),au.nextTick(i,s),n=!1),n}Mt.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&Ane(t);return s&&!ay.isBuffer(t)&&(t=Ine(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=Sne),i.ended?Ene(this,r):(s||xne(this,i,t,r))&&(i.pendingcb++,n=Lne(this,i,s,t,e,r)),n};Mt.prototype.cork=function(){var t=this._writableState;t.corked++};Mt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&C2(this,t))};Mt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function Cne(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=ay.from(e,r)),e}Object.defineProperty(Mt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Lne(t,e,r,i,n,s){if(!r){var o=Cne(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else xA(t,e,!1,a,i,n,s);return u}function xA(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function Pne(t,e,r,i,n){--e.pendingcb,r?(au.nextTick(n,i),au.nextTick(yd,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(n(i),t._writableState.errorEmitted=!0,t.emit("error",i),yd(t,e))}function Dne(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Tne(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(Dne(r),e)Pne(t,r,i,e,n);else{var s=L2(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&C2(t,r),i?vne(I2,t,r,s,n):I2(t,r,s,n)}}function I2(t,e,r,i){r||$ne(t,e),e.pendingcb--,i(),yd(t,e)}function $ne(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function C2(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,xA(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new A2(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(xA(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Mt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Mt.prototype._writev=null;Mt.prototype.end=function(t,e,r){var i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),!i.ending&&!i.finished&&Rne(this,i,r)};function L2(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Mne(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),yd(t,e)})}function kne(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,au.nextTick(Mne,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function yd(t,e){var r=L2(e);return r&&(kne(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Rne(t,e,r){e.ending=!0,yd(t,e),r&&(e.finished?au.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function One(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(Mt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Mt.prototype.destroy=x2.destroy;Mt.prototype._undestroy=x2.undestroy;Mt.prototype._destroy=function(t,e){this.end(),e(t)}});var uu=v((GEe,M2)=>{"use strict";var D2=$s(),Nne=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};M2.exports=Ns;var T2=sn();T2.inherits=Wt();var $2=DA(),PA=CA();T2.inherits(Ns,$2);for(LA=Nne(PA.prototype),uy=0;uy<LA.length;uy++)cy=LA[uy],Ns.prototype[cy]||(Ns.prototype[cy]=PA.prototype[cy]);var LA,cy,uy;function Ns(t){if(!(this instanceof Ns))return new Ns(t);$2.call(this,t),PA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Bne)}Object.defineProperty(Ns.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Bne(){this.allowHalfOpen||this._writableState.ended||D2.nextTick(Fne,this)}function Fne(t){t.end()}Object.defineProperty(Ns.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Ns.prototype._destroy=function(t,e){this.push(null),this.end(),D2.nextTick(e,t)}});var MA=v(R2=>{"use strict";var $A=ks().Buffer,k2=$A.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Une(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function jne(t){var e=Une(t);if(typeof e!="string"&&($A.isEncoding===k2||!k2(t)))throw new Error("Unknown encoding: "+t);return e||t}R2.StringDecoder=vd;function vd(t){this.encoding=jne(t);var e;switch(this.encoding){case"utf16le":this.text=zne,this.end=Xne,e=4;break;case"utf8":this.fillLast=Vne,e=4;break;case"base64":this.text=Jne,this.end=Yne,e=3;break;default:this.write=Qne,this.end=Zne;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=$A.allocUnsafe(e)}vd.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};vd.prototype.end=Kne;vd.prototype.text=Gne;vd.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function TA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function qne(t,e,r){var i=e.length-1;if(i<r)return 0;var n=TA(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=TA(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=TA(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Wne(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Vne(t){var e=this.lastTotal-this.lastNeed,r=Wne(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Gne(t,e){var r=qne(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function Kne(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function zne(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Xne(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Jne(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Yne(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Qne(t){return t.toString(this.encoding)}function Zne(t){return t&&t.length?this.write(t):""}});var DA=v((XEe,z2)=>{"use strict";var Ll=$s();z2.exports=ut;var ese=tA(),_d;ut.ReadableState=q2;var zEe=w("events").EventEmitter,F2=function(t,e){return t.listeners(e).length},BA=AA(),wd=ks().Buffer,tse=global.Uint8Array||function(){};function rse(t){return wd.from(t)}function ise(t){return wd.isBuffer(t)||t instanceof tse}var U2=sn();U2.inherits=Wt();var kA=w("util"),Ue=void 0;kA&&kA.debuglog?Ue=kA.debuglog("stream"):Ue=function(){};var nse=b2(),j2=EA(),Cl;U2.inherits(ut,BA);var RA=["error","close","destroy","pause","resume"];function sse(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):ese(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function q2(t,e){_d=_d||uu(),t=t||{};var r=e instanceof _d;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,n=t.readableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new nse,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Cl||(Cl=MA().StringDecoder),this.decoder=new Cl(t.encoding),this.encoding=t.encoding)}function ut(t){if(_d=_d||uu(),!(this instanceof ut))return new ut(t);this._readableState=new q2(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),BA.call(this)}Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});ut.prototype.destroy=j2.destroy;ut.prototype._undestroy=j2.undestroy;ut.prototype._destroy=function(t,e){this.push(null),e(t)};ut.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=wd.from(t,e),e=""),i=!0),W2(this,t,e,!1,i)};ut.prototype.unshift=function(t){return W2(this,t,null,!0,!1)};function W2(t,e,r,i,n){var s=t._readableState;if(e===null)s.reading=!1,cse(t,s);else{var o;n||(o=ose(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==wd.prototype&&(e=rse(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):OA(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?OA(t,s,e,!1):V2(t,s)):OA(t,s,e,!1))):i||(s.reading=!1)}return ase(s)}function OA(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ly(t)),V2(t,e)}function ose(t,e){var r;return!ise(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function ase(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}ut.prototype.isPaused=function(){return this._readableState.flowing===!1};ut.prototype.setEncoding=function(t){return Cl||(Cl=MA().StringDecoder),this._readableState.decoder=new Cl(t),this._readableState.encoding=t,this};var O2=8388608;function use(t){return t>=O2?t=O2:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function N2(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=use(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ut.prototype.read=function(t){Ue("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ue("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?NA(this):ly(this),null;if(t=N2(t,e),t===0&&e.ended)return e.length===0&&NA(this),null;var i=e.needReadable;Ue("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Ue("length less than watermark",i)),e.ended||e.reading?(i=!1,Ue("reading or ended",i)):i&&(Ue("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=N2(r,e)));var n;return t>0?n=G2(t,e):n=null,n===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&NA(this)),n!==null&&this.emit("data",n),n};function cse(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,ly(t)}}function ly(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ue("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Ll.nextTick(B2,t):B2(t))}function B2(t){Ue("emit readable"),t.emit("readable"),FA(t)}function V2(t,e){e.readingMore||(e.readingMore=!0,Ll.nextTick(lse,t,e))}function lse(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ue("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}ut.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};ut.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Ue("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:b;i.endEmitted?Ll.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(I,B){Ue("onunpipe"),I===r&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,l())}function a(){Ue("onend"),t.end()}var u=pse(r);t.on("drain",u);var c=!1;function l(){Ue("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",H),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var p=!1;r.on("data",f);function f(I){Ue("ondata"),p=!1;var B=t.write(I);B===!1&&!p&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&K2(i.pipes,t)!==-1)&&!c&&(Ue("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function H(I){Ue("onerror",I),b(),t.removeListener("error",H),F2(t,"error")===0&&t.emit("error",I)}sse(t,"error",H);function m(){t.removeListener("finish",y),b()}t.once("close",m);function y(){Ue("onfinish"),t.removeListener("close",m),b()}t.once("finish",y);function b(){Ue("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Ue("pipe resume"),r.resume()),t};function pse(t){return function(){var e=t._readableState;Ue("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&F2(t,"data")&&(e.flowing=!0,FA(t))}}ut.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,r);return this}var o=K2(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ut.prototype.on=function(t,e){var r=BA.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&ly(this):Ll.nextTick(fse,this))}return r};ut.prototype.addListener=ut.prototype.on;function fse(t){Ue("readable nexttick read 0"),t.read(0)}ut.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ue("resume"),t.flowing=!0,dse(this,t)),this};function dse(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ll.nextTick(hse,t,e))}function hse(t,e){e.reading||(Ue("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),FA(t),e.flowing&&!e.reading&&t.read(0)}ut.prototype.pause=function(){return Ue("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ue("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function FA(t){var e=t._readableState;for(Ue("flow",e.flowing);e.flowing&&t.read()!==null;);}ut.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Ue("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ue("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(o){return function(){return t[o].apply(t,arguments)}}(n));for(var s=0;s<RA.length;s++)t.on(RA[s],this.emit.bind(this,RA[s]));return this._read=function(o){Ue("wrapped _read",o),i&&(i=!1,t.resume())},this};Object.defineProperty(ut.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ut._fromList=G2;function G2(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=mse(t,e.buffer,e.decoder),r}function mse(t,e,r){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?i=e.shift():i=r?Hse(t,e):gse(t,e),i}function Hse(t,e){var r=e.head,i=1,n=r.data;for(t-=n.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),t-=o,t===0){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}function gse(t,e){var r=wd.allocUnsafe(t),i=e.head,n=1;for(i.data.copy(r),t-=i.data.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++n}return e.length-=n,r}function NA(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Ll.nextTick(yse,e,t))}function yse(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function K2(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var UA=v((JEe,Y2)=>{"use strict";Y2.exports=Bs;var py=uu(),J2=sn();J2.inherits=Wt();J2.inherits(Bs,py);function bse(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Bs(t){if(!(this instanceof Bs))return new Bs(t);py.call(this,t),this._transformState={afterTransform:bse.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",vse)}function vse(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){X2(t,e,r)}):X2(this,null,null)}Bs.prototype.push=function(t,e){return this._transformState.needTransform=!1,py.prototype.push.call(this,t,e)};Bs.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Bs.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Bs.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Bs.prototype._destroy=function(t,e){var r=this;py.prototype._destroy.call(this,t,function(i){e(i),r.emit("close")})};function X2(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var t3=v((YEe,e3)=>{"use strict";e3.exports=Id;var Q2=UA(),Z2=sn();Z2.inherits=Wt();Z2.inherits(Id,Q2);function Id(t){if(!(this instanceof Id))return new Id(t);Q2.call(this,t)}Id.prototype._transform=function(t,e,r){r(null,t)}});var r3=v((sr,fy)=>{var ts=w("stream");process.env.READABLE_STREAM==="disable"&&ts?(fy.exports=ts,sr=fy.exports=ts.Readable,sr.Readable=ts.Readable,sr.Writable=ts.Writable,sr.Duplex=ts.Duplex,sr.Transform=ts.Transform,sr.PassThrough=ts.PassThrough,sr.Stream=ts):(sr=fy.exports=DA(),sr.Stream=ts||sr,sr.Readable=sr,sr.Writable=CA(),sr.Duplex=uu(),sr.Transform=UA(),sr.PassThrough=t3())});var jA=v((QEe,i3)=>{i3.exports=wse;var _se=Object.prototype.hasOwnProperty;function wse(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)_se.call(r,i)&&(t[i]=r[i])}return t}});var a3=v((ZEe,dy)=>{var n3=r3().Transform,s3=w("util").inherits,o3=jA();function Pl(t){n3.call(this,t),this._destroyed=!1}s3(Pl,n3);Pl.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function Ise(t,e,r){r(null,t)}function qA(t){return function(e,r,i){return typeof e=="function"&&(i=r,r=e,e={}),typeof r!="function"&&(r=Ise),typeof i!="function"&&(i=null),t(e,r,i)}}dy.exports=qA(function(t,e,r){var i=new Pl(t);return i._transform=e,r&&(i._flush=r),i});dy.exports.ctor=qA(function(t,e,r){function i(n){if(!(this instanceof i))return new i(n);this.options=o3(t,n),Pl.call(this,this.options)}return s3(i,Pl),i.prototype._transform=e,r&&(i.prototype._flush=r),i});dy.exports.obj=qA(function(t,e,r){var i=new Pl(o3({objectMode:!0,highWaterMark:16},t));return i._transform=e,r&&(i._flush=r),i})});var l3=v((exe,Ad)=>{"use strict";Ad.exports=c3;Ad.exports.ctor=WA;Ad.exports.objCtor=Sse;Ad.exports.obj=Ese;var Ase=a3(),u3=jA();function WA(t,e){typeof t=="function"&&(e=t,t={});var r=Ase.ctor(t,function(i,n,s){this.options.wantStrings&&(i=i.toString());try{return e.call(this,i,this._index++)&&this.push(i),s()}catch(o){return s(o)}});return r.prototype._index=0,r}function Sse(t,e){return typeof t=="function"&&(e=t,t={}),t=u3({objectMode:!0,highWaterMark:16},t),WA(t,e)}function c3(t,e){return WA(t,e)()}function Ese(t,e){return typeof t=="function"&&(e=t,t={}),t=u3({objectMode:!0,highWaterMark:16},t),c3(t,e)}});var f3=v((txe,p3)=>{p3.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=e.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var i=typeof e.cycles=="boolean"?e.cycles:!1,n=e.replacer||function(a,u){return u},s=e.cmp&&function(a){return function(u){return function(c,l){var p={key:c,value:u[c]},f={key:l,value:u[l]};return a(p,f)}}}(e.cmp),o=[];return function a(u,c,l,p){var f=r?`
`+new Array(p+1).join(r):"",H=r?": ":":";if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l=n.call(u,c,l),l!==void 0){if(typeof l!="object"||l===null)return JSON.stringify(l);if(xse(l)){for(var m=[],y=0;y<l.length;y++){var b=a(l,y,l[y],p+1)||JSON.stringify(null);m.push(f+r+b)}return"["+m.join(",")+f+"]"}else{if(o.indexOf(l)!==-1){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else o.push(l);for(var I=Cse(l).sort(s&&s(l)),m=[],y=0;y<I.length;y++){var c=I[y],B=a(l,c,l[c],p+1);if(B){var q=JSON.stringify(c)+H+B;m.push(f+r+q)}}return o.splice(o.indexOf(l),1),"{"+m.join(",")+f+"}"}}}({"":t},"",t,0)};var xse=Array.isArray||function(t){return{}.toString.call(t)==="[object Array]"},Cse=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var i in t)e.call(t,i)&&r.push(i);return r}});var h3=v((rxe,d3)=>{"use strict";var Lse=l3().obj,Pse=f3(),VA;typeof global.Set=="function"?VA=global.Set:VA=function(){this.keys=[],this.has=function(t){return this.keys.indexOf(t)!==-1},this.add=function(t){this.keys.push(t)}};function Dse(t){return function(e){return e[t]}}d3.exports=Tse;function Tse(t,e){e=e||new VA;var r=Pse;return typeof t=="string"?r=Dse(t):typeof t=="function"&&(r=t),Lse(function(i){var n=r(i);return e.has(n)?!1:(e.add(n),!0)})}});var g3=v((ixe,H3)=>{var $se=cl(),Mse=hg(),GA=w("fs"),Sd=function(){},kse=/^v?\.0/.test(process.version),hy=function(t){return typeof t=="function"},Rse=function(t){return!kse||!GA?!1:(t instanceof(GA.ReadStream||Sd)||t instanceof(GA.WriteStream||Sd))&&hy(t.close)},Ose=function(t){return t.setHeader&&hy(t.abort)},Nse=function(t,e,r,i){i=$se(i);var n=!1;t.on("close",function(){n=!0}),Mse(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,Rse(t))return t.close(Sd);if(Ose(t))return t.abort();if(hy(t.destroy))return t.destroy();i(o||new Error("stream was destroyed"))}}},m3=function(t){t()},Bse=function(t,e){return t.pipe(e)},Fse=function(){var t=Array.prototype.slice.call(arguments),e=hy(t[t.length-1]||Sd)&&t.pop()||Sd;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,i=t.map(function(n,s){var o=s<t.length-1,a=s>0;return Nse(n,o,a,function(u){r||(r=u),u&&i.forEach(m3),!o&&(i.forEach(m3),e(r))})});return t.reduce(Bse)};H3.exports=Fse});var KA=v((nxe,y3)=>{y3.exports=w("stream")});var w3=v((sxe,_3)=>{"use strict";function b3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Use(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(r),!0).forEach(function(i){jse(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function jse(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v3(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Wse(t,e,r){return e&&v3(t.prototype,e),r&&v3(t,r),t}var Vse=w("buffer"),my=Vse.Buffer,Gse=w("util"),zA=Gse.inspect,Kse=zA&&zA.custom||"inspect";function zse(t,e,r){my.prototype.copy.call(t,e,r)}_3.exports=function(){function t(){qse(this,t),this.head=null,this.tail=null,this.length=0}return Wse(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return my.alloc(0);for(var i=my.allocUnsafe(r>>>0),n=this.head,s=0;n;)zse(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=my.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,a),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:Kse,value:function(r,i){return zA(this,Use({},i,{depth:0,customInspect:!1}))}}]),t}()});var JA=v((oxe,A3)=>{"use strict";function Xse(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(XA,this,t)):process.nextTick(XA,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Hy,r):(r._writableState.errorEmitted=!0,process.nextTick(I3,r,s)):process.nextTick(I3,r,s):e?(process.nextTick(Hy,r),e(s)):process.nextTick(Hy,r)}),this)}function I3(t,e){XA(t,e),Hy(t)}function Hy(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Jse(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function XA(t,e){t.emit("error",e)}function Yse(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}A3.exports={destroy:Xse,undestroy:Jse,errorOrDestroy:Yse}});var Vo=v((axe,x3)=>{"use strict";var E3={};function $i(t,e,r){r||(r=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}class n extends r{constructor(o,a,u){super(i(o,a,u))}}n.prototype.name=r.name,n.prototype.code=t,E3[t]=n}function S3(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(i=>String(i)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function Qse(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Zse(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function eoe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}$i("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);$i("ERR_INVALID_ARG_TYPE",function(t,e,r){let i;typeof e=="string"&&Qse(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";let n;if(Zse(t," argument"))n=`The ${t} ${i} ${S3(e,"type")}`;else{let s=eoe(t,".")?"property":"argument";n=`The "${t}" ${s} ${i} ${S3(e,"type")}`}return n+=`. Received type ${typeof r}`,n},TypeError);$i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$i("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});$i("ERR_STREAM_PREMATURE_CLOSE","Premature close");$i("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});$i("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$i("ERR_STREAM_WRITE_AFTER_END","write after end");$i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$i("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);$i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");x3.exports.codes=E3});var YA=v((uxe,C3)=>{"use strict";var toe=Vo().codes.ERR_INVALID_OPT_VALUE;function roe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function ioe(t,e,r,i){var n=roe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new toe(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}C3.exports={getHighWaterMark:ioe}});var eS=v((cxe,M3)=>{"use strict";M3.exports=yt;function P3(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Poe(e,t)}}var Dl;yt.WritableState=xd;var noe={deprecate:Qg()},D3=KA(),yy=w("buffer").Buffer,soe=global.Uint8Array||function(){};function ooe(t){return yy.from(t)}function aoe(t){return yy.isBuffer(t)||t instanceof soe}var ZA=JA(),uoe=YA(),coe=uoe.getHighWaterMark,Go=Vo().codes,loe=Go.ERR_INVALID_ARG_TYPE,poe=Go.ERR_METHOD_NOT_IMPLEMENTED,foe=Go.ERR_MULTIPLE_CALLBACK,doe=Go.ERR_STREAM_CANNOT_PIPE,hoe=Go.ERR_STREAM_DESTROYED,moe=Go.ERR_STREAM_NULL_VALUES,Hoe=Go.ERR_STREAM_WRITE_AFTER_END,goe=Go.ERR_UNKNOWN_ENCODING,Tl=ZA.errorOrDestroy;Wt()(yt,D3);function yoe(){}function xd(t,e,r){Dl=Dl||cu(),t=t||{},typeof r!="boolean"&&(r=e instanceof Dl),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=coe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Soe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P3(this)}xd.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(xd.prototype,"buffer",{get:noe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var gy;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gy=Function.prototype[Symbol.hasInstance],Object.defineProperty(yt,Symbol.hasInstance,{value:function(e){return gy.call(this,e)?!0:this!==yt?!1:e&&e._writableState instanceof xd}})):gy=function(e){return e instanceof this};function yt(t){Dl=Dl||cu();var e=this instanceof Dl;if(!e&&!gy.call(yt,this))return new yt(t);this._writableState=new xd(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),D3.call(this)}yt.prototype.pipe=function(){Tl(this,new doe)};function boe(t,e){var r=new Hoe;Tl(t,r),process.nextTick(e,r)}function voe(t,e,r,i){var n;return r===null?n=new moe:typeof r!="string"&&!e.objectMode&&(n=new loe("chunk",["string","Buffer"],r)),n?(Tl(t,n),process.nextTick(i,n),!1):!0}yt.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&aoe(t);return s&&!yy.isBuffer(t)&&(t=ooe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=yoe),i.ending?boe(this,r):(s||voe(this,i,t,r))&&(i.pendingcb++,n=woe(this,i,s,t,e,r)),n};yt.prototype.cork=function(){this._writableState.corked++};yt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&T3(this,t))};yt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new goe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(yt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function _oe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=yy.from(e,r)),e}Object.defineProperty(yt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function woe(t,e,r,i,n,s){if(!r){var o=_oe(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else QA(t,e,!1,a,i,n,s);return u}function QA(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new hoe("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function Ioe(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(Ed,t,e),t._writableState.errorEmitted=!0,Tl(t,i)):(n(i),t._writableState.errorEmitted=!0,Tl(t,i),Ed(t,e))}function Aoe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Soe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new foe;if(Aoe(r),e)Ioe(t,r,i,e,n);else{var s=$3(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&T3(t,r),i?process.nextTick(L3,t,r,s,n):L3(t,r,s,n)}}function L3(t,e,r,i){r||Eoe(t,e),e.pendingcb--,i(),Ed(t,e)}function Eoe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function T3(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,QA(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new P3(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(QA(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}yt.prototype._write=function(t,e,r){r(new poe("_write()"))};yt.prototype._writev=null;yt.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Loe(this,i,r),this};Object.defineProperty(yt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $3(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function xoe(t,e){t._final(function(r){e.pendingcb--,r&&Tl(t,r),e.prefinished=!0,t.emit("prefinish"),Ed(t,e)})}function Coe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(xoe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Ed(t,e){var r=$3(e);if(r&&(Coe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Loe(t,e,r){e.ending=!0,Ed(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Poe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(yt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});yt.prototype.destroy=ZA.destroy;yt.prototype._undestroy=ZA.undestroy;yt.prototype._destroy=function(t,e){e(t)}});var cu=v((lxe,R3)=>{"use strict";var Doe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};R3.exports=rs;var k3=iS(),rS=eS();Wt()(rs,k3);for(tS=Doe(rS.prototype),by=0;by<tS.length;by++)vy=tS[by],rs.prototype[vy]||(rs.prototype[vy]=rS.prototype[vy]);var tS,vy,by;function rs(t){if(!(this instanceof rs))return new rs(t);k3.call(this,t),rS.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Toe)))}Object.defineProperty(rs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(rs.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(rs.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Toe(){this._writableState.ended||process.nextTick($oe,this)}function $oe(t){t.end()}Object.defineProperty(rs.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var B3=v((nS,N3)=>{var _y=w("buffer"),is=_y.Buffer;function O3(t,e){for(var r in t)e[r]=t[r]}is.from&&is.alloc&&is.allocUnsafe&&is.allocUnsafeSlow?N3.exports=_y:(O3(_y,nS),nS.Buffer=lu);function lu(t,e,r){return is(t,e,r)}lu.prototype=Object.create(is.prototype);O3(is,lu);lu.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return is(t,e,r)};lu.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=is(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};lu.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return is(t)};lu.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return _y.SlowBuffer(t)}});var aS=v(U3=>{"use strict";var oS=B3().Buffer,F3=oS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Moe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function koe(t){var e=Moe(t);if(typeof e!="string"&&(oS.isEncoding===F3||!F3(t)))throw new Error("Unknown encoding: "+t);return e||t}U3.StringDecoder=Cd;function Cd(t){this.encoding=koe(t);var e;switch(this.encoding){case"utf16le":this.text=Uoe,this.end=joe,e=4;break;case"utf8":this.fillLast=Noe,e=4;break;case"base64":this.text=qoe,this.end=Woe,e=3;break;default:this.write=Voe,this.end=Goe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=oS.allocUnsafe(e)}Cd.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Cd.prototype.end=Foe;Cd.prototype.text=Boe;Cd.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function sS(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Roe(t,e,r){var i=e.length-1;if(i<r)return 0;var n=sS(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=sS(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=sS(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Ooe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Noe(t){var e=this.lastTotal-this.lastNeed,r=Ooe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Boe(t,e){var r=Roe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function Foe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Uoe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function joe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function qoe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Woe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Voe(t){return t.toString(this.encoding)}function Goe(t){return t&&t.length?this.write(t):""}});var wy=v((fxe,W3)=>{"use strict";var j3=Vo().codes.ERR_STREAM_PREMATURE_CLOSE;function Koe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function zoe(){}function Xoe(t){return t.setHeader&&typeof t.abort=="function"}function q3(t,e,r){if(typeof e=="function")return q3(t,null,e);e||(e={}),r=Koe(r||zoe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){n=!1,o=!0,i||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){i=!1,u=!0,n||r.call(t)},l=function(m){r.call(t,m)},p=function(){var m;if(i&&!u)return(!t._readableState||!t._readableState.ended)&&(m=new j3),r.call(t,m);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(m=new j3),r.call(t,m)},f=function(){t.req.on("finish",a)};return Xoe(t)?(t.on("complete",a),t.on("abort",p),t.req?f():t.on("request",f)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",p)}}W3.exports=q3});var G3=v((dxe,V3)=>{"use strict";var Iy;function Ko(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Joe=wy(),zo=Symbol("lastResolve"),pu=Symbol("lastReject"),Ld=Symbol("error"),Ay=Symbol("ended"),fu=Symbol("lastPromise"),uS=Symbol("handlePromise"),du=Symbol("stream");function Xo(t,e){return{value:t,done:e}}function Yoe(t){var e=t[zo];if(e!==null){var r=t[du].read();r!==null&&(t[fu]=null,t[zo]=null,t[pu]=null,e(Xo(r,!1)))}}function Qoe(t){process.nextTick(Yoe,t)}function Zoe(t,e){return function(r,i){t.then(function(){if(e[Ay]){r(Xo(void 0,!0));return}e[uS](r,i)},i)}}var eae=Object.getPrototypeOf(function(){}),tae=Object.setPrototypeOf((Iy={get stream(){return this[du]},next:function(){var e=this,r=this[Ld];if(r!==null)return Promise.reject(r);if(this[Ay])return Promise.resolve(Xo(void 0,!0));if(this[du].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[Ld]?a(e[Ld]):o(Xo(void 0,!0))})});var i=this[fu],n;if(i)n=new Promise(Zoe(i,this));else{var s=this[du].read();if(s!==null)return Promise.resolve(Xo(s,!1));n=new Promise(this[uS])}return this[fu]=n,n}},Ko(Iy,Symbol.asyncIterator,function(){return this}),Ko(Iy,"return",function(){var e=this;return new Promise(function(r,i){e[du].destroy(null,function(n){if(n){i(n);return}r(Xo(void 0,!0))})})}),Iy),eae),rae=function(e){var r,i=Object.create(tae,(r={},Ko(r,du,{value:e,writable:!0}),Ko(r,zo,{value:null,writable:!0}),Ko(r,pu,{value:null,writable:!0}),Ko(r,Ld,{value:null,writable:!0}),Ko(r,Ay,{value:e._readableState.endEmitted,writable:!0}),Ko(r,uS,{value:function(s,o){var a=i[du].read();a?(i[fu]=null,i[zo]=null,i[pu]=null,s(Xo(a,!1))):(i[zo]=s,i[pu]=o)},writable:!0}),r));return i[fu]=null,Joe(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[pu];s!==null&&(i[fu]=null,i[zo]=null,i[pu]=null,s(n)),i[Ld]=n;return}var o=i[zo];o!==null&&(i[fu]=null,i[zo]=null,i[pu]=null,o(Xo(void 0,!0))),i[Ay]=!0}),e.on("readable",Qoe.bind(null,i)),i};V3.exports=rae});var J3=v((hxe,X3)=>{"use strict";function K3(t,e,r,i,n,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(i,n)}function iae(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var s=t.apply(e,r);function o(u){K3(s,i,n,o,a,"next",u)}function a(u){K3(s,i,n,o,a,"throw",u)}o(void 0)})}}function z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function nae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(r),!0).forEach(function(i){sae(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function sae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var oae=Vo().codes.ERR_INVALID_ARG_TYPE;function aae(t,e,r){var i;if(e&&typeof e.next=="function")i=e;else if(e&&e[Symbol.asyncIterator])i=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])i=e[Symbol.iterator]();else throw new oae("iterable",["Iterable"],e);var n=new t(nae({objectMode:!0},r)),s=!1;n._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=iae(function*(){try{var u=yield i.next(),c=u.value,l=u.done;l?n.push(null):n.push(yield c)?o():s=!1}catch(p){n.destroy(p)}}),a.apply(this,arguments)}return n}X3.exports=aae});var iS=v((Hxe,oU)=>{"use strict";oU.exports=Me;var $l;Me.ReadableState=eU;var mxe=w("events").EventEmitter,Z3=function(e,r){return e.listeners(r).length},Dd=KA(),Sy=w("buffer").Buffer,uae=global.Uint8Array||function(){};function cae(t){return Sy.from(t)}function lae(t){return Sy.isBuffer(t)||t instanceof uae}var cS=w("util"),Se;cS&&cS.debuglog?Se=cS.debuglog("stream"):Se=function(){};var pae=w3(),HS=JA(),fae=YA(),dae=fae.getHighWaterMark,Ey=Vo().codes,hae=Ey.ERR_INVALID_ARG_TYPE,mae=Ey.ERR_STREAM_PUSH_AFTER_EOF,Hae=Ey.ERR_METHOD_NOT_IMPLEMENTED,gae=Ey.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ml,lS,pS;Wt()(Me,Dd);var Pd=HS.errorOrDestroy,fS=["error","close","destroy","pause","resume"];function yae(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function eU(t,e,r){$l=$l||cu(),t=t||{},typeof r!="boolean"&&(r=e instanceof $l),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=dae(this,t,"readableHighWaterMark",r),this.buffer=new pae,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ml||(Ml=aS().StringDecoder),this.decoder=new Ml(t.encoding),this.encoding=t.encoding)}function Me(t){if($l=$l||cu(),!(this instanceof Me))return new Me(t);var e=this instanceof $l;this._readableState=new eU(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Dd.call(this)}Object.defineProperty(Me.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Me.prototype.destroy=HS.destroy;Me.prototype._undestroy=HS.undestroy;Me.prototype._destroy=function(t,e){e(t)};Me.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Sy.from(t,e),e=""),i=!0),tU(this,t,e,!1,i)};Me.prototype.unshift=function(t){return tU(this,t,null,!0,!1)};function tU(t,e,r,i,n){Se("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,_ae(t,s);else{var o;if(n||(o=bae(s,e)),o)Pd(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Sy.prototype&&(e=cae(e)),i)s.endEmitted?Pd(t,new gae):dS(t,s,e,!0);else if(s.ended)Pd(t,new mae);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?dS(t,s,e,!1):mS(t,s)):dS(t,s,e,!1)}else i||(s.reading=!1,mS(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function dS(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&xy(t)),mS(t,e)}function bae(t,e){var r;return!lae(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new hae("chunk",["string","Buffer","Uint8Array"],e)),r}Me.prototype.isPaused=function(){return this._readableState.flowing===!1};Me.prototype.setEncoding=function(t){Ml||(Ml=aS().StringDecoder);var e=new Ml(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var Y3=1073741824;function vae(t){return t>=Y3?t=Y3:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Q3(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=vae(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Me.prototype.read=function(t){Se("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Se("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?hS(this):xy(this),null;if(t=Q3(t,e),t===0&&e.ended)return e.length===0&&hS(this),null;var i=e.needReadable;Se("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Se("length less than watermark",i)),e.ended||e.reading?(i=!1,Se("reading or ended",i)):i&&(Se("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Q3(r,e)));var n;return t>0?n=nU(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&hS(this)),n!==null&&this.emit("data",n),n};function _ae(t,e){if(Se("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?xy(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,rU(t)))}}function xy(t){var e=t._readableState;Se("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Se("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(rU,t))}function rU(t){var e=t._readableState;Se("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,gS(t)}function mS(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(wae,t,e))}function wae(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Se("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Me.prototype._read=function(t){Pd(this,new Hae("_read()"))};Me.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Se("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:y;i.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(b,I){Se("onunpipe"),b===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,l())}function a(){Se("onend"),t.end()}var u=Iae(r);t.on("drain",u);var c=!1;function l(){Se("cleanup"),t.removeListener("close",H),t.removeListener("finish",m),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",p),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",p);function p(b){Se("ondata");var I=t.write(b);Se("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&sU(i.pipes,t)!==-1)&&!c&&(Se("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(b){Se("onerror",b),y(),t.removeListener("error",f),Z3(t,"error")===0&&Pd(t,b)}yae(t,"error",f);function H(){t.removeListener("finish",m),y()}t.once("close",H);function m(){Se("onfinish"),t.removeListener("close",H),y()}t.once("finish",m);function y(){Se("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Se("pipe resume"),r.resume()),t};function Iae(t){return function(){var r=t._readableState;Se("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Z3(t,"data")&&(r.flowing=!0,gS(t))}}Me.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=sU(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Me.prototype.on=function(t,e){var r=Dd.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Se("on readable",i.length,i.reading),i.length?xy(this):i.reading||process.nextTick(Aae,this)),r};Me.prototype.addListener=Me.prototype.on;Me.prototype.removeListener=function(t,e){var r=Dd.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(iU,this),r};Me.prototype.removeAllListeners=function(t){var e=Dd.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(iU,this),e};function iU(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Aae(t){Se("readable nexttick read 0"),t.read(0)}Me.prototype.resume=function(){var t=this._readableState;return t.flowing||(Se("resume"),t.flowing=!t.readableListening,Sae(this,t)),t.paused=!1,this};function Sae(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Eae,t,e))}function Eae(t,e){Se("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),gS(t),e.flowing&&!e.reading&&t.read(0)}Me.prototype.pause=function(){return Se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function gS(t){var e=t._readableState;for(Se("flow",e.flowing);e.flowing&&t.read()!==null;);}Me.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Se("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Se("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(a){return function(){return t[a].apply(t,arguments)}}(n));for(var s=0;s<fS.length;s++)t.on(fS[s],this.emit.bind(this,fS[s]));return this._read=function(o){Se("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Me.prototype[Symbol.asyncIterator]=function(){return lS===void 0&&(lS=G3()),lS(this)});Object.defineProperty(Me.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Me.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Me.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Me._fromList=nU;Object.defineProperty(Me.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function nU(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function hS(t){var e=t._readableState;Se("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(xae,e,t))}function xae(t,e){if(Se("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Me.from=function(t,e){return pS===void 0&&(pS=J3()),pS(Me,t,e)});function sU(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var yS=v((gxe,uU)=>{"use strict";uU.exports=Fs;var Cy=Vo().codes,Cae=Cy.ERR_METHOD_NOT_IMPLEMENTED,Lae=Cy.ERR_MULTIPLE_CALLBACK,Pae=Cy.ERR_TRANSFORM_ALREADY_TRANSFORMING,Dae=Cy.ERR_TRANSFORM_WITH_LENGTH_0,Ly=cu();Wt()(Fs,Ly);function Tae(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new Lae);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Fs(t){if(!(this instanceof Fs))return new Fs(t);Ly.call(this,t),this._transformState={afterTransform:Tae.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",$ae)}function $ae(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){aU(t,e,r)}):aU(this,null,null)}Fs.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ly.prototype.push.call(this,t,e)};Fs.prototype._transform=function(t,e,r){r(new Cae("_transform()"))};Fs.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Fs.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Fs.prototype._destroy=function(t,e){Ly.prototype._destroy.call(this,t,function(r){e(r)})};function aU(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Dae;if(t._transformState.transforming)throw new Pae;return t.push(null)}});var pU=v((yxe,lU)=>{"use strict";lU.exports=Td;var cU=yS();Wt()(Td,cU);function Td(t){if(!(this instanceof Td))return new Td(t);cU.call(this,t)}Td.prototype._transform=function(t,e,r){r(null,t)}});var HU=v((bxe,mU)=>{"use strict";var bS;function Mae(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var hU=Vo().codes,kae=hU.ERR_MISSING_ARGS,Rae=hU.ERR_STREAM_DESTROYED;function fU(t){if(t)throw t}function Oae(t){return t.setHeader&&typeof t.abort=="function"}function Nae(t,e,r,i){i=Mae(i);var n=!1;t.on("close",function(){n=!0}),bS===void 0&&(bS=wy()),bS(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,Oae(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new Rae("pipe"))}}}function dU(t){t()}function Bae(t,e){return t.pipe(e)}function Fae(t){return!t.length||typeof t[t.length-1]!="function"?fU:t.pop()}function Uae(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=Fae(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new kae("streams");var n,s=e.map(function(o,a){var u=a<e.length-1,c=a>0;return Nae(o,u,c,function(l){n||(n=l),l&&s.forEach(dU),!u&&(s.forEach(dU),i(n))})});return e.reduce(Bae)}mU.exports=Uae});var vS=v((Mi,Md)=>{var $d=w("stream");process.env.READABLE_STREAM==="disable"&&$d?(Md.exports=$d.Readable,Object.assign(Md.exports,$d),Md.exports.Stream=$d):(Mi=Md.exports=iS(),Mi.Stream=$d||Mi,Mi.Readable=Mi,Mi.Writable=eS(),Mi.Duplex=cu(),Mi.Transform=yS(),Mi.PassThrough=pU(),Mi.finished=wy(),Mi.pipeline=HU())});var yU=v((vxe,gU)=>{gU.exports=jae;function jae(t){var e=t._readableState;return e?e.objectMode?t.read():t.read(qae(e)):null}function qae(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}});var IU=v((_xe,wU)=>{var Py=vS(),bU=hg(),Wae=Wt(),Vae=yU(),vU=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),_S=function(t,e){t._corked?t.once("uncork",e):e()},Gae=function(t,e){t._autoDestroy&&t.destroy(e)},_U=function(t,e){return function(r){r?Gae(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},Kae=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},zae=function(){},Xae=function(t){return new Py.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},or=function(t,e,r){if(!(this instanceof or))return new or(t,e,r);Py.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};Wae(or,Py.Duplex);or.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new or(t,e,r)};or.prototype.cork=function(){++this._corked===1&&this.emit("cork")};or.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};or.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=bU(t,{writable:!0,readable:!1},_U(this,this._forwardEnd)),i=function(){var s=e._ondrain;e._ondrain=null,s&&s()},n=function(){e._writable.removeListener("drain",i),r()};this._unwrite&&process.nextTick(i),this._writable=t,this._writable.on("drain",i),this._unwrite=n,this.uncork()};or.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=bU(t,{writable:!1,readable:!0},_U(this)),i=function(){e._forward()},n=function(){e.push(null)},s=function(){e._readable2.removeListener("readable",i),e._readable2.removeListener("end",n),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:Xae(t),this._readable2.on("readable",i),this._readable2.on("end",n),this._unread=s,this._forward()};or.prototype._read=function(){this._drained=!0,this._forward()};or.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=Vae(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};or.prototype.destroy=function(t,e){if(e||(e=zae),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(t),e(null)})};or.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};or.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return _S(this,this._write.bind(this,t,e,r));if(t===vU)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};or.prototype._finish=function(t){var e=this;this.emit("preend"),_S(this,function(){Kae(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),_S(e,t)})})};or.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(vU),Py.Writable.prototype.end.call(this,r))};wU.exports=or});var EU=v((wxe,Dy)=>{var Jae=g3(),Yae=Wt(),AU=IU(),SU=function(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]},wS=function(t){var e=function(){var r=SU(arguments);if(!(this instanceof e))return new e(r);AU.call(this,null,null,t),r.length&&this.setPipeline(r)};return Yae(e,AU),e.prototype.setPipeline=function(){var r=SU(arguments),i=this,n=!1,s=r[0],o=r[r.length-1];o=o.readable?o:null,s=s.writable?s:null;var a=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",function(){n||i.cork()}),Jae(r,function(u){if(i.removeListener("close",a),u)return i.destroy(u.message==="premature close"?null:u);n=!0,i._autoDestroy===!1&&(i._autoDestroy=!0),i.uncork()}),this.destroyed)return a();this.setWritable(s),this.setReadable(o)},e};Dy.exports=wS({autoDestroy:!1,destroy:!1});Dy.exports.obj=wS({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16});Dy.exports.ctor=wS});var IS=v((Ixe,xU)=>{"use strict";xU.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");var e={negated:!1,pattern:t,original:t};return t.charAt(0)==="!"&&t.charAt(1)!=="("&&(e.negated=!0,e.pattern=t.slice(1)),e}});var AS=v((Axe,kU)=>{"use strict";var Ty=Object.prototype.hasOwnProperty,MU=Object.prototype.toString,CU=Object.defineProperty,LU=Object.getOwnPropertyDescriptor,PU=function(e){return typeof Array.isArray=="function"?Array.isArray(e):MU.call(e)==="[object Array]"},DU=function(e){if(!e||MU.call(e)!=="[object Object]")return!1;var r=Ty.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Ty.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;var n;for(n in e);return typeof n>"u"||Ty.call(e,n)},TU=function(e,r){CU&&r.name==="__proto__"?CU(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},$U=function(e,r){if(r==="__proto__")if(Ty.call(e,r)){if(LU)return LU(e,r).value}else return;return e[r]};kU.exports=function t(){var e,r,i,n,s,o,a=arguments[0],u=1,c=arguments.length,l=!1;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(e=arguments[u],e!=null)for(r in e)i=$U(a,r),n=$U(e,r),a!==n&&(l&&n&&(DU(n)||(s=PU(n)))?(s?(s=!1,o=i&&PU(i)?i:[]):o=i&&DU(i)?i:{},TU(a,{name:r,newValue:t(l,o,n)})):typeof n<"u"&&TU(a,{name:r,newValue:n}));return a}});var RU=v(SS=>{var hu=w("path"),Yo=process.platform==="win32",Jo=w("fs"),Qae=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Zae(){var t;if(Qae){var e=new Error;t=r}else t=i;return t;function r(n){n&&(e.message=n.message,n=e,i(n))}function i(n){if(n){if(process.throwDeprecation)throw n;if(!process.noDeprecation){var s="fs: missing callback "+(n.stack||n.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function eue(t){return typeof t=="function"?t:Zae()}var Sxe=hu.normalize;Yo?Us=/(.*?)(?:[\/\\]+|$)/g:Us=/(.*?)(?:[\/]+|$)/g;var Us;Yo?kd=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:kd=/^[\/]*/;var kd;SS.realpathSync=function(e,r){if(e=hu.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var i=e,n={},s={},o,a,u,c;l();function l(){var b=kd.exec(e);o=b[0].length,a=b[0],u=b[0],c="",Yo&&!s[u]&&(Jo.lstatSync(u),s[u]=!0)}for(;o<e.length;){Us.lastIndex=o;var p=Us.exec(e);if(c=a,a+=p[0],u=c+p[1],o=Us.lastIndex,!(s[u]||r&&r[u]===u)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,u))f=r[u];else{var H=Jo.lstatSync(u);if(!H.isSymbolicLink()){s[u]=!0,r&&(r[u]=u);continue}var m=null;if(!Yo){var y=H.dev.toString(32)+":"+H.ino.toString(32);n.hasOwnProperty(y)&&(m=n[y])}m===null&&(Jo.statSync(u),m=Jo.readlinkSync(u)),f=hu.resolve(c,m),r&&(r[u]=f),Yo||(n[y]=m)}e=hu.resolve(f,e.slice(o)),l()}}return r&&(r[i]=e),e};SS.realpath=function(e,r,i){if(typeof i!="function"&&(i=eue(r),r=null),e=hu.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(i.bind(null,null,r[e]));var n=e,s={},o={},a,u,c,l;p();function p(){var b=kd.exec(e);a=b[0].length,u=b[0],c=b[0],l="",Yo&&!o[c]?Jo.lstat(c,function(I){if(I)return i(I);o[c]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return r&&(r[n]=e),i(null,e);Us.lastIndex=a;var b=Us.exec(e);return l=u,u+=b[0],c=l+b[1],a=Us.lastIndex,o[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?y(r[c]):Jo.lstat(c,H)}function H(b,I){if(b)return i(b);if(!I.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!Yo){var B=I.dev.toString(32)+":"+I.ino.toString(32);if(s.hasOwnProperty(B))return m(null,s[B],c)}Jo.stat(c,function(q){if(q)return i(q);Jo.readlink(c,function(C,D){Yo||(s[B]=D),m(C,D)})})}function m(b,I,B){if(b)return i(b);var q=hu.resolve(l,I);r&&(r[B]=q),y(q)}function y(b){e=hu.resolve(b,e.slice(a)),p()}}});var LS=v((xxe,FU)=>{FU.exports=Qo;Qo.realpath=Qo;Qo.sync=CS;Qo.realpathSync=CS;Qo.monkeypatch=rue;Qo.unmonkeypatch=iue;var kl=w("fs"),ES=kl.realpath,xS=kl.realpathSync,tue=process.version,OU=/^v[0-5]\./.test(tue),NU=RU();function BU(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function Qo(t,e,r){if(OU)return ES(t,e,r);typeof e=="function"&&(r=e,e=null),ES(t,e,function(i,n){BU(i)?NU.realpath(t,e,r):r(i,n)})}function CS(t,e){if(OU)return xS(t,e);try{return xS(t,e)}catch(r){if(BU(r))return NU.realpathSync(t,e);throw r}}function rue(){kl.realpath=Qo,kl.realpathSync=CS}function iue(){kl.realpath=ES,kl.realpathSync=xS}});var jU=v((Cxe,UU)=>{UU.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var n=e(t[i],i);nue(n)?r.push.apply(r,n):r.push(n)}return r};var nue=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var KU=v((Lxe,GU)=>{"use strict";GU.exports=WU;function WU(t,e,r){t instanceof RegExp&&(t=qU(t,r)),e instanceof RegExp&&(e=qU(e,r));var i=VU(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function qU(t,e){var r=e.match(t);return r?r[0]:null}WU.range=VU;function VU(t,e,r){var i,n,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(i=[],s=r.length;l>=0&&!a;)l==u?(i.push(l),u=r.indexOf(t,l+1)):i.length==1?a=[i.pop(),c]:(n=i.pop(),n<s&&(s=n,o=c),c=r.indexOf(e,l+1)),l=u<c&&u>=0?u:c;i.length&&(a=[s,o])}return a}});var tj=v((Pxe,ej)=>{var sue=jU(),zU=KU();ej.exports=uue;var XU="\0SLASH"+Math.random()+"\0",JU="\0OPEN"+Math.random()+"\0",DS="\0CLOSE"+Math.random()+"\0",YU="\0COMMA"+Math.random()+"\0",QU="\0PERIOD"+Math.random()+"\0";function PS(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function oue(t){return t.split("\\\\").join(XU).split("\\{").join(JU).split("\\}").join(DS).split("\\,").join(YU).split("\\.").join(QU)}function aue(t){return t.split(XU).join("\\").split(JU).join("{").split(DS).join("}").split(YU).join(",").split(QU).join(".")}function ZU(t){if(!t)return[""];var e=[],r=zU("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=ZU(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function uue(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Rl(oue(t),!0).map(aue)):[]}function cue(t){return"{"+t+"}"}function lue(t){return/^-?0\d/.test(t)}function pue(t,e){return t<=e}function fue(t,e){return t>=e}function Rl(t,e){var r=[],i=zU("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),o=n||s,a=i.body.indexOf(",")>=0;if(!o&&!a)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+DS+i.post,Rl(t)):[t];var u;if(o)u=i.body.split(/\.\./);else if(u=ZU(i.body),u.length===1&&(u=Rl(u[0],!1).map(cue),u.length===1)){var l=i.post.length?Rl(i.post,!1):[""];return l.map(function(S){return i.pre+u[0]+S})}var c=i.pre,l=i.post.length?Rl(i.post,!1):[""],p;if(o){var f=PS(u[0]),H=PS(u[1]),m=Math.max(u[0].length,u[1].length),y=u.length==3?Math.abs(PS(u[2])):1,b=pue,I=H<f;I&&(y*=-1,b=fue);var B=u.some(lue);p=[];for(var q=f;b(q,H);q+=y){var C;if(s)C=String.fromCharCode(q),C==="\\"&&(C="");else if(C=String(q),B){var D=m-C.length;if(D>0){var G=new Array(D+1).join("0");q<0?C="-"+G+C.slice(1):C=G+C}}p.push(C)}}else p=sue(u,function(O){return Rl(O,!1)});for(var W=0;W<p.length;W++)for(var N=0;N<l.length;N++){var M=c+p[W]+l[N];(!e||o||M)&&r.push(M)}return r}});var ky=v((Dxe,oj)=>{oj.exports=ui;ui.Minimatch=ar;var Rd=function(){try{return w("path")}catch{}}()||{sep:"/"};ui.sep=Rd.sep;var MS=ui.GLOBSTAR=ar.GLOBSTAR={},due=tj(),rj={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},TS="[^/]",$S=TS+"*?",hue="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",mue="(?:(?!(?:\\/|^)\\.).)*?",ij=Hue("().*{}+?[]^$\\!");function Hue(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var nj=/\/+/;ui.filter=gue;function gue(t,e){return e=e||{},function(r,i,n){return ui(r,t,e)}}function Zo(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(i){r[i]=t[i]}),Object.keys(e).forEach(function(i){r[i]=e[i]}),r}ui.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return ui;var e=ui,r=function(n,s,o){return e(n,s,Zo(t,o))};return r.Minimatch=function(n,s){return new e.Minimatch(n,Zo(t,s))},r.Minimatch.defaults=function(n){return e.defaults(Zo(t,n)).Minimatch},r.filter=function(n,s){return e.filter(n,Zo(t,s))},r.defaults=function(n){return e.defaults(Zo(t,n))},r.makeRe=function(n,s){return e.makeRe(n,Zo(t,s))},r.braceExpand=function(n,s){return e.braceExpand(n,Zo(t,s))},r.match=function(i,n,s){return e.match(i,n,Zo(t,s))},r};ar.defaults=function(t){return ui.defaults(t).Minimatch};function ui(t,e,r){return My(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new ar(e,r).match(t)}function ar(t,e){if(!(this instanceof ar))return new ar(t,e);My(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&Rd.sep!=="/"&&(t=t.split(Rd.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}ar.prototype.debug=function(){};ar.prototype.make=yue;function yue(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(i){return i.split(nj)}),this.debug(this.pattern,r),r=r.map(function(i,n,s){return i.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}ar.prototype.parseNegate=bue;function bue(){var t=this.pattern,e=!1,r=this.options,i=0;if(!r.nonegate){for(var n=0,s=t.length;n<s&&t.charAt(n)==="!";n++)e=!e,i++;i&&(this.pattern=t.substr(i)),this.negate=e}}ui.braceExpand=function(t,e){return sj(t,e)};ar.prototype.braceExpand=sj;function sj(t,e){return e||(this instanceof ar?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,My(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:due(t)}var vue=1024*64,My=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>vue)throw new TypeError("pattern is too long")};ar.prototype.parse=_ue;var $y={};function _ue(t,e){My(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return MS;if(t==="")return"";var i="",n=!!r.nocase,s=!1,o=[],a=[],u,c=!1,l=-1,p=-1,f=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",H=this;function m(){if(u){switch(u){case"*":i+=$S,n=!0;break;case"?":i+=TS,n=!0;break;default:i+="\\"+u;break}H.debug("clearStateChar %j %j",u,i),u=!1}}for(var y=0,b=t.length,I;y<b&&(I=t.charAt(y));y++){if(this.debug("%s	%s %s %j",t,y,i,I),s&&ij[I]){i+="\\"+I,s=!1;continue}switch(I){case"/":return!1;case"\\":m(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,y,i,I),c){this.debug("  in class"),I==="!"&&y===p+1&&(I="^"),i+=I;continue}H.debug("call clearStateChar %j",u),m(),u=I,r.noext&&m();continue;case"(":if(c){i+="(";continue}if(!u){i+="\\(";continue}o.push({type:u,start:y-1,reStart:i.length,open:rj[u].open,close:rj[u].close}),i+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,i),u=!1;continue;case")":if(c||!o.length){i+="\\)";continue}m(),n=!0;var B=o.pop();i+=B.close,B.type==="!"&&a.push(B),B.reEnd=i.length;continue;case"|":if(c||!o.length||s){i+="\\|",s=!1;continue}m(),i+="|";continue;case"[":if(m(),c){i+="\\"+I;continue}c=!0,p=y,l=i.length,i+=I;continue;case"]":if(y===p+1||!c){i+="\\"+I,s=!1;continue}var q=t.substring(p+1,y);try{RegExp("["+q+"]")}catch{var C=this.parse(q,$y);i=i.substr(0,l)+"\\["+C[0]+"\\]",n=n||C[1],c=!1;continue}n=!0,c=!1,i+=I;continue;default:m(),s?s=!1:ij[I]&&!(I==="^"&&c)&&(i+="\\"),i+=I}}for(c&&(q=t.substr(p+1),C=this.parse(q,$y),i=i.substr(0,l)+"\\["+C[0],n=n||C[1]),B=o.pop();B;B=o.pop()){var D=i.slice(B.reStart+B.open.length);this.debug("setting tail",i,B),D=D.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(oe,ie,de){return de||(de="\\"),ie+ie+de+"|"}),this.debug(`tail=%j
   %s`,D,D,B,i);var G=B.type==="*"?$S:B.type==="?"?TS:"\\"+B.type;n=!0,i=i.slice(0,B.reStart)+G+"\\("+D}m(),s&&(i+="\\\\");var W=!1;switch(i.charAt(0)){case"[":case".":case"(":W=!0}for(var N=a.length-1;N>-1;N--){var M=a[N],O=i.slice(0,M.reStart),S=i.slice(M.reStart,M.reEnd-8),$=i.slice(M.reEnd-8,M.reEnd),R=i.slice(M.reEnd);$+=R;var X=O.split("(").length-1,L=R;for(y=0;y<X;y++)L=L.replace(/\)[+*?]?/,"");R=L;var P="";R===""&&e!==$y&&(P="$");var ee=O+S+R+P+$;i=ee}if(i!==""&&n&&(i="(?=.)"+i),W&&(i=f+i),e===$y)return[i,n];if(!n)return Iue(t);var re=r.nocase?"i":"";try{var se=new RegExp("^"+i+"$",re)}catch{return new RegExp("$.")}return se._glob=t,se._src=i,se}ui.makeRe=function(t,e){return new ar(t,e||{}).makeRe()};ar.prototype.makeRe=wue;function wue(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?$S:e.dot?hue:mue,i=e.nocase?"i":"",n=t.map(function(s){return s.map(function(o){return o===MS?r:typeof o=="string"?Aue(o):o._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch{this.regexp=!1}return this.regexp}ui.match=function(t,e,r){r=r||{};var i=new ar(e,r);return t=t.filter(function(n){return i.match(n)}),i.options.nonull&&!t.length&&t.push(e),t};ar.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var i=this.options;Rd.sep!=="/"&&(e=e.split(Rd.sep).join("/")),e=e.split(nj),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<n.length;o++){var a=n[o],u=e;i.matchBase&&a.length===1&&(u=[s]);var c=this.matchOne(u,a,r);if(c)return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate};ar.prototype.matchOne=function(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,s=0,o=t.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var u=e[s],c=t[n];if(this.debug(e,u,c),u===!1)return!1;if(u===MS){this.debug("GLOBSTAR",[e,u,c]);var l=n,p=s+1;if(p===a){for(this.debug("** at the end");n<o;n++)if(t[n]==="."||t[n]===".."||!i.dot&&t[n].charAt(0)===".")return!1;return!0}for(;l<o;){var f=t[l];if(this.debug(`
globstar while`,t,l,e,p,f),this.matchOne(t.slice(l),e.slice(p),r))return this.debug("globstar found match!",l,o,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",t,l,e,p);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,l,e,p),l===o))}var H;if(typeof u=="string"?(H=c===u,this.debug("string match",u,c,H)):(H=c.match(u),this.debug("pattern match",u,c,H)),!H)return!1}if(n===o&&s===a)return!0;if(n===o)return r;if(s===a)return n===o-1&&t[n]==="";throw new Error("wtf?")};function Iue(t){return t.replace(/\\(.)/g,"$1")}function Aue(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Oy=v((Txe,Ry)=>{"use strict";function aj(t){return t.charAt(0)==="/"}function uj(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),i=r[1]||"",n=Boolean(i&&i.charAt(1)!==":");return Boolean(r[2]||n)}Ry.exports=process.platform==="win32"?uj:aj;Ry.exports.posix=aj;Ry.exports.win32=uj});var RS=v(ea=>{ea.setopts=Pue;ea.ownProp=cj;ea.makeAbs=Od;ea.finish=Due;ea.mark=Tue;ea.isIgnored=pj;ea.childrenIgnored=$ue;function cj(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Sue=w("fs"),Ol=w("path"),Eue=ky(),lj=Oy(),kS=Eue.Minimatch;function xue(t,e){return t.localeCompare(e,"en")}function Cue(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Lue))}function Lue(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new kS(r,{dot:!0})}return{matcher:new kS(t,{dot:!0}),gmatcher:e}}function Pue(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||Sue,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),Cue(t,r),t.changedCwd=!1;var i=process.cwd();cj(r,"cwd")?(t.cwd=Ol.resolve(r.cwd),t.changedCwd=t.cwd!==i):t.cwd=i,t.root=r.root||Ol.resolve(t.cwd,"/"),t.root=Ol.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=lj(t.cwd)?t.cwd:Od(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new kS(e,r),t.options=t.minimatch.options}function Due(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,n=t.matches.length;i<n;i++){var s=t.matches[i];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[i];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(xue)),t.mark){for(var i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),l=t.cache[u]||t.cache[Od(t,u)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}t.ignore.length&&(r=r.filter(function(u){return!pj(t,u)})),t.found=r}function Tue(t,e){var r=Od(t,e),i=t.cache[r],n=e;if(i){var s=i==="DIR"||Array.isArray(i),o=e.slice(-1)==="/";if(s&&!o?n+="/":!s&&o&&(n=n.slice(0,-1)),n!==e){var a=Od(t,n);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return n}function Od(t,e){var r=e;return e.charAt(0)==="/"?r=Ol.join(t.root,e):lj(e)||e===""?r=e:t.changedCwd?r=Ol.resolve(t.cwd,e):r=Ol.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function pj(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function $ue(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var Hj=v((Oxe,mj)=>{mj.exports=hj;hj.GlobSync=Vt;var Mue=LS(),fj=ky(),Mxe=fj.Minimatch,kxe=BS().Glob,Rxe=w("util"),OS=w("path"),dj=w("assert"),Ny=Oy(),mu=RS(),kue=mu.setopts,NS=mu.ownProp,Rue=mu.childrenIgnored,Oue=mu.isIgnored;function hj(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Vt(t,e).found}function Vt(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Vt))return new Vt(t,e);if(kue(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}Vt.prototype._finish=function(){if(dj(this instanceof Vt),this.realpath){var t=this;this.matches.forEach(function(e,r){var i=t.matches[r]=Object.create(null);for(var n in e)try{n=t._makeAbs(n);var s=Mue.realpathSync(n,t.realpathCache);i[s]=!0}catch(o){if(o.syscall==="stat")i[t._makeAbs(n)]=!0;else throw o}})}mu.finish(this)};Vt.prototype._process=function(t,e,r){dj(this instanceof Vt);for(var i=0;typeof t[i]=="string";)i++;var n;switch(i){case t.length:this._processSimple(t.join("/"),e);return;case 0:n=null;break;default:n=t.slice(0,i).join("/");break}var s=t.slice(i),o;n===null?o=".":((Ny(n)||Ny(t.join("/")))&&(!n||!Ny(n))&&(n="/"+n),o=n);var a=this._makeAbs(o);if(!Rue(this,o)){var u=s[0]===fj.GLOBSTAR;u?this._processGlobStar(n,o,a,s,e,r):this._processReaddir(n,o,a,s,e,r)}};Vt.prototype._processReaddir=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(o){for(var a=i[0],u=!!this.minimatch.negate,c=a._glob,l=this.dot||c.charAt(0)===".",p=[],f=0;f<o.length;f++){var H=o[f];if(H.charAt(0)!=="."||l){var m;u&&!t?m=!H.match(a):m=H.match(a),m&&p.push(H)}}var y=p.length;if(y!==0){if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var f=0;f<y;f++){var H=p[f];t&&(t.slice(-1)!=="/"?H=t+"/"+H:H=t+H),H.charAt(0)==="/"&&!this.nomount&&(H=OS.join(this.root,H)),this._emitMatch(n,H)}return}i.shift();for(var f=0;f<y;f++){var H=p[f],b;t?b=[t,H]:b=[H],this._process(b.concat(i),n,s)}}}};Vt.prototype._emitMatch=function(t,e){if(!Oue(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};Vt.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,i;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,!n&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};Vt.prototype._readdir=function(t,e){var r;if(e&&!NS(this.symlinks,t))return this._readdirInGlobStar(t);if(NS(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(n){return this._readdirError(t,n),null}};Vt.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e};Vt.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Vt.prototype._processGlobStar=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(o){var a=i.slice(1),u=t?[t]:[],c=u.concat(a);this._process(c,n,!1);var l=o.length,p=this.symlinks[r];if(!(p&&s))for(var f=0;f<l;f++){var H=o[f];if(!(H.charAt(0)==="."&&!this.dot)){var m=u.concat(o[f],a);this._process(m,n,!0);var y=u.concat(o[f],i);this._process(y,n,!0)}}}};Vt.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Ny(t)&&!this.nomount){var i=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=OS.join(this.root,t):(t=OS.resolve(this.root,t),i&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};Vt.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&NS(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var i,n=this.statCache[e];if(!n){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{n=this.fs.statSync(e)}catch{n=s}else n=s}this.statCache[e]=n;var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};Vt.prototype._mark=function(t){return mu.mark(this,t)};Vt.prototype._makeAbs=function(t){return mu.makeAbs(this,t)}});var yj=v((Nxe,gj)=>{var Nue=Fw(),Nd=Object.create(null),Bue=cl();gj.exports=Nue(Fue);function Fue(t,e){return Nd[t]?(Nd[t].push(e),null):(Nd[t]=[e],Uue(t))}function Uue(t){return Bue(function e(){var r=Nd[t],i=r.length,n=jue(arguments);try{for(var s=0;s<i;s++)r[s].apply(null,n)}finally{r.length>i?(r.splice(0,i),process.nextTick(function(){e.apply(null,n)})):delete Nd[t]}})}function jue(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i]=t[i];return r}});var BS=v((Uxe,vj)=>{vj.exports=Hu;var que=LS(),bj=ky(),Bxe=bj.Minimatch,Wue=Wt(),Vue=w("events").EventEmitter,FS=w("path"),US=w("assert"),Bd=Oy(),qS=Hj(),gu=RS(),Gue=gu.setopts,jS=gu.ownProp,WS=yj(),Fxe=w("util"),Kue=gu.childrenIgnored,zue=gu.isIgnored,Xue=cl();function Hu(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return qS(t,e)}return new Ke(t,e,r)}Hu.sync=qS;var Jue=Hu.GlobSync=qS.GlobSync;Hu.glob=Hu;function Yue(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}Hu.hasMagic=function(t,e){var r=Yue({},e);r.noprocess=!0;var i=new Ke(t,r),n=i.minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var s=0;s<n[0].length;s++)if(typeof n[0][s]!="string")return!0;return!1};Hu.Glob=Ke;Wue(Ke,Vue);function Ke(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Jue(t,e)}if(!(this instanceof Ke))return new Ke(t,e,r);Gue(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof r=="function"&&(r=Xue(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return a();for(var s=!0,o=0;o<i;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--n._processing,n._processing<=0&&(s?process.nextTick(function(){n._finish()}):n._finish())}}Ke.prototype._finish=function(){if(US(this instanceof Ke),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();gu.finish(this),this.emit("end",this.found)}};Ke.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i);function i(){--t===0&&e._finish()}};Ke.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),n=this,s=i.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);i.forEach(function(a,u){a=n._makeAbs(a),que.realpath(a,n.realpathCache,function(c,l){c?c.syscall==="stat"?o[a]=!0:n.emit("error",c):o[l]=!0,--s===0&&(n.matches[t]=o,e())})})};Ke.prototype._mark=function(t){return gu.mark(this,t)};Ke.prototype._makeAbs=function(t){return gu.makeAbs(this,t)};Ke.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Ke.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Ke.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<i.length;e++){var n=i[e];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}};Ke.prototype._process=function(t,e,r,i){if(US(this instanceof Ke),US(typeof i=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,i]);return}for(var n=0;typeof t[n]=="string";)n++;var s;switch(n){case t.length:this._processSimple(t.join("/"),e,i);return;case 0:s=null;break;default:s=t.slice(0,n).join("/");break}var o=t.slice(n),a;s===null?a=".":((Bd(s)||Bd(t.join("/")))&&(!s||!Bd(s))&&(s="/"+s),a=s);var u=this._makeAbs(a);if(Kue(this,a))return i();var c=o[0]===bj.GLOBSTAR;c?this._processGlobStar(s,a,u,o,e,r,i):this._processReaddir(s,a,u,o,e,r,i)}};Ke.prototype._processReaddir=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(u,c){return a._processReaddir2(t,e,r,i,n,s,c,o)})};Ke.prototype._processReaddir2=function(t,e,r,i,n,s,o,a){if(!o)return a();for(var u=i[0],c=!!this.minimatch.negate,l=u._glob,p=this.dot||l.charAt(0)===".",f=[],H=0;H<o.length;H++){var m=o[H];if(m.charAt(0)!=="."||p){var y;c&&!t?y=!m.match(u):y=m.match(u),y&&f.push(m)}}var b=f.length;if(b===0)return a();if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var H=0;H<b;H++){var m=f[H];t&&(t!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=FS.join(this.root,m)),this._emitMatch(n,m)}return a()}i.shift();for(var H=0;H<b;H++){var m=f[H],I;t&&(t!=="/"?m=t+"/"+m:m=t+m),this._process([m].concat(i),n,s,a)}a()};Ke.prototype._emitMatch=function(t,e){if(!this.aborted&&!zue(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=Bd(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0;var n=this.statCache[r];n&&this.emit("stat",e,n),this.emit("match",e)}}};Ke.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,i=this,n=WS(r,s);n&&i.fs.lstat(t,n);function s(o,a){if(o&&o.code==="ENOENT")return e();var u=a&&a.isSymbolicLink();i.symlinks[t]=u,!u&&a&&!a.isDirectory()?(i.cache[t]="FILE",e()):i._readdir(t,!1,e)}};Ke.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=WS("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!jS(this.symlinks,t))return this._readdirInGlobStar(t,r);if(jS(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var n=this;n.fs.readdir(t,Que(this,t,r))}};function Que(t,e,r){return function(i,n){i?t._readdirError(e,i,r):t._readdirEntries(e,n,r)}}Ke.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var n=e[i];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,r(null,e)}};Ke.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=e.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};Ke.prototype._processGlobStar=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(u,c){a._processGlobStar2(t,e,r,i,n,s,c,o)})};Ke.prototype._processGlobStar2=function(t,e,r,i,n,s,o,a){if(!o)return a();var u=i.slice(1),c=t?[t]:[],l=c.concat(u);this._process(l,n,!1,a);var p=this.symlinks[r],f=o.length;if(p&&s)return a();for(var H=0;H<f;H++){var m=o[H];if(!(m.charAt(0)==="."&&!this.dot)){var y=c.concat(o[H],u);this._process(y,n,!0,a);var b=c.concat(o[H],i);this._process(b,n,!0,a)}}a()};Ke.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,function(n,s){i._processSimple2(t,e,n,s,r)})};Ke.prototype._processSimple2=function(t,e,r,i,n){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return n();if(t&&Bd(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=FS.join(this.root,t):(t=FS.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),n()};Ke.prototype._stat=function(t,e){var r=this._makeAbs(t),i=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&jS(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||n==="DIR")return e(null,n);if(i&&n==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return i&&a==="FILE"?e():e(null,a,o)}var u=this,c=WS("stat\0"+r,l);c&&u.fs.lstat(r,c);function l(p,f){if(f&&f.isSymbolicLink())return u.fs.stat(r,function(H,m){H?u._stat2(t,r,null,f,e):u._stat2(t,r,H,m,e)});u._stat2(t,r,p,f,e)}};Ke.prototype._stat2=function(t,e,r,i,n){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,n();var s=t.slice(-1)==="/";if(this.statCache[e]=i,e.slice(-1)==="/"&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?n():n(null,o,i)}});var wj=v((jxe,_j)=>{_j.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var Sj=v((qxe,Aj)=>{var Zue=wj(),Ij={"{":"}","(":")","[":"]"},ece=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,i=-2,n=-2,s=-2,o=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||i!==-1&&t[e]==="["&&t[e+1]!=="]"&&(i<e&&(i=t.indexOf("]",e)),i>e&&(o===-1||o>i||(o=t.indexOf("\\",e),o===-1||o>i)))||n!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(n=t.indexOf("}",e),n>e&&(o=t.indexOf("\\",e),o===-1||o>n))||s!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(s=t.indexOf(")",e),s>e&&(o=t.indexOf("\\",e),o===-1||o>s))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(s=t.indexOf(")",r),s>r&&(o=t.indexOf("\\",r),o===-1||o>s))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var u=Ij[a];if(u){var c=t.indexOf(u,e);c!==-1&&(e=c+1)}if(t[e]==="!")return!0}else e++}return!1},tce=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var i=Ij[r];if(i){var n=t.indexOf(i,e);n!==-1&&(e=n+1)}if(t[e]==="!")return!0}else e++}return!1};Aj.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Zue(e))return!0;var i=ece;return r&&r.strict===!1&&(i=tce),i(e)}});var xj=v((Wxe,Ej)=>{"use strict";var rce=Sj(),ice=w("path").posix.dirname,nce=w("os").platform()==="win32",By="/",sce=/\\/g,oce=/\\([!*?|[\](){}])/g;Ej.exports=function(e,r){var i=Object.assign({flipBackslashes:!0},r);i.flipBackslashes&&nce&&e.indexOf(By)<0&&(e=e.replace(sce,By)),ace(e)&&(e+=By),e+="a";do e=ice(e);while(uce(e));return e.replace(oce,"$1")};function ace(t){var e=t.slice(-1),r;switch(e){case"}":r="{";break;case"]":r="[";break;default:return!1}var i=t.indexOf(r);return i<0?!1:t.slice(i+1,-1).includes(By)}function uce(t){return/\([^()]+$/.test(t)||t[0]==="{"||t[0]==="["||/[^\\][{[]/.test(t)?!0:rce(t)}});var Lj=v((Vxe,Cj)=>{"use strict";Cj.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}});var Dj=v((Gxe,Pj)=>{"use strict";var cce=Lj()();Pj.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");return cce.test(t)}});var $j=v((Kxe,Tj)=>{"use strict";var lce=Dj();Tj.exports=function(e){if(typeof e!="string")throw new TypeError("expected filepath to be a string");return!lce(e)&&!/^([a-z]:)?[\\\/]/i.test(e)}});var Mj=v((VS,GS)=>{(function(t){VS&&typeof VS=="object"&&typeof GS<"u"?GS.exports=t():typeof define=="function"&&define.amd?define([],t):typeof window<"u"?window.isWindows=t():typeof global<"u"?global.isWindows=t():typeof self<"u"?self.isWindows=t():this.isWindows=t()})(function(){"use strict";return function(){return process&&(process.platform==="win32"||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})});var Rj=v((zxe,kj)=>{"use strict";var pce=$j(),fce=Mj();kj.exports=Fd;function Fd(t){if(typeof t!="string")throw new TypeError("isAbsolute expects a string.");return fce()?Fd.win32(t):Fd.posix(t)}Fd.posix=function(e){return e.charAt(0)==="/"};Fd.win32=function(e){return/[a-z]/i.test(e.charAt(0))&&e.charAt(1)===":"&&e.charAt(2)==="\\"||e.slice(0,2)==="\\\\"?!0:!pce(e)}});var zS=v((Xxe,Fj)=>{"use strict";var Oj=w("path"),dce=IS(),Nj=Rj();Fj.exports=function(t,e){var r=e||{},i=Oj.resolve(r.cwd?r.cwd:process.cwd());i=KS(i);var n=r.root;n&&(n=KS(n),(process.platform==="win32"||!Nj(n))&&(n=KS(Oj.resolve(n)))),t.slice(0,2)==="./"&&(t=t.slice(2)),t.length===1&&t==="."&&(t="");var s=t.slice(-1),o=dce(t);return t=o.pattern,n&&t.charAt(0)==="/"?t=Bj(n,t):(!Nj(t)||t.slice(0,1)==="\\")&&(t=Bj(i,t)),s==="/"&&t.slice(-1)!=="/"&&(t+="/"),o.negated?"!"+t:t};function KS(t){return t.replace(/\\/g,"/")}function Bj(t,e){return t.charAt(t.length-1)==="/"&&(t=t.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),e?t+"/"+e:t}});var jj=v((Jxe,Uj)=>{var hce=process.platform==="win32";Uj.exports=function(t){var e=t.length-1;if(e<2)return t;for(;mce(t,e);)e--;return t.substr(0,e+1)};function mce(t,e){var r=t[e];return e>0&&(r==="/"||hce&&r==="\\")}});var Vj=v((Yxe,Wj)=>{"use strict";var Hce=w("util").inherits,gce=BS(),yce=AS(),qj=vS().Readable,bce=xj(),XS=zS(),vce=jj(),_ce="File not found with singular glob: ",wce=" (if this was purposeful, use `allowEmpty` option)";function Ice(t,e){return bce(XS(t,e))}function Ace(t){var e=t.minimatch.set;return e.length!==1?!1:e[0].every(function(i){return typeof i=="string"})}function Nl(t,e,r){if(!(this instanceof Nl))return new Nl(t,e,r);var i=yce({},r);qj.call(this,{objectMode:!0,highWaterMark:i.highWaterMark||16}),delete i.highWaterMark;var n=this;function s(H){return XS(H,i)}var o=e.map(s);i.ignore=o;var a=i.cwd,u=i.allowEmpty||!1,c=i.base||Ice(t,i);t=XS(t,i),delete i.root;var l=new gce.Glob(t,i);this._globber=l;var p=!1;l.on("match",function(H){p=!0;var m={cwd:a,base:c,path:vce(H)};n.push(m)||l.pause()}),l.once("end",function(){if(u!==!0&&!p&&Ace(l)){var H=new Error(_ce+t+wce);return n.destroy(H)}n.push(null)});function f(H){n.destroy(H)}l.once("error",f)}Hce(Nl,qj);Nl.prototype._read=function(){this._globber.resume()};Nl.prototype.destroy=function(t){var e=this;this._globber.abort(),process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})};Wj.exports=Nl});var Kj=v((Qxe,Gj)=>{"use strict";var Sce=H2(),Ece=h3(),xce=EU(),Cce=IS(),Lce=AS(),Pce=Vj();function Dce(t,e){e||(e={});var r=Lce({},e),i=r.ignore;r.cwd=typeof r.cwd=="string"?r.cwd:process.cwd(),r.dot=typeof r.dot=="boolean"?r.dot:!1,r.silent=typeof r.silent=="boolean"?r.silent:!0,r.cwdbase=typeof r.cwdbase=="boolean"?r.cwdbase:!1,r.uniqueBy=typeof r.uniqueBy=="string"||typeof r.uniqueBy=="function"?r.uniqueBy:"path",r.cwdbase&&(r.base=r.cwd),typeof i=="string"&&(i=[i]),Array.isArray(i)||(i=[]),Array.isArray(t)||(t=[t]);var n=[],s=[];t.forEach(o);function o(p,f){if(typeof p!="string")throw new Error("Invalid glob at index "+f);var H=Cce(p),m=H.negated?s:n;m.push({index:f,glob:H.pattern})}if(n.length===0)throw new Error("Missing positive glob");var a=n.map(l),u=new Sce(a),c=Ece(r.uniqueBy);return xce.obj(u,c);function l(p){var f=s.filter(Tce(p.index)).map($ce).concat(i);return new Pce(p.glob,f,r)}}function Tce(t){return function(e){return e.index>t}}function $ce(t){return t.glob}Gj.exports=Dce});var Ky=v((WCe,nq)=>{"use strict";var{Transform:Nce}=w("stream"),{StringDecoder:Bce}=w("string_decoder"),na=Symbol("last"),Gy=Symbol("decoder");function Fce(t,e,r){let i;if(this.overflow){if(i=this[Gy].write(t).split(this.matcher),i.length===1)return r();i.shift(),this.overflow=!1}else this[na]+=this[Gy].write(t),i=this[na].split(this.matcher);this[na]=i.pop();for(let n=0;n<i.length;n++)try{iq(this,this.mapper(i[n]))}catch(s){return r(s)}if(this.overflow=this[na].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function Uce(t){if(this[na]+=this[Gy].end(),this[na])try{iq(this,this.mapper(this[na]))}catch(e){return t(e)}t()}function iq(t,e){e!==void 0&&t.push(e)}function rq(t){return t}function jce(t,e,r){switch(t=t||/\r?\n/,e=e||rq,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=rq)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=Fce,r.flush=Uce,r.readableObjectMode=!0;let i=new Nce(r);return i[na]="",i[Gy]=new Bce("utf8"),i.matcher=t,i.mapper=e,i.maxLength=r.maxLength,i.skipOverflow=r.skipOverflow||!1,i.overflow=!1,i._destroy=function(n,s){this._writableState.errorEmitted=!1,s(n)},i}nq.exports=jce});var Eq,Sq=nW(()=>{Eq="./w32appcontainertokens-XTRA77NA.node"});var Cq=v((gDe,xq)=>{Sq();try{xq.exports=w(Eq)}catch{}});var Pq=v(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.getAppContainerProcessTokens=void 0;var zce=w("path"),Lq,Xce=()=>{if(process.platform==="win32")return Lq??=Cq(),Lq},Jce=t=>{var e;return(e=Xce())==null?void 0:e.getAppContainerProcessTokens().map(r=>(0,zce.join)(r,t))};eb.getAppContainerProcessTokens=Jce});var Xq=v((H$e,fb)=>{var nle=w("fs"),zq=w("path"),sle=w("os"),ole=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function ale(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let i;for(;(i=ole.exec(r))!=null;){let n=i[1],s=i[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),e[n]=s}return e}function lE(t){console.log(`[dotenv][DEBUG] ${t}`)}function ule(t){return t[0]==="~"?zq.join(sle.homedir(),t.slice(1)):t}function cle(t){let e=zq.resolve(process.cwd(),".env"),r="utf8",i=Boolean(t&&t.debug),n=Boolean(t&&t.override);t&&(t.path!=null&&(e=ule(t.path)),t.encoding!=null&&(r=t.encoding));try{let s=pb.parse(nle.readFileSync(e,{encoding:r}));return Object.keys(s).forEach(function(o){Object.prototype.hasOwnProperty.call(process.env,o)?(n===!0&&(process.env[o]=s[o]),i&&lE(n===!0?`"${o}" is already defined in \`process.env\` and WAS overwritten`:`"${o}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[o]=s[o]}),{parsed:s}}catch(s){return i&&lE(`Failed to load ${e} ${s.message}`),{error:s}}}var pb={config:cle,parse:ale};fb.exports.config=pb.config;fb.exports.parse=pb.parse;fb.exports=pb});var Db=U(xt()),Y8=U(w("fs")),Q8=U(w("net")),Z8=U(w("os")),Tb=U(w("path"));var CE;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=n(t);typeof r.Reflect>"u"?r.Reflect=t:i=n(r.Reflect,i),e(i);function n(s,o){return function(a,u){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:u}),o&&o(a,u)}}})(function(e){var r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",n=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,u=!o&&!a,c={create:o?function(){return Fi(Object.create(null))}:a?function(){return Fi({__proto__:null})}:function(){return Fi({})},has:u?function(d,g){return r.call(d,g)}:function(d,g){return g in d},get:u?function(d,g){return r.call(d,g)?d[g]:void 0}:function(d,g){return d[g]}},l=Object.getPrototypeOf(Function),p=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",f=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:eh(),H=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:$b(),m=!p&&typeof WeakMap=="function"?WeakMap:ve(),y=new m;function b(d,g,_,A){if(ie(_)){if(!Le(d))throw new TypeError;if(!ge(g))throw new TypeError;return O(d,g)}else{if(!Le(d))throw new TypeError;if(!He(g))throw new TypeError;if(!He(A)&&!ie(A)&&!de(A))throw new TypeError;return de(A)&&(A=void 0),_=Q(_),S(d,g,_,A)}}e("decorate",b);function I(d,g){function _(A,T){if(!He(A))throw new TypeError;if(!ie(T)&&!Be(T))throw new TypeError;ee(d,g,A,T)}return _}e("metadata",I);function B(d,g,_,A){if(!He(_))throw new TypeError;return ie(A)||(A=Q(A)),ee(d,g,_,A)}e("defineMetadata",B);function q(d,g,_){if(!He(g))throw new TypeError;return ie(_)||(_=Q(_)),R(d,g,_)}e("hasMetadata",q);function C(d,g,_){if(!He(g))throw new TypeError;return ie(_)||(_=Q(_)),X(d,g,_)}e("hasOwnMetadata",C);function D(d,g,_){if(!He(g))throw new TypeError;return ie(_)||(_=Q(_)),L(d,g,_)}e("getMetadata",D);function G(d,g,_){if(!He(g))throw new TypeError;return ie(_)||(_=Q(_)),P(d,g,_)}e("getOwnMetadata",G);function W(d,g){if(!He(d))throw new TypeError;return ie(g)||(g=Q(g)),re(d,g)}e("getMetadataKeys",W);function N(d,g){if(!He(d))throw new TypeError;return ie(g)||(g=Q(g)),se(d,g)}e("getOwnMetadataKeys",N);function M(d,g,_){if(!He(g))throw new TypeError;ie(_)||(_=Q(_));var A=$(g,_,!1);if(ie(A)||!A.delete(d))return!1;if(A.size>0)return!0;var T=y.get(g);return T.delete(_),T.size>0||y.delete(g),!0}e("deleteMetadata",M);function O(d,g){for(var _=d.length-1;_>=0;--_){var A=d[_],T=A(g);if(!ie(T)&&!de(T)){if(!ge(T))throw new TypeError;g=T}}return g}function S(d,g,_,A){for(var T=d.length-1;T>=0;--T){var k=d[T],j=k(g,_,A);if(!ie(j)&&!de(j)){if(!He(j))throw new TypeError;A=j}}return A}function $(d,g,_){var A=y.get(d);if(ie(A)){if(!_)return;A=new f,y.set(d,A)}var T=A.get(g);if(ie(T)){if(!_)return;T=new f,A.set(g,T)}return T}function R(d,g,_){var A=X(d,g,_);if(A)return!0;var T=Pu(g);return de(T)?!1:R(d,T,_)}function X(d,g,_){var A=$(g,_,!1);return ie(A)?!1:br(A.has(d))}function L(d,g,_){var A=X(d,g,_);if(A)return P(d,g,_);var T=Pu(g);if(!de(T))return L(d,T,_)}function P(d,g,_){var A=$(g,_,!1);if(!ie(A))return A.get(d)}function ee(d,g,_,A){var T=$(_,A,!0);T.set(d,g)}function re(d,g){var _=se(d,g),A=Pu(d);if(A===null)return _;var T=re(A,g);if(T.length<=0)return _;if(_.length<=0)return T;for(var k=new H,j=[],V=0,F=_;V<F.length;V++){var ne=F[V],ce=k.has(ne);ce||(k.add(ne),j.push(ne))}for(var me=0,Te=T;me<Te.length;me++){var ne=Te[me],ce=k.has(ne);ce||(k.add(ne),j.push(ne))}return j}function se(d,g){var _=[],A=$(d,g,!1);if(ie(A))return _;for(var T=A.keys(),k=mt(T),j=0;;){var V=zs(k);if(!V)return _.length=j,_;var F=Ks(V);try{_[j]=F}catch(ne){try{Ha(k)}finally{throw ne}}j++}}function oe(d){if(d===null)return 1;switch(typeof d){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return d===null?1:6;default:return 6}}function ie(d){return d===void 0}function de(d){return d===null}function we(d){return typeof d=="symbol"}function He(d){return typeof d=="object"?d!==null:typeof d=="function"}function Et(d,g){switch(oe(d)){case 0:return d;case 1:return d;case 2:return d;case 3:return d;case 4:return d;case 5:return d}var _=g===3?"string":g===5?"number":"default",A=ct(d,n);if(A!==void 0){var T=A.call(d,_);if(He(T))throw new TypeError;return T}return be(d,_==="default"?"number":_)}function be(d,g){if(g==="string"){var _=d.toString;if(Y(_)){var A=_.call(d);if(!He(A))return A}var T=d.valueOf;if(Y(T)){var A=T.call(d);if(!He(A))return A}}else{var T=d.valueOf;if(Y(T)){var A=T.call(d);if(!He(A))return A}var k=d.toString;if(Y(k)){var A=k.call(d);if(!He(A))return A}}throw new TypeError}function br(d){return!!d}function Gr(d){return""+d}function Q(d){var g=Et(d,3);return we(g)?g:Gr(g)}function Le(d){return Array.isArray?Array.isArray(d):d instanceof Object?d instanceof Array:Object.prototype.toString.call(d)==="[object Array]"}function Y(d){return typeof d=="function"}function ge(d){return typeof d=="function"}function Be(d){switch(oe(d)){case 3:return!0;case 4:return!0;default:return!1}}function ct(d,g){var _=d[g];if(_!=null){if(!Y(_))throw new TypeError;return _}}function mt(d){var g=ct(d,s);if(!Y(g))throw new TypeError;var _=g.call(d);if(!He(_))throw new TypeError;return _}function Ks(d){return d.value}function zs(d){var g=d.next();return g.done?!1:g}function Ha(d){var g=d.return;g&&g.call(d)}function Pu(d){var g=Object.getPrototypeOf(d);if(typeof d!="function"||d===l||g!==l)return g;var _=d.prototype,A=_&&Object.getPrototypeOf(_);if(A==null||A===Object.prototype)return g;var T=A.constructor;return typeof T!="function"||T===d?g:T}function eh(){var d={},g=[],_=function(){function j(V,F,ne){this._index=0,this._keys=V,this._values=F,this._selector=ne}return j.prototype["@@iterator"]=function(){return this},j.prototype[s]=function(){return this},j.prototype.next=function(){var V=this._index;if(V>=0&&V<this._keys.length){var F=this._selector(this._keys[V],this._values[V]);return V+1>=this._keys.length?(this._index=-1,this._keys=g,this._values=g):this._index++,{value:F,done:!1}}return{value:void 0,done:!0}},j.prototype.throw=function(V){throw this._index>=0&&(this._index=-1,this._keys=g,this._values=g),V},j.prototype.return=function(V){return this._index>=0&&(this._index=-1,this._keys=g,this._values=g),{value:V,done:!0}},j}();return function(){function j(){this._keys=[],this._values=[],this._cacheKey=d,this._cacheIndex=-2}return Object.defineProperty(j.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),j.prototype.has=function(V){return this._find(V,!1)>=0},j.prototype.get=function(V){var F=this._find(V,!1);return F>=0?this._values[F]:void 0},j.prototype.set=function(V,F){var ne=this._find(V,!0);return this._values[ne]=F,this},j.prototype.delete=function(V){var F=this._find(V,!1);if(F>=0){for(var ne=this._keys.length,ce=F+1;ce<ne;ce++)this._keys[ce-1]=this._keys[ce],this._values[ce-1]=this._values[ce];return this._keys.length--,this._values.length--,V===this._cacheKey&&(this._cacheKey=d,this._cacheIndex=-2),!0}return!1},j.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=d,this._cacheIndex=-2},j.prototype.keys=function(){return new _(this._keys,this._values,A)},j.prototype.values=function(){return new _(this._keys,this._values,T)},j.prototype.entries=function(){return new _(this._keys,this._values,k)},j.prototype["@@iterator"]=function(){return this.entries()},j.prototype[s]=function(){return this.entries()},j.prototype._find=function(V,F){return this._cacheKey!==V&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=V)),this._cacheIndex<0&&F&&(this._cacheIndex=this._keys.length,this._keys.push(V),this._values.push(void 0)),this._cacheIndex},j}();function A(j,V){return j}function T(j,V){return V}function k(j,V){return[j,V]}}function $b(){return function(){function d(){this._map=new f}return Object.defineProperty(d.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),d.prototype.has=function(g){return this._map.has(g)},d.prototype.add=function(g){return this._map.set(g,g),this},d.prototype.delete=function(g){return this._map.delete(g)},d.prototype.clear=function(){this._map.clear()},d.prototype.keys=function(){return this._map.keys()},d.prototype.values=function(){return this._map.values()},d.prototype.entries=function(){return this._map.entries()},d.prototype["@@iterator"]=function(){return this.keys()},d.prototype[s]=function(){return this.keys()},d}()}function ve(){var d=16,g=c.create(),_=A();return function(){function F(){this._key=A()}return F.prototype.has=function(ne){var ce=T(ne,!1);return ce!==void 0?c.has(ce,this._key):!1},F.prototype.get=function(ne){var ce=T(ne,!1);return ce!==void 0?c.get(ce,this._key):void 0},F.prototype.set=function(ne,ce){var me=T(ne,!0);return me[this._key]=ce,this},F.prototype.delete=function(ne){var ce=T(ne,!1);return ce!==void 0?delete ce[this._key]:!1},F.prototype.clear=function(){this._key=A()},F}();function A(){var F;do F="@@WeakMap@@"+V();while(c.has(g,F));return g[F]=!0,F}function T(F,ne){if(!r.call(F,_)){if(!ne)return;Object.defineProperty(F,_,{value:c.create()})}return F[_]}function k(F,ne){for(var ce=0;ce<ne;++ce)F[ce]=Math.random()*255|0;return F}function j(F){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(F)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(F)):k(new Uint8Array(F),F):k(new Array(F),F)}function V(){var F=j(d);F[6]=F[6]&79|64,F[8]=F[8]&191|128;for(var ne="",ce=0;ce<d;++ce){var me=F[ce];(ce===4||ce===6||ce===8)&&(ne+="-"),me<16&&(ne+="0"),ne+=me.toString(16).toLowerCase()}return ne}}function Fi(d){return d.__=void 0,delete d.__,d}})})(CE||(CE={}));var xi=U(xt());var ur=t=>!!t,Tu=t=>ih(t,e=>e!==null),LE=t=>ih(t,e=>e!==void 0),ga=t=>e=>e instanceof t,rh=(t,e)=>{debugger;throw new Error(e.replace("{value}",JSON.stringify(t)))};function ih(t,e){let r={};for(let i of Object.keys(t)){let n=t[i];e(n,i)&&(r[i]=n)}return r}function ls(t,e){let r={};for(let i of Object.keys(t)){let n=t[i];r[i]=e(n,i)}return r}function PE(t,e){let r={};for(let i of Object.keys(t))e(i,t[i])&&(r[i]=t[i]);return r}function DE(...t){if(t.length===0)return{};let e={},r=Object.create(null);for(let i of t)if(i)for(let n of Object.keys(i)){let s=n.toLowerCase();r[s]?e[r[s]]=i[n]:(r[s]=n,e[n]=i[n])}return e}function TE(t,e){if(t.hasOwnProperty(e))return t[e];let r=e.toLowerCase();for(let i of Object.keys(t))if(i.toLowerCase()===r)return t[i]}var Ob=Symbol("unset");function Pe(t){let e=Ob,r=(...i)=>(e===Ob&&(r.value=e=t(...i)),e);return r.forget=()=>{e=Ob,r.value=void 0},r.value=void 0,r}function ya(t){let e=new Map,r=i=>{if(e.has(i))return e.get(i);let n=t(i);return e.set(i,n),n};return r.clear=()=>e.clear(),r}function $E(t){let e,r=i=>((e==null?void 0:e.arg)===i||(e={arg:i,val:t(i)}),e.val);return r.clear=()=>e=void 0,r}function ME(t,e){let r,i=()=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>{r=void 0,e()},t)};return i.clear=()=>{r&&(clearTimeout(r),r=void 0)},i}function kE(t,e){let r,i=()=>{r===void 0&&(r=setTimeout(()=>{r=void 0,e()},t))};return i.queued=()=>!!r,i.clear=()=>{r&&(clearTimeout(r),r=void 0)},i}function RE(t,e){let r=[],i=[];for(let n of t)e(n)?r.push(n):i.push(n);return[r,i]}function mp(t){let e=[];for(let r of t)e=e.concat(r);return e}var wW=2**31-1,nh=()=>{let t=0;return()=>t++&wW};var $u={dispose:()=>{}},Ye=class{constructor(e){this.disposed=!1;this.items=[];e&&(this.items=e.slice())}get isDisposed(){return this.disposed}callback(...e){for(let r of e)this.push({dispose:r})}push(...e){return this.disposed?(e.forEach(r=>r.dispose()),e[0]):(this.items.push(...e),e[0])}disposeObject(e){this.items=this.items.filter(r=>r!==e),e.dispose()}dispose(){let e=Promise.all(this.items.map(r=>r.dispose()));return this.items=[],this.disposed=!0,e}};var NE=w("crypto"),BE=w("os"),FE=U(w("path"));var Hp=w("fs"),OE=w("path"),oh=w("zlib"),IW=(t,e)=>e instanceof Error?{message:e.message,stack:e.stack}:typeof e=="bigint"?e.toString():e,sh=class{constructor(e,r){this.file=e;this.dap=r;try{(0,Hp.mkdirSync)((0,OE.dirname)(e),{recursive:!0})}catch{}e.endsWith(".gz")?(this.stream=(0,oh.createGzip)(),this.stream.pipe((0,Hp.createWriteStream)(e))):this.stream=(0,Hp.createWriteStream)(e)}async setup(){var e;(e=this.dap)==null||e.output({category:"console",output:`Verbose logs are written to:
${this.file}
`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){var r,i;this.stream&&(this.stream.write(JSON.stringify(e,IW)+`
`),(i=(r=this.stream).flush)==null||i.call(r,oh.constants.Z_SYNC_FLUSH))}};var AW={["runtime"]:null,["runtime.sourcecreate"]:null,["runtime.assertion"]:null,["runtime.launch"]:null,["runtime.target"]:null,["runtime.welcome"]:null,["runtime.exception"]:null,["runtime.sourcemap"]:null,["runtime.breakpoints"]:null,["sourcemap.parsing"]:null,["perf.function"]:null,["cdp.send"]:null,["cdp.receive"]:null,["dap.send"]:null,["dap.receive"]:null,["internal"]:null,["proxyActivity"]:null},Ule=Object.keys(AW),le=Symbol("ILogger");function SW(t,e=(0,BE.tmpdir)()){if(t===!1)return{stdio:!1,logFile:null};let r={stdio:!0,logFile:FE.join(e,`vscode-debugadapter-${(0,NE.randomBytes)(4).toString("hex")}.json.gz`)};return t===!0?r:{...r,...t}}function UE(t,e){let r=SW(e),i={sinks:[]};return r.logFile&&i.sinks.push(new sh(r.logFile,t)),i}var Mu=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return this}get base1(){return new zr(this.lineNumber+1,this.columnNumber+1)}get base01(){return new ku(this.lineNumber,this.columnNumber+1)}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}},zr=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new Mu(this.lineNumber-1,this.columnNumber-1)}get base1(){return this}get base01(){return new ku(this.lineNumber-1,this.columnNumber)}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}},ku=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new Mu(this.lineNumber-1,this.columnNumber)}get base1(){return new zr(this.lineNumber,this.columnNumber+1)}get base01(){return this}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}};var ke=t=>isFinite(t)?new Promise(e=>setTimeout(e,t)):new Promise(()=>{}),jE=(t,e)=>{let r=setTimeout(t,e);return{dispose:()=>clearTimeout(r)}};function Ru(t){return new Promise((e,r)=>{let i=t.length;for(let n of t)n.then(s=>{s?(e(s),i=-1):--i===0&&e(void 0)}).catch(r)})}function je(){let t=null,e=null,r=!1,i,n=new Promise((s,o)=>{t=a=>{r=!0,i=a,s(a)},e=a=>{r=!0,o(a)}});return{resolve:t,reject:e,promise:n,get settledValue(){return i},hasSettled:()=>r}}var cf=U(pe());var zT=U(xt()),vi=U(pe()),XT=U(vC()),JT=w("path"),V_=U(Vh()),YT=w("url");var J=class{constructor(){this._listeners=new Set;this.event=(e,r,i)=>{let n={listener:e,thisArg:r};this._listeners.add(n);let s={dispose:()=>{s.dispose=()=>{},this._listeners.delete(n)}};return i&&i.push(s),s}}get size(){return this._listeners.size}fire(e){let r=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let i of this._listeners)this._deliveryQueue.push({data:i,event:e});if(r){for(let i=0;i<this._deliveryQueue.length;i++){let{data:n,event:s}=this._deliveryQueue[i];n.listener.call(n.thisArg,s)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}},Cp=class{constructor(){this.map=new Map;this.listeners=this.map}listen(e,r){let i=this.map.get(e);i||(i=new J,this.map.set(e,i));let n=i.event(r);return{dispose:Pe(()=>{n.dispose(),(i==null?void 0:i.size)===0&&this.map.delete(e)})}}emit(e,r){var i;(i=this.listeners.get(e))==null||i.fire(r)}};var KD=w("dns"),Qr=U(w("path")),ys=w("url");var UD=w("url");var Pv={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Dv="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",G6={5:Dv,"5module":Dv+" export import",6:Dv+" const class extends export import super"},K6=/^in(stanceof)?$/,kv="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",zC="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",z6=new RegExp("["+kv+"]"),X6=new RegExp("["+kv+zC+"]");kv=zC=null;var XC=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],J6=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];function $v(t,e){for(var r=65536,i=0;i<e.length;i+=2){if(r+=e[i],r>t)return!1;if(r+=e[i+1],r>=t)return!0}}function hs(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&z6.test(String.fromCharCode(t)):e===!1?!1:$v(t,XC)}function Ju(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&X6.test(String.fromCharCode(t)):e===!1?!1:$v(t,XC)||$v(t,J6)}var $e=function(e,r){r===void 0&&(r={}),this.label=e,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function mi(t,e){return new $e(t,{beforeExpr:!0,binop:e})}var Hi={beforeExpr:!0},Or={startsExpr:!0},Rv={};function Ce(t,e){return e===void 0&&(e={}),e.keyword=t,Rv[t]=new $e(t,e)}var h={num:new $e("num",Or),regexp:new $e("regexp",Or),string:new $e("string",Or),name:new $e("name",Or),privateId:new $e("privateId",Or),eof:new $e("eof"),bracketL:new $e("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new $e("]"),braceL:new $e("{",{beforeExpr:!0,startsExpr:!0}),braceR:new $e("}"),parenL:new $e("(",{beforeExpr:!0,startsExpr:!0}),parenR:new $e(")"),comma:new $e(",",Hi),semi:new $e(";",Hi),colon:new $e(":",Hi),dot:new $e("."),question:new $e("?",Hi),questionDot:new $e("?."),arrow:new $e("=>",Hi),template:new $e("template"),invalidTemplate:new $e("invalidTemplate"),ellipsis:new $e("...",Hi),backQuote:new $e("`",Or),dollarBraceL:new $e("${",{beforeExpr:!0,startsExpr:!0}),eq:new $e("=",{beforeExpr:!0,isAssign:!0}),assign:new $e("_=",{beforeExpr:!0,isAssign:!0}),incDec:new $e("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new $e("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:mi("||",1),logicalAND:mi("&&",2),bitwiseOR:mi("|",3),bitwiseXOR:mi("^",4),bitwiseAND:mi("&",5),equality:mi("==/!=/===/!==",6),relational:mi("</>/<=/>=",7),bitShift:mi("<</>>/>>>",8),plusMin:new $e("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:mi("%",10),star:mi("*",10),slash:mi("/",10),starstar:new $e("**",{beforeExpr:!0}),coalesce:mi("??",1),_break:Ce("break"),_case:Ce("case",Hi),_catch:Ce("catch"),_continue:Ce("continue"),_debugger:Ce("debugger"),_default:Ce("default",Hi),_do:Ce("do",{isLoop:!0,beforeExpr:!0}),_else:Ce("else",Hi),_finally:Ce("finally"),_for:Ce("for",{isLoop:!0}),_function:Ce("function",Or),_if:Ce("if"),_return:Ce("return",Hi),_switch:Ce("switch"),_throw:Ce("throw",Hi),_try:Ce("try"),_var:Ce("var"),_const:Ce("const"),_while:Ce("while",{isLoop:!0}),_with:Ce("with"),_new:Ce("new",{beforeExpr:!0,startsExpr:!0}),_this:Ce("this",Or),_super:Ce("super",Or),_class:Ce("class",Or),_extends:Ce("extends",Hi),_export:Ce("export"),_import:Ce("import",Or),_null:Ce("null",Or),_true:Ce("true",Or),_false:Ce("false",Or),_in:Ce("in",{beforeExpr:!0,binop:7}),_instanceof:Ce("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ce("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ce("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ce("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Nr=/\r\n?|\n|\u2028|\u2029/,Yh=new RegExp(Nr.source,"g");function Ln(t){return t===10||t===13||t===8232||t===8233}function JC(t,e,r){r===void 0&&(r=t.length);for(var i=e;i<r;i++){var n=t.charCodeAt(i);if(Ln(n))return i<r-1&&n===13&&t.charCodeAt(i+1)===10?i+2:i+1}return-1}var YC=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,gi=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,QC=Object.prototype,Y6=QC.hasOwnProperty,Q6=QC.toString,$p=Object.hasOwn||function(t,e){return Y6.call(t,e)},WC=Array.isArray||function(t){return Q6.call(t)==="[object Array]"};function Ia(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var Z6=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Pp=function(e,r){this.line=e,this.column=r};Pp.prototype.offset=function(e){return new Pp(this.line,this.column+e)};var Aa=function(e,r,i){this.start=r,this.end=i,e.sourceFile!==null&&(this.source=e.sourceFile)};function Yu(t,e){for(var r=1,i=0;;){var n=JC(t,i,e);if(n<0)return new Pp(r,e-i);++r,i=n}}var Dp={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},VC=!1;function e9(t){var e={};for(var r in Dp)e[r]=t&&$p(t,r)?t[r]:Dp[r];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!VC&&typeof console=="object"&&console.warn&&(VC=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),WC(e.onToken)){var i=e.onToken;e.onToken=function(n){return i.push(n)}}return WC(e.onComment)&&(e.onComment=t9(e,e.onComment)),e}function t9(t,e){return function(r,i,n,s,o,a){var u={type:r?"Block":"Line",value:i,start:n,end:s};t.locations&&(u.loc=new Aa(this,o,a)),t.ranges&&(u.range=[n,s]),e.push(u)}}var Tp=1,Qu=2,Ov=4,ZC=8,eL=16,tL=32,Nv=64,rL=128,Mp=256,Bv=Tp|Qu|Mp;function Fv(t,e){return Qu|(t?Ov:0)|(e?ZC:0)}var Kh=0,Uv=1,ds=2,iL=3,nL=4,sL=5,lt=function(e,r,i){this.options=e=e9(e),this.sourceFile=e.sourceFile,this.keywords=Ia(G6[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var n="";e.allowReserved!==!0&&(n=Pv[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(n+=" await")),this.reservedWords=Ia(n);var s=(n?n+" ":"")+Pv.strict;this.reservedWordsStrict=Ia(s),this.reservedWordsStrictBind=Ia(s+" "+Pv.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Nr).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Tp),this.regexpState=null,this.privateNameStack=[]},Pn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};lt.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};Pn.inFunction.get=function(){return(this.currentVarScope().flags&Qu)>0};Pn.inGenerator.get=function(){return(this.currentVarScope().flags&ZC)>0&&!this.currentVarScope().inClassFieldInit};Pn.inAsync.get=function(){return(this.currentVarScope().flags&Ov)>0&&!this.currentVarScope().inClassFieldInit};Pn.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Mp)return!1;if(e.flags&Qu)return(e.flags&Ov)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Pn.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,r=t.inClassFieldInit;return(e&Nv)>0||r||this.options.allowSuperOutsideMethod};Pn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&rL)>0};Pn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Pn.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,r=t.inClassFieldInit;return(e&(Qu|Mp))>0||r};Pn.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Mp)>0};lt.extend=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var i=this,n=0;n<e.length;n++)i=e[n](i);return i};lt.parse=function(e,r){return new this(r,e).parse()};lt.parseExpressionAt=function(e,r,i){var n=new this(i,e,r);return n.nextToken(),n.parseExpression()};lt.tokenizer=function(e,r){return new this(r,e)};Object.defineProperties(lt.prototype,Pn);var wr=lt.prototype,r9=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;wr.strictDirective=function(t){for(;;){gi.lastIndex=t,t+=gi.exec(this.input)[0].length;var e=r9.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){gi.lastIndex=t+e[0].length;var r=gi.exec(this.input),i=r.index+r[0].length,n=this.input.charAt(i);return n===";"||n==="}"||Nr.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(i+1)==="=")}t+=e[0].length,gi.lastIndex=t,t+=gi.exec(this.input)[0].length,this.input[t]===";"&&t++}};wr.eat=function(t){return this.type===t?(this.next(),!0):!1};wr.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};wr.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};wr.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};wr.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||Nr.test(this.input.slice(this.lastTokEnd,this.start))};wr.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};wr.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};wr.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};wr.expect=function(t){this.eat(t)||this.unexpected()};wr.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};function Qh(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}wr.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var r=e?t.parenthesizedAssign:t.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}};wr.checkExpressionErrors=function(t,e){if(!t)return!1;var r=t.shorthandAssign,i=t.doubleProto;if(!e)return r>=0||i>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")};wr.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};wr.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var ye=lt.prototype;ye.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var r=this.parseStatement(null,!0,e);t.body.push(r)}if(this.inModule)for(var i=0,n=Object.keys(this.undefinedExports);i<n.length;i+=1){var s=n[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var jv={kind:"loop"},i9={kind:"switch"};ye.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;gi.lastIndex=this.pos;var e=gi.exec(this.input),r=this.pos+e[0].length,i=this.input.charCodeAt(r);if(i===91||i===92||i>55295&&i<56320)return!0;if(t)return!1;if(i===123)return!0;if(hs(i,!0)){for(var n=r+1;Ju(i=this.input.charCodeAt(n),!0);)++n;if(i===92||i>55295&&i<56320)return!0;var s=this.input.slice(r,n);if(!K6.test(s))return!0}return!1};ye.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;gi.lastIndex=this.pos;var t=gi.exec(this.input),e=this.pos+t[0].length,r;return!Nr.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Ju(r=this.input.charCodeAt(e+8))||r>55295&&r<56320))};ye.parseStatement=function(t,e,r){var i=this.type,n=this.startNode(),s;switch(this.isLet(t)&&(i=h._var,s="let"),i){case h._break:case h._continue:return this.parseBreakContinueStatement(n,i.keyword);case h._debugger:return this.parseDebuggerStatement(n);case h._do:return this.parseDoStatement(n);case h._for:return this.parseForStatement(n);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(n,!0);case h._if:return this.parseIfStatement(n);case h._return:return this.parseReturnStatement(n);case h._switch:return this.parseSwitchStatement(n);case h._throw:return this.parseThrowStatement(n);case h._try:return this.parseTryStatement(n);case h._const:case h._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(n,s);case h._while:return this.parseWhileStatement(n);case h._with:return this.parseWithStatement(n);case h.braceL:return this.parseBlock(!0,n);case h.semi:return this.parseEmptyStatement(n);case h._export:case h._import:if(this.options.ecmaVersion>10&&i===h._import){gi.lastIndex=this.pos;var o=gi.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===h._import?this.parseImport(n):this.parseExport(n,r);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!t);var c=this.value,l=this.parseExpression();return i===h.name&&l.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(n,c,l,t):this.parseExpressionStatement(n,l)}};ye.parseBreakContinueStatement=function(t,e){var r=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var n=this.labels[i];if((t.label==null||n.name===t.label.name)&&(n.kind!=null&&(r||n.kind==="loop")||t.label&&r))break}return i===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,r?"BreakStatement":"ContinueStatement")};ye.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};ye.parseDoStatement=function(t){return this.next(),this.labels.push(jv),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};ye.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(jv),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var r=this.isLet();if(this.type===h._var||this.type===h._const||r){var i=this.startNode(),n=r?"let":this.value;return this.next(),this.parseVar(i,!0,n),this.finishNode(i,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&i.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,i)):(e>-1&&this.unexpected(e),this.parseFor(t,i))}var s=this.isContextual("let"),o=!1,a=new Qh,u=this.parseExpression(e>-1?"await":!0,a);return this.type===h._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(t,u)):(this.checkExpressionErrors(a,!0),e>-1&&this.unexpected(e),this.parseFor(t,u))};ye.parseFunctionStatement=function(t,e,r){return this.next(),this.parseFunction(t,Lp|(r?0:Mv),!1,e)};ye.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};ye.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};ye.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(i9),this.enterScope(0);for(var e,r=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var i=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),i?e.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};ye.parseThrowStatement=function(t){return this.next(),Nr.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var n9=[];ye.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();if(this.next(),this.eat(h.parenL)){e.param=this.parseBindingAtom();var r=e.param.type==="Identifier";this.enterScope(r?tL:0),this.checkLValPattern(e.param,r?nL:ds),this.expect(h.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};ye.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")};ye.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(jv),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};ye.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};ye.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};ye.parseLabeledStatement=function(t,e,r,i){for(var n=0,s=this.labels;n<s.length;n+=1){var o=s[n];o.name===e&&this.raise(r.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===h._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var c=this.labels[u];if(c.statementStart===t.start)c.statementStart=this.start,c.kind=a;else break}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),t.label=r,this.finishNode(t,"LabeledStatement")};ye.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};ye.parseBlock=function(t,e,r){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var i=this.parseStatement(null);e.body.push(i)}return r&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};ye.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};ye.parseForIn=function(t,e){var r=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,r?"ForInStatement":"ForOfStatement")};ye.parseVar=function(t,e,r){for(t.declarations=[],t.kind=r;;){var i=this.startNode();if(this.parseVarId(i,r),this.eat(h.eq)?i.init=this.parseMaybeAssign(e):r==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():i.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(h.comma))break}return t};ye.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Uv:ds,!1)};var Lp=1,Mv=2,oL=4;ye.parseFunction=function(t,e,r,i,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===h.star&&e&Mv&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!i),e&Lp&&(t.id=e&oL&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&Mv)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Uv:ds:iL));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fv(t.async,t.generator)),e&Lp||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,r,!1,n),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(t,e&Lp?"FunctionDeclaration":"FunctionExpression")};ye.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ye.parseClass=function(t,e){this.next();var r=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var i=this.enterClassBody(),n=this.startNode(),s=!1;for(n.body=[],this.expect(h.braceL);this.type!==h.braceR;){var o=this.parseClassElement(t.superClass!==null);o&&(n.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raise(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&s9(i,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=r,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};ye.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,r=this.startNode(),i="",n=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===h.star?a=!0:i="static"}if(r.static=a,!i&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?s=!0:i="async"),!i&&(e>=9||!s)&&this.eat(h.star)&&(n=!0),!i&&!s&&!n){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:i=u)}if(i?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=i,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),e<13||this.type===h.parenL||o!=="method"||n||s){var c=!r.static&&zh(r,"constructor"),l=c&&t;c&&o!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=c?"constructor":o,this.parseClassMethod(r,n,s,l)}else this.parseClassField(r);return r};ye.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};ye.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};ye.parseClassMethod=function(t,e,r,i){var n=t.key;t.kind==="constructor"?(e&&this.raise(n.start,"Constructor can't be a generator"),r&&this.raise(n.start,"Constructor can't be an async method")):t.static&&zh(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,r,i);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};ye.parseClassField=function(t){if(zh(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&zh(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),r=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=r}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};ye.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Mp|Nv);this.type!==h.braceR;){var r=this.parseStatement(null);t.body.push(r)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};ye.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,ds,!1)):(e===!0&&this.unexpected(),t.id=null)};ye.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(!1):null};ye.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};ye.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,r=t.used,i=this.privateNameStack.length,n=i===0?null:this.privateNameStack[i-1],s=0;s<r.length;++s){var o=r[s];$p(e,o.name)||(n?n.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function s9(t,e){var r=e.key.name,i=t[r],n="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(n=(e.static?"s":"i")+e.kind),i==="iget"&&n==="iset"||i==="iset"&&n==="iget"||i==="sget"&&n==="sset"||i==="sset"&&n==="sget"?(t[r]="true",!1):i?!0:(t[r]=n,!1)}function zh(t,e){var r=t.computed,i=t.key;return!r&&(i.type==="Identifier"&&i.name===e||i.type==="Literal"&&i.value===e)}ye.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported.name,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(h._default)){this.checkExport(e,"default",this.lastTokStart);var r;if(this.type===h._function||(r=this.isAsyncFunction())){var i=this.startNode();this.next(),r&&this.next(),t.declaration=this.parseFunction(i,Lp|oL,!1,r)}else if(this.type===h._class){var n=this.startNode();t.declaration=this.parseClass(n,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var s=0,o=t.specifiers;s<o.length;s+=1){var a=o[s];this.checkUnreserved(a.local),this.checkLocalExport(a.local),a.local.type==="Literal"&&this.raise(a.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};ye.checkExport=function(t,e,r){t&&($p(t,e)&&this.raiseRecoverable(r,"Duplicate export '"+e+"'"),t[e]=!0)};ye.checkPatternExport=function(t,e){var r=e.type;if(r==="Identifier")this.checkExport(t,e.name,e.start);else if(r==="ObjectPattern")for(var i=0,n=e.properties;i<n.length;i+=1){var s=n[i];this.checkPatternExport(t,s)}else if(r==="ArrayPattern")for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(t,u)}else r==="Property"?this.checkPatternExport(t,e.value):r==="AssignmentPattern"?this.checkPatternExport(t,e.left):r==="RestElement"?this.checkPatternExport(t,e.argument):r==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};ye.checkVariableExport=function(t,e){if(t)for(var r=0,i=e;r<i.length;r+=1){var n=i[r];this.checkPatternExport(t,n.id)}};ye.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ye.parseExportSpecifiers=function(t){var e=[],r=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(r)r=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var i=this.startNode();i.local=this.parseModuleExportName(),i.exported=this.eatContextual("as")?this.parseModuleExportName():i.local,this.checkExport(t,i.exported[i.exported.type==="Identifier"?"name":"value"],i.exported.start),e.push(this.finishNode(i,"ExportSpecifier"))}return e};ye.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=n9,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};ye.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLValSimple(r.local,ds),t.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(h.comma))return t}if(this.type===h.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,ds),t.push(this.finishNode(i,"ImportNamespaceSpecifier")),t}for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var n=this.startNode();n.imported=this.parseModuleExportName(),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLValSimple(n.local,ds),t.push(this.finishNode(n,"ImportSpecifier"))}return t};ye.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return Z6.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};ye.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};ye.isDirectiveCandidate=function(t){return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Vi=lt.prototype;Vi.toAssignable=function(t,e,r){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var i=0,n=t.properties;i<n.length;i+=1){var s=n[i];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,r);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return t};Vi.toAssignableList=function(t,e){for(var r=t.length,i=0;i<r;i++){var n=t[i];n&&this.toAssignable(n,e)}if(r){var s=t[r-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Vi.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Vi.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Vi.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Vi.parseBindingList=function(t,e,r){for(var i=[],n=!0;!this.eat(t);)if(n?n=!1:this.expect(h.comma),e&&this.type===h.comma)i.push(null);else{if(r&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else{var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),i.push(o)}}return i};Vi.parseBindingListItem=function(t){return t};Vi.parseMaybeDefault=function(t,e,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return r;var i=this.startNodeAt(t,e);return i.left=r,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")};Vi.checkLValSimple=function(t,e,r){e===void 0&&(e=Kh);var i=e!==Kh;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(i?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(e===ds&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),r&&($p(r,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),r[t.name]=!0),e!==sL&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,r);default:this.raise(t.start,(i?"Binding":"Assigning to")+" rvalue")}};Vi.checkLValPattern=function(t,e,r){switch(e===void 0&&(e=Kh),t.type){case"ObjectPattern":for(var i=0,n=t.properties;i<n.length;i+=1){var s=n[i];this.checkLValInnerPattern(s,e,r)}break;case"ArrayPattern":for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,e,r)}break;default:this.checkLValSimple(t,e,r)}};Vi.checkLValInnerPattern=function(t,e,r){switch(e===void 0&&(e=Kh),t.type){case"Property":this.checkLValInnerPattern(t.value,e,r);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,r);break;case"RestElement":this.checkLValPattern(t.argument,e,r);break;default:this.checkLValPattern(t,e,r)}};var Wi=function(e,r,i,n,s){this.token=e,this.isExpr=!!r,this.preserveSpace=!!i,this.override=n,this.generator=!!s},Qe={b_stat:new Wi("{",!1),b_expr:new Wi("{",!0),b_tmpl:new Wi("${",!1),p_stat:new Wi("(",!1),p_expr:new Wi("(",!0),q_tmpl:new Wi("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Wi("function",!1),f_expr:new Wi("function",!0),f_expr_gen:new Wi("function",!0,!1,null,!0),f_gen:new Wi("function",!1,!1,null,!0)},Zu=lt.prototype;Zu.initialContext=function(){return[Qe.b_stat]};Zu.curContext=function(){return this.context[this.context.length-1]};Zu.braceIsBlock=function(t){var e=this.curContext();return e===Qe.f_expr||e===Qe.f_stat?!0:t===h.colon&&(e===Qe.b_stat||e===Qe.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?Nr.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===Qe.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};Zu.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Zu.updateContext=function(t){var e,r=this.type;r.keyword&&t===h.dot?this.exprAllowed=!1:(e=r.updateContext)?e.call(this,t):this.exprAllowed=r.beforeExpr};Zu.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Qe.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Qe.b_stat:Qe.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(Qe.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?Qe.p_stat:Qe.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==Qe.p_stat)&&!(t===h._return&&Nr.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===Qe.b_stat)?this.context.push(Qe.f_expr):this.context.push(Qe.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===Qe.q_tmpl?this.context.pop():this.context.push(Qe.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===Qe.f_expr?this.context[e]=Qe.f_expr_gen:this.context[e]=Qe.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Ie=lt.prototype;Ie.checkPropClash=function(t,e,r){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var i=t.key,n;switch(i.type){case"Identifier":n=i.name;break;case"Literal":n=String(i.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&s==="init"&&(e.proto&&(r?r.doubleProto<0&&(r.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),e.proto=!0);return}n="$"+n;var o=e[n];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(i.start,"Redefinition of property")}else o=e[n]={init:!1,get:!1,set:!1};o[s]=!0}};Ie.parseExpression=function(t,e){var r=this.start,i=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===h.comma){var s=this.startNodeAt(r,i);for(s.expressions=[n];this.eat(h.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return n};Ie.parseMaybeAssign=function(t,e,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var i=!1,n=-1,s=-1,o=-1;e?(n=e.parenthesizedAssign,s=e.trailingComma,o=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Qh,i=!0);var a=this.start,u=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var c=this.parseMaybeConditional(t,e);if(r&&(c=r.call(this,c,a,u)),this.type.isAssign){var l=this.startNodeAt(a,u);return l.operator=this.value,this.type===h.eq&&(c=this.toAssignable(c,!1,e)),i||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=c.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(c):this.checkLValSimple(c),l.left=c,this.next(),l.right=this.parseMaybeAssign(t),o>-1&&(e.doubleProto=o),this.finishNode(l,"AssignmentExpression")}else i&&this.checkExpressionErrors(e,!0);return n>-1&&(e.parenthesizedAssign=n),s>-1&&(e.trailingComma=s),c};Ie.parseMaybeConditional=function(t,e){var r=this.start,i=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(h.question)){var s=this.startNodeAt(r,i);return s.test=n,s.consequent=this.parseMaybeAssign(),this.expect(h.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return n};Ie.parseExprOps=function(t,e){var r=this.start,i=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===r&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,r,i,-1,t)};Ie.parseExprOp=function(t,e,r,i,n){var s=this.type.binop;if(s!=null&&(!n||this.type!==h._in)&&s>i){var o=this.type===h.logicalOR||this.type===h.logicalAND,a=this.type===h.coalesce;a&&(s=h.logicalAND.binop);var u=this.value;this.next();var c=this.start,l=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),c,l,s,n),f=this.buildBinary(e,r,t,p,u,o||a);return(o&&this.type===h.coalesce||a&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,e,r,i,n)}return t};Ie.buildBinary=function(t,e,r,i,n,s){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(t,e);return o.left=r,o.operator=n,o.right=i,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Ie.parseMaybeUnary=function(t,e,r,i){var n=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(i),e=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===h.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,i),this.checkExpressionErrors(t,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&aL(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(i||this.privateNameStack.length===0)&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(o=this.parseExprSubscripts(t,i),this.checkExpressionErrors(t))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(n,s);c.operator=this.value,c.prefix=!1,c.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(c,"UpdateExpression")}}if(!r&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(n,s,o,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return o};function aL(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&aL(t.expression)}Ie.parseExprSubscripts=function(t,e){var r=this.start,i=this.startLoc,n=this.parseExprAtom(t,e);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var s=this.parseSubscripts(n,r,i,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};Ie.parseSubscripts=function(t,e,r,i,n){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,o=!1;;){var a=this.parseSubscript(t,e,r,i,s,o,n);if(a.optional&&(o=!0),a===t||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(e,r);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}t=a}};Ie.parseSubscript=function(t,e,r,i,n,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(h.questionDot);i&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(h.bracketL);if(c||u&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var l=this.startNodeAt(e,r);l.object=t,c?(l.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?l.property=this.parsePrivateIdent():l.property=this.parseIdent(this.options.allowReserved!=="never"),l.computed=!!c,a&&(l.optional=u),t=this.finishNode(l,"MemberExpression")}else if(!i&&this.eat(h.parenL)){var p=new Qh,f=this.yieldPos,H=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var y=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,p);if(n&&!u&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=H,this.awaitIdentPos=m,this.parseArrowExpression(this.startNodeAt(e,r),y,!0,o);this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=H||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var b=this.startNodeAt(e,r);b.callee=t,b.arguments=y,a&&(b.optional=u),t=this.finishNode(b,"CallExpression")}else if(this.type===h.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var I=this.startNodeAt(e,r);I.tag=t,I.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(I,"TaggedTemplateExpression")}return t};Ie.parseExprAtom=function(t,e){this.type===h.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(r,"Super");case h._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case h.name:var n=this.start,s=this.startLoc,o=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&a.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(Qe.f_expr),this.parseFunction(this.startNodeAt(n,s),0,!1,!0,e);if(i&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(n,s),[a],!1,e);if(this.options.ecmaVersion>=8&&a.name==="async"&&this.type===h.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return a=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(n,s),[a],!0,e)}return a;case h.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return r=this.startNode(),r.value=this.type===h._null?null:this.type===h._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case h.parenL:var c=this.start,l=this.parseParenAndDistinguishExpression(i,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(t.parenthesizedAssign=c),t.parenthesizedBind<0&&(t.parenthesizedBind=c)),l;case h.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case h.braceL:return this.overrideContext(Qe.b_expr),this.parseObj(!1,t);case h._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};Ie.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case h.parenL:return this.parseDynamicImport(t);case h.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}};Ie.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};Ie.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};Ie.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Ie.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};Ie.parseParenAndDistinguishExpression=function(t,e){var r=this.start,i=this.startLoc,n,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],c=!0,l=!1,p=new Qh,f=this.yieldPos,H=this.awaitPos,m;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(c?c=!1:this.expect(h.comma),s&&this.afterTrailingComma(h.parenR,!0)){l=!0;break}else if(this.type===h.ellipsis){m=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,p,this.parseParenItem));var y=this.lastTokEnd,b=this.lastTokEndLoc;if(this.expect(h.parenR),t&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=H,this.parseParenArrowList(r,i,u,e);(!u.length||l)&&this.unexpected(this.lastTokStart),m&&this.unexpected(m),this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=H||this.awaitPos,u.length>1?(n=this.startNodeAt(o,a),n.expressions=u,this.finishNodeAt(n,"SequenceExpression",y,b)):n=u[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var I=this.startNodeAt(r,i);return I.expression=n,this.finishNode(I,"ParenthesizedExpression")}else return n};Ie.parseParenItem=function(t){return t};Ie.parseParenArrowList=function(t,e,r,i){return this.parseArrowExpression(this.startNodeAt(t,e),r,!1,i)};var o9=[];Ie.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){t.meta=e;var r=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var i=this.start,n=this.startLoc,s=this.type===h._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),i,n,!0,!1),s&&t.callee.type==="ImportExpression"&&this.raise(i,"Cannot use new with import()"),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=o9,this.finishNode(t,"NewExpression")};Ie.parseTemplateElement=function(t){var e=t.isTagged,r=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===h.backQuote,this.finishNode(r,"TemplateElement")};Ie.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var r=this.startNode();this.next(),r.expressions=[];var i=this.parseTemplateElement({isTagged:e});for(r.quasis=[i];!i.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(h.braceR),r.quasis.push(i=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(r,"TemplateLiteral")};Ie.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!Nr.test(this.input.slice(this.lastTokEnd,this.start))};Ie.parseObj=function(t,e){var r=this.startNode(),i=!0,n={};for(r.properties=[],this.next();!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,n,e),r.properties.push(s)}return this.finishNode(r,t?"ObjectPattern":"ObjectExpression")};Ie.parseProperty=function(t,e){var r=this.startNode(),i,n,s,o;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(r.argument=this.parseIdent(!1),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(this.type===h.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),r.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(t||e)&&(s=this.start,o=this.startLoc),t||(i=this.eat(h.star)));var a=this.containsEsc;return this.parsePropertyName(r),!t&&!a&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(r)?(n=!0,i=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(r,e)):n=!1,this.parsePropertyValue(r,t,i,n,s,o,e,a),this.finishNode(r,"Property")};Ie.parsePropertyValue=function(t,e,r,i,n,s,o,a){if((r||i)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===h.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(r,i);else if(!e&&!a&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq){(r||i)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var u=t.kind==="get"?0:1;if(t.value.params.length!==u){var c=t.value.start;t.kind==="get"?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((r||i)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,s,this.copyNode(t.key)):this.type===h.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};Ie.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Ie.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Ie.parseMethod=function(t,e,r){var i=this.startNode(),n=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=t),this.options.ecmaVersion>=8&&(i.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fv(e,i.generator)|Nv|(r?rL:0)),this.expect(h.parenL),i.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(i,"FunctionExpression")};Ie.parseArrowExpression=function(t,e,r,i){var n=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(Fv(r,!1)|eL),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,i),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")};Ie.parseFunctionBody=function(t,e,r,i){var n=e&&this.type!==h.braceL,s=this.strict,o=!1;if(n)t.body=this.parseMaybeAssign(i),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!s&&!o&&!e&&!r&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,sL),t.body=this.parseBlock(!1,void 0,o&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=u}this.exitScope()};Ie.isSimpleParamList=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(i.type!=="Identifier")return!1}return!0};Ie.checkParams=function(t,e){for(var r=Object.create(null),i=0,n=t.params;i<n.length;i+=1){var s=n[i];this.checkLValInnerPattern(s,Uv,e?null:r)}};Ie.parseExprList=function(t,e,r,i){for(var n=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var o=void 0;r&&this.type===h.comma?o=null:this.type===h.ellipsis?(o=this.parseSpread(i),i&&this.type===h.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):o=this.parseMaybeAssign(!1,i),n.push(o)}return n};Ie.checkUnreserved=function(t){var e=t.start,r=t.end,i=t.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&i==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(e,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(e,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,r).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+i+"' is reserved"))}};Ie.parseIdent=function(t,e){var r=this.startNode();return this.type===h.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,(r.name==="class"||r.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(r,"Identifier"),t||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};Ie.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t};Ie.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};Ie.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Xh=lt.prototype;Xh.raise=function(t,e){var r=Yu(this.input,t);e+=" ("+r.line+":"+r.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=r,i.raisedAt=this.pos,i};Xh.raiseRecoverable=Xh.raise;Xh.curPosition=function(){if(this.options.locations)return new Pp(this.curLine,this.pos-this.lineStart)};var to=lt.prototype,a9=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};to.enterScope=function(t){this.scopeStack.push(new a9(t))};to.exitScope=function(){this.scopeStack.pop()};to.treatFunctionsAsVarInScope=function(t){return t.flags&Qu||!this.inModule&&t.flags&Tp};to.declareName=function(t,e,r){var i=!1;if(e===ds){var n=this.currentScope();i=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&n.flags&Tp&&delete this.undefinedExports[t]}else if(e===nL){var s=this.currentScope();s.lexical.push(t)}else if(e===iL){var o=this.currentScope();this.treatFunctionsAsVar?i=o.lexical.indexOf(t)>-1:i=o.lexical.indexOf(t)>-1||o.var.indexOf(t)>-1,o.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(t)>-1&&!(u.flags&tL&&u.lexical[0]===t)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(t)>-1){i=!0;break}if(u.var.push(t),this.inModule&&u.flags&Tp&&delete this.undefinedExports[t],u.flags&Bv)break}i&&this.raiseRecoverable(r,"Identifier '"+t+"' has already been declared")};to.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};to.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};to.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Bv)return e}};to.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Bv&&!(e.flags&eL))return e}};var ro=function(e,r,i){this.type="",this.start=r,this.end=0,e.options.locations&&(this.loc=new Aa(e,i)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[r,0])},kp=lt.prototype;kp.startNode=function(){return new ro(this,this.start,this.startLoc)};kp.startNodeAt=function(t,e){return new ro(this,t,e)};function uL(t,e,r,i){return t.type=e,t.end=r,this.options.locations&&(t.loc.end=i),this.options.ranges&&(t.range[1]=r),t}kp.finishNode=function(t,e){return uL.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};kp.finishNodeAt=function(t,e,r,i){return uL.call(this,t,e,r,i)};kp.copyNode=function(t){var e=new ro(this,t.start,this.startLoc);for(var r in t)e[r]=t[r];return e};var cL="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",lL=cL+" Extended_Pictographic",pL=lL,fL=pL+" EBase EComp EMod EPres ExtPict",u9=fL,c9={9:cL,10:lL,11:pL,12:fL,13:u9},GC="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",dL="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",hL=dL+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",mL=hL+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",HL=mL+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",l9=HL+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",p9={9:dL,10:hL,11:mL,12:HL,13:l9},gL={};function f9(t){var e=gL[t]={binary:Ia(c9[t]+" "+GC),nonBinary:{General_Category:Ia(GC),Script:Ia(p9[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(Gh=0,Tv=[9,10,11,12,13];Gh<Tv.length;Gh+=1)KC=Tv[Gh],f9(KC);var KC,Gh,Tv,he=lt.prototype,ms=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=gL[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};ms.prototype.reset=function(e,r,i){var n=i.indexOf("u")!==-1;this.start=e|0,this.source=r+"",this.flags=i,this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchN=n&&this.parser.options.ecmaVersion>=9};ms.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};ms.prototype.at=function(e,r){r===void 0&&(r=!1);var i=this.source,n=i.length;if(e>=n)return-1;var s=i.charCodeAt(e);if(!(r||this.switchU)||s<=55295||s>=57344||e+1>=n)return s;var o=i.charCodeAt(e+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};ms.prototype.nextIndex=function(e,r){r===void 0&&(r=!1);var i=this.source,n=i.length;if(e>=n)return n;var s=i.charCodeAt(e),o;return!(r||this.switchU)||s<=55295||s>=57344||e+1>=n||(o=i.charCodeAt(e+1))<56320||o>57343?e+1:e+2};ms.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};ms.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};ms.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};ms.prototype.eat=function(e,r){return r===void 0&&(r=!1),this.current(r)===e?(this.advance(r),!0):!1};function Jh(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}he.validateRegExpFlags=function(t){for(var e=t.validFlags,r=t.flags,i=0;i<r.length;i++){var n=r.charAt(i);e.indexOf(n)===-1&&this.raise(t.start,"Invalid regular expression flag"),r.indexOf(n,i+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}};he.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};he.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,r=t.backReferenceNames;e<r.length;e+=1){var i=r[e];t.groupNames.indexOf(i)===-1&&t.raise("Invalid named capture referenced")}};he.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};he.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};he.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};he.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!r,!0}return t.pos=e,!1};he.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};he.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};he.regexp_eatBracedQuantifier=function(t,e){var r=t.pos;if(t.eat(123)){var i=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return n!==-1&&n<i&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=r}return!1};he.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};he.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};he.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};he.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};he.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};he.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};he.regexp_eatSyntaxCharacter=function(t){var e=t.current();return yL(e)?(t.lastIntValue=e,t.advance(),!0):!1};function yL(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}he.regexp_eatPatternCharacters=function(t){for(var e=t.pos,r=0;(r=t.current())!==-1&&!yL(r);)t.advance();return t.pos!==e};he.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};he.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};he.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};he.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Jh(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Jh(t.lastIntValue);return!0}return!1};he.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,r=this.options.ecmaVersion>=11,i=t.current(r);return t.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,r)&&(i=t.lastIntValue),d9(i)?(t.lastIntValue=i,!0):(t.pos=e,!1)};function d9(t){return hs(t,!0)||t===36||t===95}he.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,r=this.options.ecmaVersion>=11,i=t.current(r);return t.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,r)&&(i=t.lastIntValue),h9(i)?(t.lastIntValue=i,!0):(t.pos=e,!1)};function h9(t){return Ju(t,!0)||t===36||t===95||t===8204||t===8205}he.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};he.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var r=t.lastIntValue;if(t.switchU)return r>t.maxBackReference&&(t.maxBackReference=r),!0;if(r<=t.numCapturingParens)return!0;t.pos=e}return!1};he.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};he.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};he.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};he.regexp_eatZero=function(t){return t.current()===48&&!Zh(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};he.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};he.regexp_eatControlLetter=function(t){var e=t.current();return bL(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function bL(t){return t>=65&&t<=90||t>=97&&t<=122}he.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var r=t.pos,i=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(i&&n>=55296&&n<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(o>=56320&&o<=57343)return t.lastIntValue=(n-55296)*1024+(o-56320)+65536,!0}t.pos=s,t.lastIntValue=n}return!0}if(i&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&m9(t.lastIntValue))return!0;i&&t.raise("Invalid unicode escape"),t.pos=r}return!1};function m9(t){return t>=0&&t<=1114111}he.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};he.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};he.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(H9(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1};function H9(t){return t===100||t===68||t===115||t===83||t===119||t===87}he.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var r=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,r,i),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n),!0}return!1};he.regexp_validateUnicodePropertyNameAndValue=function(t,e,r){$p(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(r)||t.raise("Invalid property value")};he.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")};he.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";vL(e=t.current());)t.lastStringValue+=Jh(e),t.advance();return t.lastStringValue!==""};function vL(t){return bL(t)||t===95}he.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";g9(e=t.current());)t.lastStringValue+=Jh(e),t.advance();return t.lastStringValue!==""};function g9(t){return vL(t)||Zh(t)}he.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};he.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1};he.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var r=t.lastIntValue;t.switchU&&(e===-1||r===-1)&&t.raise("Invalid character class"),e!==-1&&r!==-1&&e>r&&t.raise("Range out of order in character class")}}};he.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var r=t.current();(r===99||IL(r))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var i=t.current();return i!==93?(t.lastIntValue=i,t.advance(),!0):!1};he.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};he.regexp_eatClassControlLetter=function(t){var e=t.current();return Zh(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};he.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};he.regexp_eatDecimalDigits=function(t){var e=t.pos,r=0;for(t.lastIntValue=0;Zh(r=t.current());)t.lastIntValue=10*t.lastIntValue+(r-48),t.advance();return t.pos!==e};function Zh(t){return t>=48&&t<=57}he.regexp_eatHexDigits=function(t){var e=t.pos,r=0;for(t.lastIntValue=0;_L(r=t.current());)t.lastIntValue=16*t.lastIntValue+wL(r),t.advance();return t.pos!==e};function _L(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function wL(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}he.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var r=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+r*8+t.lastIntValue:t.lastIntValue=e*8+r}else t.lastIntValue=e;return!0}return!1};he.regexp_eatOctalDigit=function(t){var e=t.current();return IL(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function IL(t){return t>=48&&t<=55}he.regexp_eatFixedHexDigits=function(t,e){var r=t.pos;t.lastIntValue=0;for(var i=0;i<e;++i){var n=t.current();if(!_L(n))return t.pos=r,!1;t.lastIntValue=16*t.lastIntValue+wL(n),t.advance()}return!0};var Rp=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Aa(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Ee=lt.prototype;Ee.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Rp(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Ee.getToken=function(){return this.next(),new Rp(this)};typeof Symbol<"u"&&(Ee[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});Ee.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Ee.readToken=function(t){return hs(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Ee.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Ee.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var i=void 0,n=e;(i=JC(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,r),e,this.pos,t,this.curPosition())};Ee.skipLineComment=function(t){for(var e=this.pos,r=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Ln(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,r,this.curPosition())};Ee.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&YC.test(String.fromCharCode(t)))++this.pos;else break e}}};Ee.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=t,this.value=e,this.updateContext(r)};Ee.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};Ee.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};Ee.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),r=1,i=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++r,i=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,r+1):this.finishOp(i,r)};Ee.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};Ee.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};Ee.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Nr.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};Ee.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),r=1;return e===t?(r=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(h.assign,r+1):this.finishOp(h.bitShift,r)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(r=2),this.finishOp(h.relational,r))};Ee.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};Ee.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};Ee.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),hs(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+em(e)+"'")};Ee.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+em(t)+"'")};Ee.finishOp=function(t,e){var r=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,r)};Ee.readRegexp=function(){for(var t,e,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(Nr.test(i)&&this.raise(r,"Unterminated regular expression"),t)t=!1;else{if(i==="[")e=!0;else if(i==="]"&&e)e=!1;else if(i==="/"&&!e)break;t=i==="\\"}++this.pos}var n=this.input.slice(r,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new ms(this));a.reset(r,n,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(n,o)}catch{}return this.finishToken(h.regexp,{pattern:n,flags:o,value:u})};Ee.readInt=function(t,e,r){for(var i=this.options.ecmaVersion>=12&&e===void 0,n=r&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,c=e??1/0;u<c;++u,++this.pos){var l=this.input.charCodeAt(this.pos),p=void 0;if(i&&l===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=l;continue}if(l>=97?p=l-97+10:l>=65?p=l-65+10:l>=48&&l<=57?p=l-48:p=1/0,p>=t)break;a=l,o=o*t+p}return i&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:o};function y9(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function AL(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}Ee.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var r=this.readInt(t);return r==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=AL(this.input.slice(e,this.pos)),++this.pos):hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,r)};Ee.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var r=this.pos-e>=2&&this.input.charCodeAt(e)===48;r&&this.strict&&this.raise(e,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!r&&!t&&this.options.ecmaVersion>=11&&i===110){var n=AL(this.input.slice(e,this.pos));return++this.pos,hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,n)}r&&/[89]/.test(this.input.slice(e,this.pos))&&(r=!1),i===46&&!r&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!r&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=y9(this.input.slice(e,this.pos),r);return this.finishToken(h.num,s)};Ee.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else e=this.readHexChar(4);return e};function em(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}Ee.readString=function(t){for(var e="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===t)break;i===92?(e+=this.input.slice(r,this.pos),e+=this.readEscapedChar(!1),r=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ln(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(r,this.pos++),this.finishToken(h.string,e)};var SL={};Ee.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===SL)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Ee.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw SL;this.raise(t,e)};Ee.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(r===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Ln(r)){switch(t+=this.input.slice(e,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Ee.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Ee.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return em(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var r=this.pos-1;return this.invalidStringToken(r,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(i,8);return n>255&&(i=i.slice(0,-1),n=parseInt(i,8)),this.pos+=i.length-1,e=this.input.charCodeAt(this.pos),(i!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-i.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return Ln(e)?"":String.fromCharCode(e)}};Ee.readHexChar=function(t){var e=this.pos,r=this.readInt(16,t);return r===null&&this.invalidStringToken(e,"Bad character escape sequence"),r};Ee.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,r=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(Ju(n,i))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,t+=this.input.slice(r,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(e?hs:Ju)(o,i)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=em(o),r=this.pos}else break;e=!1}return t+this.input.slice(r,this.pos)};Ee.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=Rv[t]),this.finishToken(e,t)};var b9="8.7.0";lt.acorn={Parser:lt,version:b9,defaultOptions:Dp,Position:Pp,SourceLocation:Aa,getLineInfo:Yu,Node:ro,TokenType:$e,tokTypes:h,keywordTypes:Rv,TokContext:Wi,tokContexts:Qe,isIdentifierChar:Ju,isIdentifierStart:hs,Token:Rp,isNewLine:Ln,lineBreak:Nr,lineBreakG:Yh,nonASCIIwhitespace:YC};function EL(t,e){return lt.parse(t,e)}function tm(t,e,r){return lt.parseExpressionAt(t,e,r)}var BD=w("crypto");var{stringify:v9}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var rm={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Gi=17,_9={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Gi,ClassExpression:Gi,FunctionExpression:Gi,ObjectExpression:Gi,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function ec(t,e){let{generator:r}=t;if(t.write("("),e!=null&&e.length>0){r[e[0].type](e[0],t);let{length:i}=e;for(let n=1;n<i;n++){let s=e[n];t.write(", "),r[s.type](s,t)}}t.write(")")}function $L(t,e,r,i){let n=t.expressionsPrecedence[e.type];if(n===Gi)return!0;let s=t.expressionsPrecedence[r.type];return n!==s?!i&&n===15&&s===14&&r.operator==="**"||n<s:n!==13&&n!==14?!1:e.operator==="**"&&r.operator==="**"?!i:i?rm[e.operator]<=rm[r.operator]:rm[e.operator]<rm[r.operator]}function im(t,e,r,i){let{generator:n}=t;$L(t,e,r,i)?(t.write("("),n[e.type](e,t),t.write(")")):n[e.type](e,t)}function w9(t,e,r,i){let n=e.split(`
`),s=n.length-1;if(t.write(n[0].trim()),s>0){t.write(i);for(let o=1;o<s;o++)t.write(r+n[o].trim()+i);t.write(r+n[s].trim())}}function Ir(t,e,r,i){let{length:n}=e;for(let s=0;s<n;s++){let o=e[s];t.write(r),o.type[0]==="L"?t.write("// "+o.value.trim()+`
`,o):(t.write("/*"),w9(t,o.value,r,i),t.write("*/"+i))}}function I9(t){let e=t;for(;e!=null;){let{type:r}=e;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")e=e.object;else return!1}}function qv(t,e){let{generator:r}=t,{declarations:i}=e;t.write(e.kind+" ");let{length:n}=i;if(n>0){r.VariableDeclarator(i[0],t);for(let s=1;s<n;s++)t.write(", "),r.VariableDeclarator(i[s],t)}}var xL,CL,LL,PL,DL,TL,A9={Program(t,e){let r=e.indent.repeat(e.indentLevel),{lineEnd:i,writeComments:n}=e;n&&t.comments!=null&&Ir(e,t.comments,r,i);let s=t.body,{length:o}=s;for(let a=0;a<o;a++){let u=s[a];n&&u.comments!=null&&Ir(e,u.comments,r,i),e.write(r),this[u.type](u,e),e.write(i)}n&&t.trailingComments!=null&&Ir(e,t.trailingComments,r,i)},BlockStatement:TL=function(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:n}=e,s=r+e.indent;e.write("{");let o=t.body;if(o!=null&&o.length>0){e.write(i),n&&t.comments!=null&&Ir(e,t.comments,s,i);let{length:a}=o;for(let u=0;u<a;u++){let c=o[u];n&&c.comments!=null&&Ir(e,c.comments,s,i),e.write(s),this[c.type](c,e),e.write(i)}e.write(r)}else n&&t.comments!=null&&(e.write(i),Ir(e,t.comments,s,i),e.write(r));n&&t.trailingComments!=null&&Ir(e,t.trailingComments,s,i),e.write("}"),e.indentLevel--},ClassBody:TL,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){let r=e.expressionsPrecedence[t.expression.type];r===Gi||r===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:n}=e;e.indentLevel++;let s=r+e.indent,o=s+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+i);let{cases:a}=t,{length:u}=a;for(let c=0;c<u;c++){let l=a[c];n&&l.comments!=null&&Ir(e,l.comments,s,i),l.test?(e.write(s+"case "),this[l.test.type](l.test,e),e.write(":"+i)):e.write(s+"default:"+i);let{consequent:p}=l,{length:f}=p;for(let H=0;H<f;H++){let m=p[H];n&&m.comments!=null&&Ir(e,m.comments,o,i),e.write(o),this[m.type](m,e),e.write(i)}}e.indentLevel-=2,e.write(r+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){let{handler:r}=t;r.param==null?e.write(" catch "):(e.write(" catch ("),this[r.param.type](r.param,e),e.write(") ")),this[r.body.type](r.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){let{init:r}=t;r.type[0]==="V"?qv(e,r):this[r.type](r,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:xL=function(t,e){e.write(`for ${t.await?"await ":""}(`);let{left:r}=t;r.type[0]==="V"?qv(e,r):this[r.type](r,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:xL,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:CL=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),ec(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:CL,VariableDeclaration(t,e){qv(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");let{superClass:r}=t,{type:i}=r,n=e.expressionsPrecedence[i];(i[0]!=="C"||i[1]!=="l"||i[5]!=="E")&&(n===Gi||n<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");let{specifiers:r}=t,{length:i}=r,n=0;if(i>0){for(;n<i;){n>0&&e.write(", ");let s=r[n],o=s.type[6];if(o==="D")e.write(s.local.name,s),n++;else if(o==="N")e.write("* as "+s.local.name,s),n++;else break}if(n<i){for(e.write("{");;){let s=r[n],{name:o}=s.imported;if(e.write(o,s),o!==s.local.name&&e.write(" as "+s.local.name),++n<i)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");let{specifiers:r}=t,{length:i}=r;if(i>0)for(let n=0;;){let s=r[n],{name:o}=s.local;if(e.write(o,s),o!==s.exported.name&&e.write(" as "+s.exported.name),++n<i)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");let r=t.kind[0];(r==="g"||r==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),ec(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);let{params:r}=t;r!=null&&(r.length===1&&r[0].type[0]==="I"?e.write(r[0].name,r[0]):ec(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:LL=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:LL,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),im(e,t.argument,t)},TemplateLiteral(t,e){let{quasis:r,expressions:i}=t;e.write("`");let{length:n}=i;for(let o=0;o<n;o++){let a=i[o],u=r[o];e.write(u.value.raw,u),e.write("${"),this[a.type](a,e),e.write("}")}let s=r[r.length-1];e.write(s.value.raw,s),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){im(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:DL=function(t,e){if(e.write("["),t.elements.length>0){let{elements:r}=t,{length:i}=r;for(let n=0;;){let s=r[n];if(s!=null&&this[s.type](s,e),++n<i)e.write(", ");else{s==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:DL,ObjectExpression(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:n}=e,s=r+e.indent;if(e.write("{"),t.properties.length>0){e.write(i),n&&t.comments!=null&&Ir(e,t.comments,s,i);let o=","+i,{properties:a}=t,{length:u}=a;for(let c=0;;){let l=a[c];if(n&&l.comments!=null&&Ir(e,l.comments,s,i),e.write(s),this[l.type](l,e),++c<u)e.write(o);else break}e.write(i),n&&t.trailingComments!=null&&Ir(e,t.trailingComments,s,i),e.write(r+"}")}else n?t.comments!=null?(e.write(i),Ir(e,t.comments,s,i),t.trailingComments!=null&&Ir(e,t.trailingComments,s,i),e.write(r+"}")):t.trailingComments!=null?(e.write(i),Ir(e,t.trailingComments,s,i),e.write(r+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){t.static&&e.write("static "),this[t.key.type](t.key,e),e.write(" = "),this[t.value.type](t.value,e)},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){let{properties:r}=t,{length:i}=r;for(let n=0;this[r[n].type](r[n],e),++n<i;)e.write(", ")}e.write("}")},SequenceExpression(t,e){ec(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){let{operator:r,argument:i,argument:{type:n}}=t;e.write(r);let s=$L(e,i,t);!s&&(r.length>1||n[0]==="U"&&(n[1]==="n"||n[1]==="p")&&i.prefix&&i.operator[0]===r&&(r==="+"||r==="-"))&&e.write(" "),s?(e.write(r.length>1?" (":"("),this[n](i,e),e.write(")")):this[n](i,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:PL=function(t,e){let r=t.operator==="in";r&&e.write("("),im(e,t.left,t,!1),e.write(" "+t.operator+" "),im(e,t.right,t,!0),r&&e.write(")")},LogicalExpression:PL,ConditionalExpression(t,e){let{test:r}=t,i=e.expressionsPrecedence[r.type];i===Gi||i<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[r.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");let r=e.expressionsPrecedence[t.callee.type];r===Gi||r<e.expressionsPrecedence.CallExpression||I9(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),ec(e,t.arguments)},CallExpression(t,e){let r=e.expressionsPrecedence[t.callee.type];r===Gi||r<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),ec(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){let r=e.expressionsPrecedence[t.object.type];r===Gi||r<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(v9(t.value),t)},RegExpLiteral(t,e){let{regex:r}=t;e.write(`/${r.pattern}/${r.flags}`,t)}},S9={};var Wv=class{constructor(e){let r=e??S9;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:A9,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:_9,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,r){this.output+=e,this.map(e,r)}writeToStreamAndMap(e,r){this.output.write(e),this.map(e,r)}map(e,r){if(r!=null){let{type:s}=r;if(s[0]==="L"&&s[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){let{mapping:o}=this;o.original=r.loc.start,o.name=r.name,this.sourceMap.addMapping(o)}if(s[0]==="T"&&s[8]==="E"||s[0]==="L"&&s[1]==="i"&&typeof r.value=="string"){let{length:o}=e,{column:a,line:u}=this;for(let c=0;c<o;c++)e[c]===`
`?(a=0,u++):a++;this.column=a,this.line=u;return}}let{length:i}=e,{lineEnd:n}=this;i>0&&(this.lineEndSize>0&&(n.length===1?e[i-1]===n:e.endsWith(n))?(this.line+=this.lineEndSize,this.column=0):this.column+=i)}toString(){return this.output}};function Hs(t,e){let r=new Wv(e);return r.generator[t.type](t,r),r.output}var uc=U(nm()),Gp=U(Vh());var sm="\u2716";function Xr(t){return t.name===sm}function kL(){}var Xe=function(e,r){if(r===void 0&&(r={}),this.toks=this.constructor.BaseParser.tokenizer(e,r),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:h.eof,start:0,end:0},this.tok.validateRegExpFlags=kL,this.tok.validateRegExpPattern=kL,this.options.locations){var i=this.toks.curPosition();this.tok.loc=new Aa(this.toks,i,i)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};Xe.prototype.startNode=function(){return new ro(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)};Xe.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start};Xe.prototype.startNodeAt=function(e){return this.options.locations?new ro(this.toks,e[0],e[1]):new ro(this.toks,e)};Xe.prototype.finishNode=function(e,r){return e.type=r,e.end=this.last.end,this.options.locations&&(e.loc.end=this.last.loc.end),this.options.ranges&&(e.range[1]=this.last.end),e};Xe.prototype.dummyNode=function(e){var r=this.startNode();return r.type=e,r.end=r.start,this.options.locations&&(r.loc.end=r.loc.start),this.options.ranges&&(r.range[1]=r.start),this.last={type:h.name,start:r.start,end:r.start,loc:r.loc},r};Xe.prototype.dummyIdent=function(){var e=this.dummyNode("Identifier");return e.name=sm,e};Xe.prototype.dummyString=function(){var e=this.dummyNode("Literal");return e.value=e.raw=sm,e};Xe.prototype.eat=function(e){return this.tok.type===e?(this.next(),!0):!1};Xe.prototype.isContextual=function(e){return this.tok.type===h.name&&this.tok.value===e};Xe.prototype.eatContextual=function(e){return this.tok.value===e&&this.eat(h.name)};Xe.prototype.canInsertSemicolon=function(){return this.tok.type===h.eof||this.tok.type===h.braceR||Nr.test(this.input.slice(this.last.end,this.tok.start))};Xe.prototype.semicolon=function(){return this.eat(h.semi)};Xe.prototype.expect=function(e){if(this.eat(e))return!0;for(var r=1;r<=2;r++)if(this.lookAhead(r).type===e){for(var i=0;i<r;i++)this.next();return!0}};Xe.prototype.pushCx=function(){this.context.push(this.curIndent)};Xe.prototype.popCx=function(){this.curIndent=this.context.pop()};Xe.prototype.lineEnd=function(e){for(;e<this.input.length&&!Ln(this.input.charCodeAt(e));)++e;return e};Xe.prototype.indentationAfter=function(e){for(var r=0;;++e){var i=this.input.charCodeAt(e);if(i===32)++r;else if(i===9)r+=this.options.tabSize;else return r}};Xe.prototype.closes=function(e,r,i,n){return this.tok.type===e||this.tok.type===h.eof?!0:i!==this.curLineStart&&this.curIndent<r&&this.tokenStartsLine()&&(!n||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<r)};Xe.prototype.tokenStartsLine=function(){for(var e=this.tok.start-1;e>=this.curLineStart;--e){var r=this.input.charCodeAt(e);if(r!==9&&r!==32)return!1}return!0};Xe.prototype.extend=function(e,r){this[e]=r(this[e])};Xe.prototype.parse=function(){return this.next(),this.parseTopLevel()};Xe.extend=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var i=this,n=0;n<e.length;n++)i=e[n](i);return i};Xe.parse=function(e,r){return new this(e,r).parse()};Xe.BaseParser=lt;var om=Xe.prototype;function E9(t){return t<14&&t>8||t===32||t===160||Ln(t)}om.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}};om.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===h.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=h.ellipsis),new Rp(this.toks)}catch(s){if(!(s instanceof SyntaxError))throw s;var t=s.message,e=s.raisedAt,r=!0;if(/unterminated/i.test(t))if(e=this.lineEnd(s.pos+1),/string/.test(t))r={start:s.pos,end:e,type:h.string,value:this.input.slice(s.pos+1,e)};else if(/regular expr/i.test(t)){var i=this.input.slice(s.pos,e);try{i=new RegExp(i)}catch{}r={start:s.pos,end:e,type:h.regexp,value:i}}else/template/.test(t)?r={start:s.pos,end:e,type:h.template,value:this.input.slice(s.pos,e)}:r=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(t))for(;e<this.input.length&&!E9(this.input.charCodeAt(e));)++e;else if(/character escape|expected hexadecimal/i.test(t))for(;e<this.input.length;){var n=this.input.charCodeAt(e++);if(n===34||n===39||Ln(n))break}else if(/unexpected character/i.test(t))e++,r=!1;else if(/regular expression/i.test(t))r=!0;else throw s;if(this.resetTo(e),r===!0&&(r={start:e,end:e,type:h.name,value:sm}),r)return this.options.locations&&(r.loc=new Aa(this.toks,Yu(this.input,r.start),Yu(this.input,r.end))),r}};om.resetTo=function(t){this.toks.pos=t;var e=this.input.charAt(t-1);if(this.toks.exprAllowed=!e||/[[{(,;:?/*=+\-~!|&%^<>]/.test(e)||/[enwfd]/.test(e)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(t-10,t)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=Yh.lastIndex=0;for(var r;(r=Yh.exec(this.input))&&r.index<t;)++this.toks.curLine,this.toks.lineStart=r.index+r[0].length}};om.lookAhead=function(t){for(;t>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[t-1]};var er=Xe.prototype;er.parseTopLevel=function(){var t=this.startNodeAt(this.options.locations?[0,Yu(this.input,0)]:0);for(t.body=[];this.tok.type!==h.eof;)t.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(t.body),this.last=this.tok,t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};er.parseStatement=function(){var t=this.tok.type,e=this.startNode(),r;switch(this.toks.isLet()&&(t=h._var,r="let"),t){case h._break:case h._continue:this.next();var i=t===h._break;return this.semicolon()||this.canInsertSemicolon()?e.label=null:(e.label=this.tok.type===h.name?this.parseIdent():null,this.semicolon()),this.finishNode(e,i?"BreakStatement":"ContinueStatement");case h._debugger:return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement");case h._do:return this.next(),e.body=this.parseStatement(),e.test=this.eat(h._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(e,"DoWhileStatement");case h._for:this.next();var n=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(h.parenL),this.tok.type===h.semi)return this.parseFor(e,null);var s=this.toks.isLet();if(s||this.tok.type===h._var||this.tok.type===h._const){var o=this.parseVar(this.startNode(),!0,s?"let":this.tok.value);return o.declarations.length===1&&(this.tok.type===h._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==h._in&&(e.await=n),this.parseForIn(e,o)):this.parseFor(e,o)}var a=this.parseExpression(!0);return this.tok.type===h._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==h._in&&(e.await=n),this.parseForIn(e,this.toAssignable(a))):this.parseFor(e,a);case h._function:return this.next(),this.parseFunction(e,!0);case h._if:return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(),e.alternate=this.eat(h._else)?this.parseStatement():null,this.finishNode(e,"IfStatement");case h._return:return this.next(),this.eat(h.semi)||this.canInsertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement");case h._switch:var u=this.curIndent,c=this.curLineStart;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.pushCx(),this.expect(h.braceL);for(var l;!this.closes(h.braceR,u,c,!0);)if(this.tok.type===h._case||this.tok.type===h._default){var p=this.tok.type===h._case;l&&this.finishNode(l,"SwitchCase"),e.cases.push(l=this.startNode()),l.consequent=[],this.next(),p?l.test=this.parseExpression():l.test=null,this.expect(h.colon)}else l||(e.cases.push(l=this.startNode()),l.consequent=[],l.test=null),l.consequent.push(this.parseStatement());return l&&this.finishNode(l,"SwitchCase"),this.popCx(),this.eat(h.braceR),this.finishNode(e,"SwitchStatement");case h._throw:return this.next(),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement");case h._try:if(this.next(),e.block=this.parseBlock(),e.handler=null,this.tok.type===h._catch){var f=this.startNode();this.next(),this.eat(h.parenL)?(f.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(h.parenR)):f.param=null,f.body=this.parseBlock(),e.handler=this.finishNode(f,"CatchClause")}return e.finalizer=this.eat(h._finally)?this.parseBlock():null,!e.handler&&!e.finalizer?e.block:this.finishNode(e,"TryStatement");case h._var:case h._const:return this.parseVar(e,!1,r||this.tok.value);case h._while:return this.next(),e.test=this.parseParenExpression(),e.body=this.parseStatement(),this.finishNode(e,"WhileStatement");case h._with:return this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(),this.finishNode(e,"WithStatement");case h.braceL:return this.parseBlock();case h.semi:return this.next(),this.finishNode(e,"EmptyStatement");case h._class:return this.parseClass(!0);case h._import:if(this.options.ecmaVersion>10){var H=this.lookAhead(1).type;if(H===h.parenL||H===h.dot)return e.expression=this.parseExpression(),this.semicolon(),this.finishNode(e,"ExpressionStatement")}return this.parseImport();case h._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,!0,!0);var m=this.parseExpression();return Xr(m)?(this.next(),this.tok.type===h.eof?this.finishNode(e,"EmptyStatement"):this.parseStatement()):t===h.name&&m.type==="Identifier"&&this.eat(h.colon)?(e.body=this.parseStatement(),e.label=m,this.finishNode(e,"LabeledStatement")):(e.expression=m,this.semicolon(),this.finishNode(e,"ExpressionStatement"))}};er.parseBlock=function(){var t=this.startNode();this.pushCx(),this.expect(h.braceL);var e=this.curIndent,r=this.curLineStart;for(t.body=[];!this.closes(h.braceR,e,r,!0);)t.body.push(this.parseStatement());return this.popCx(),this.eat(h.braceR),this.finishNode(t,"BlockStatement")};er.parseFor=function(t,e){return t.init=e,t.test=t.update=null,this.eat(h.semi)&&this.tok.type!==h.semi&&(t.test=this.parseExpression()),this.eat(h.semi)&&this.tok.type!==h.parenR&&(t.update=this.parseExpression()),this.popCx(),this.expect(h.parenR),t.body=this.parseStatement(),this.finishNode(t,"ForStatement")};er.parseForIn=function(t,e){var r=this.tok.type===h._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.popCx(),this.expect(h.parenR),t.body=this.parseStatement(),this.finishNode(t,r)};er.parseVar=function(t,e,r){t.kind=r,this.next(),t.declarations=[];do{var i=this.startNode();i.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),i.init=this.eat(h.eq)?this.parseMaybeAssign(e):null,t.declarations.push(this.finishNode(i,"VariableDeclarator"))}while(this.eat(h.comma));if(!t.declarations.length){var n=this.startNode();n.id=this.dummyIdent(),t.declarations.push(this.finishNode(n,"VariableDeclarator"))}return e||this.semicolon(),this.finishNode(t,"VariableDeclaration")};er.parseClass=function(t){var e=this.startNode();this.next(),this.tok.type===h.name?e.id=this.parseIdent():t===!0?e.id=this.dummyIdent():e.id=null,e.superClass=this.eat(h._extends)?this.parseExpression():null,e.body=this.startNode(),e.body.body=[],this.pushCx();var r=this.curIndent+1,i=this.curLineStart;for(this.eat(h.braceL),this.curIndent+1<r&&(r=this.curIndent,i=this.curLineStart);!this.closes(h.braceR,r,i);){var n=this.parseClassElement();n&&e.body.body.push(n)}return this.popCx(),this.eat(h.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(e.body,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};er.parseClassElement=function(){if(this.eat(h.semi))return null;var t=this.options,e=t.ecmaVersion,r=t.locations,i=this.curIndent,n=this.curLineStart,s=this.startNode(),o="",a=!1,u=!1,c="method",l=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(s),s;this.isClassElementNameStart()||this.toks.type===h.star?l=!0:o="static"}if(s.static=l,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===h.star)&&!this.canInsertSemicolon()?u=!0:o="async"),!o){a=this.eat(h.star);var p=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=p:o=p)}if(o)s.computed=!1,s.key=this.startNodeAt(r?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),s.key.name=o,this.finishNode(s.key,"Identifier");else if(this.parseClassElementName(s),Xr(s.key))return Xr(this.parseMaybeAssign())&&this.next(),this.eat(h.comma),null;if(e<13||this.toks.type===h.parenL||c!=="method"||a||u){var f=!s.computed&&!s.static&&!a&&!u&&c==="method"&&(s.key.type==="Identifier"&&s.key.name==="constructor"||s.key.type==="Literal"&&s.key.value==="constructor");s.kind=f?"constructor":c,s.value=this.parseMethod(a,u),this.finishNode(s,"MethodDefinition")}else{if(this.eat(h.eq))if(this.curLineStart!==n&&this.curIndent<=i&&this.tokenStartsLine())s.value=null;else{var H=this.inAsync,m=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,s.value=this.parseMaybeAssign(),this.inAsync=H,this.inGenerator=m}else s.value=null;this.semicolon(),this.finishNode(s,"PropertyDefinition")}return s};er.parseClassStaticBlock=function(t){var e=this.curIndent,r=this.curLineStart;for(t.body=[],this.pushCx();!this.closes(h.braceR,e,r,!0);)t.body.push(this.parseStatement());return this.popCx(),this.eat(h.braceR),this.finishNode(t,"StaticBlock")};er.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()};er.parseClassElementName=function(t){this.toks.type===h.privateId?(t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};er.parseFunction=function(t,e,r){var i=this.inAsync,n=this.inGenerator,s=this.inFunction;return this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!r),this.tok.type===h.name?t.id=this.parseIdent():e===!0&&(t.id=this.dummyIdent()),this.inAsync=t.async,this.inGenerator=t.generator,this.inFunction=!0,t.params=this.parseFunctionParams(),t.body=this.parseBlock(),this.toks.adaptDirectivePrologue(t.body.body),this.inAsync=i,this.inGenerator=n,this.inFunction=s,this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")};er.parseExport=function(){var t=this.startNode();if(this.next(),this.eat(h.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?t.exported=this.parseExprAtom():t.exported=null),t.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(h._default)){var e;if(this.tok.type===h._function||(e=this.toks.isAsyncFunction())){var r=this.startNode();this.next(),e&&this.next(),t.declaration=this.parseFunction(r,"nullableID",e)}else this.tok.type===h._class?t.declaration=this.parseClass("nullableID"):(t.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(t,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(t.declaration=this.parseStatement(),t.specifiers=[],t.source=null):(t.declaration=null,t.specifiers=this.parseExportSpecifierList(),t.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(t,"ExportNamedDeclaration")};er.parseImport=function(){var t=this.startNode();if(this.next(),this.tok.type===h.string)t.specifiers=[],t.source=this.parseExprAtom();else{var e;this.tok.type===h.name&&this.tok.value!=="from"&&(e=this.startNode(),e.local=this.parseIdent(),this.finishNode(e,"ImportDefaultSpecifier"),this.eat(h.comma)),t.specifiers=this.parseImportSpecifiers(),t.source=this.eatContextual("from")&&this.tok.type===h.string?this.parseExprAtom():this.dummyString(),e&&t.specifiers.unshift(e)}return this.semicolon(),this.finishNode(t,"ImportDeclaration")};er.parseImportSpecifiers=function(){var t=[];if(this.tok.type===h.star){var e=this.startNode();this.next(),e.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),t.push(this.finishNode(e,"ImportNamespaceSpecifier"))}else{var r=this.curIndent,i=this.curLineStart,n=this.nextLineStart;for(this.pushCx(),this.eat(h.braceL),this.curLineStart>n&&(n=this.curLineStart);!this.closes(h.braceR,r+(this.curLineStart<=n?1:0),i);){var s=this.startNode();if(this.eat(h.star))s.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(s,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(s.imported=this.parseModuleExportName(),Xr(s.imported)))break;s.local=this.eatContextual("as")?this.parseModuleExportName():s.imported,this.finishNode(s,"ImportSpecifier")}t.push(s),this.eat(h.comma)}this.eat(h.braceR),this.popCx()}return t};er.parseExportSpecifierList=function(){var t=[],e=this.curIndent,r=this.curLineStart,i=this.nextLineStart;for(this.pushCx(),this.eat(h.braceL),this.curLineStart>i&&(i=this.curLineStart);!this.closes(h.braceR,e+(this.curLineStart<=i?1:0),r)&&!this.isContextual("from");){var n=this.startNode();if(n.local=this.parseModuleExportName(),Xr(n.local))break;n.exported=this.eatContextual("as")?this.parseModuleExportName():n.local,this.finishNode(n,"ExportSpecifier"),t.push(n),this.eat(h.comma)}return this.eat(h.braceR),this.popCx(),t};er.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===h.string?this.parseExprAtom():this.parseIdent()};var qe=Xe.prototype;qe.checkLVal=function(t){if(!t)return t;switch(t.type){case"Identifier":case"MemberExpression":return t;case"ParenthesizedExpression":return t.expression=this.checkLVal(t.expression),t;default:return this.dummyIdent()}};qe.parseExpression=function(t){var e=this.storeCurrentPos(),r=this.parseMaybeAssign(t);if(this.tok.type===h.comma){var i=this.startNodeAt(e);for(i.expressions=[r];this.eat(h.comma);)i.expressions.push(this.parseMaybeAssign(t));return this.finishNode(i,"SequenceExpression")}return r};qe.parseParenExpression=function(){this.pushCx(),this.expect(h.parenL);var t=this.parseExpression();return this.popCx(),this.expect(h.parenR),t};qe.parseMaybeAssign=function(t){if(this.inGenerator&&this.toks.isContextual("yield")){var e=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==h.star&&!this.tok.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")}var r=this.storeCurrentPos(),i=this.parseMaybeConditional(t);if(this.tok.type.isAssign){var n=this.startNodeAt(r);return n.operator=this.tok.value,n.left=this.tok.type===h.eq?this.toAssignable(i):this.checkLVal(i),this.next(),n.right=this.parseMaybeAssign(t),this.finishNode(n,"AssignmentExpression")}return i};qe.parseMaybeConditional=function(t){var e=this.storeCurrentPos(),r=this.parseExprOps(t);if(this.eat(h.question)){var i=this.startNodeAt(e);return i.test=r,i.consequent=this.parseMaybeAssign(),i.alternate=this.expect(h.colon)?this.parseMaybeAssign(t):this.dummyIdent(),this.finishNode(i,"ConditionalExpression")}return r};qe.parseExprOps=function(t){var e=this.storeCurrentPos(),r=this.curIndent,i=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),e,-1,t,r,i)};qe.parseExprOp=function(t,e,r,i,n,s){if(this.curLineStart!==s&&this.curIndent<n&&this.tokenStartsLine())return t;var o=this.tok.type.binop;if(o!=null&&(!i||this.tok.type!==h._in)&&o>r){var a=this.startNodeAt(e);if(a.left=t,a.operator=this.tok.value,this.next(),this.curLineStart!==s&&this.curIndent<n&&this.tokenStartsLine())a.right=this.dummyIdent();else{var u=this.storeCurrentPos();a.right=this.parseExprOp(this.parseMaybeUnary(!1),u,o,i,n,s)}return this.finishNode(a,/&&|\|\||\?\?/.test(a.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(a,e,r,i,n,s)}return t};qe.parseMaybeUnary=function(t){var e=this.storeCurrentPos(),r;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.tok.type.prefix){var i=this.startNode(),n=this.tok.type===h.incDec;n||(t=!0),i.operator=this.tok.value,i.prefix=!0,this.next(),i.argument=this.parseMaybeUnary(!0),n&&(i.argument=this.checkLVal(i.argument)),r=this.finishNode(i,n?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===h.ellipsis){var s=this.startNode();this.next(),s.argument=this.parseMaybeUnary(t),r=this.finishNode(s,"SpreadElement")}else if(!t&&this.tok.type===h.privateId)r=this.parsePrivateIdent();else for(r=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(e);o.operator=this.tok.value,o.prefix=!1,o.argument=this.checkLVal(r),this.next(),r=this.finishNode(o,"UpdateExpression")}if(!t&&this.eat(h.starstar)){var a=this.startNodeAt(e);return a.operator="**",a.left=r,a.right=this.parseMaybeUnary(!1),this.finishNode(a,"BinaryExpression")}return r};qe.parseExprSubscripts=function(){var t=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),t,!1,this.curIndent,this.curLineStart)};qe.parseSubscripts=function(t,e,r,i,n){for(var s=this.options.ecmaVersion>=11,o=!1;;){if(this.curLineStart!==n&&this.curIndent<=i&&this.tokenStartsLine())if(this.tok.type===h.dot&&this.curIndent===i)--i;else break;var a=t.type==="Identifier"&&t.name==="async"&&!this.canInsertSemicolon(),u=s&&this.eat(h.questionDot);if(u&&(o=!0),u&&this.tok.type!==h.parenL&&this.tok.type!==h.bracketL&&this.tok.type!==h.backQuote||this.eat(h.dot)){var c=this.startNodeAt(e);c.object=t,this.curLineStart!==n&&this.curIndent<=i&&this.tokenStartsLine()?c.property=this.dummyIdent():c.property=this.parsePropertyAccessor()||this.dummyIdent(),c.computed=!1,s&&(c.optional=u),t=this.finishNode(c,"MemberExpression")}else if(this.tok.type===h.bracketL){this.pushCx(),this.next();var l=this.startNodeAt(e);l.object=t,l.property=this.parseExpression(),l.computed=!0,s&&(l.optional=u),this.popCx(),this.expect(h.bracketR),t=this.finishNode(l,"MemberExpression")}else if(!r&&this.tok.type===h.parenL){var p=this.parseExprList(h.parenR);if(a&&this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(e),p,!0);var f=this.startNodeAt(e);f.callee=t,f.arguments=p,s&&(f.optional=u),t=this.finishNode(f,"CallExpression")}else if(this.tok.type===h.backQuote){var H=this.startNodeAt(e);H.tag=t,H.quasi=this.parseTemplate(),t=this.finishNode(H,"TaggedTemplateExpression")}else break}if(o){var m=this.startNodeAt(e);m.expression=t,t=this.finishNode(m,"ChainExpression")}return t};qe.parseExprAtom=function(){var t;switch(this.tok.type){case h._this:case h._super:var e=this.tok.type===h._this?"ThisExpression":"Super";return t=this.startNode(),this.next(),this.finishNode(t,e);case h.name:var r=this.storeCurrentPos(),i=this.parseIdent(),n=!1;if(i.name==="async"&&!this.canInsertSemicolon()){if(this.eat(h._function))return this.toks.overrideContext(Qe.f_expr),this.parseFunction(this.startNodeAt(r),!1,!0);this.tok.type===h.name&&(i=this.parseIdent(),n=!0)}return this.eat(h.arrow)?this.parseArrowExpression(this.startNodeAt(r),[i],n):i;case h.regexp:t=this.startNode();var s=this.tok.value;return t.regex={pattern:s.pattern,flags:s.flags},t.value=s.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case h.num:case h.string:return t=this.startNode(),t.value=this.tok.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===h.num&&t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal");case h._null:case h._true:case h._false:return t=this.startNode(),t.value=this.tok.type===h._null?null:this.tok.type===h._true,t.raw=this.tok.type.keyword,this.next(),this.finishNode(t,"Literal");case h.parenL:var o=this.storeCurrentPos();this.next();var a=this.parseExpression();if(this.expect(h.parenR),this.eat(h.arrow)){var u=a.expressions||[a];return u.length&&Xr(u[u.length-1])&&u.pop(),this.parseArrowExpression(this.startNodeAt(o),u)}if(this.options.preserveParens){var c=this.startNodeAt(o);c.expression=a,a=this.finishNode(c,"ParenthesizedExpression")}return a;case h.bracketL:return t=this.startNode(),t.elements=this.parseExprList(h.bracketR,!0),this.finishNode(t,"ArrayExpression");case h.braceL:return this.toks.overrideContext(Qe.b_expr),this.parseObj();case h._class:return this.parseClass(!1);case h._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}};qe.parseExprImport=function(){var t=this.startNode(),e=this.parseIdent(!0);switch(this.tok.type){case h.parenL:return this.parseDynamicImport(t);case h.dot:return t.meta=e,this.parseImportMeta(t);default:return t.name="import",this.finishNode(t,"Identifier")}};qe.parseDynamicImport=function(t){return t.source=this.parseExprList(h.parenR)[0]||this.dummyString(),this.finishNode(t,"ImportExpression")};qe.parseImportMeta=function(t){return this.next(),t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty")};qe.parseNew=function(){var t=this.startNode(),e=this.curIndent,r=this.curLineStart,i=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot))return t.meta=i,t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty");var n=this.storeCurrentPos();return t.callee=this.parseSubscripts(this.parseExprAtom(),n,!0,e,r),this.tok.type===h.parenL?t.arguments=this.parseExprList(h.parenR):t.arguments=[],this.finishNode(t,"NewExpression")};qe.parseTemplateElement=function(){var t=this.startNode();return this.tok.type===h.invalidTemplate?t.value={raw:this.tok.value,cooked:null}:t.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),t.tail=this.tok.type===h.backQuote,this.finishNode(t,"TemplateElement")};qe.parseTemplate=function(){var t=this.startNode();this.next(),t.expressions=[];var e=this.parseTemplateElement();for(t.quasis=[e];!e.tail;)this.next(),t.expressions.push(this.parseExpression()),this.expect(h.braceR)?e=this.parseTemplateElement():(e=this.startNode(),e.value={cooked:"",raw:""},e.tail=!0,this.finishNode(e,"TemplateElement")),t.quasis.push(e);return this.expect(h.backQuote),this.finishNode(t,"TemplateLiteral")};qe.parseObj=function(){var t=this.startNode();t.properties=[],this.pushCx();var e=this.curIndent+1,r=this.curLineStart;for(this.eat(h.braceL),this.curIndent+1<e&&(e=this.curIndent,r=this.curLineStart);!this.closes(h.braceR,e,r);){var i=this.startNode(),n=void 0,s=void 0,o=void 0;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis)){i.argument=this.parseMaybeAssign(),t.properties.push(this.finishNode(i,"SpreadElement")),this.eat(h.comma);continue}if(this.options.ecmaVersion>=6&&(o=this.storeCurrentPos(),i.method=!1,i.shorthand=!1,n=this.eat(h.star)),this.parsePropertyName(i),this.toks.isAsyncProp(i)?(s=!0,n=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):s=!1,Xr(i.key)){Xr(this.parseMaybeAssign())&&this.next(),this.eat(h.comma);continue}if(this.eat(h.colon))i.kind="init",i.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===h.parenL||this.tok.type===h.braceL))i.kind="init",i.method=!0,i.value=this.parseMethod(n,s);else if(this.options.ecmaVersion>=5&&i.key.type==="Identifier"&&!i.computed&&(i.key.name==="get"||i.key.name==="set")&&this.tok.type!==h.comma&&this.tok.type!==h.braceR&&this.tok.type!==h.eq)i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1);else{if(i.kind="init",this.options.ecmaVersion>=6)if(this.eat(h.eq)){var a=this.startNodeAt(o);a.operator="=",a.left=i.key,a.right=this.parseMaybeAssign(),i.value=this.finishNode(a,"AssignmentExpression")}else i.value=i.key;else i.value=this.dummyIdent();i.shorthand=!0}t.properties.push(this.finishNode(i,"Property")),this.eat(h.comma)}return this.popCx(),this.eat(h.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(t,"ObjectExpression")};qe.parsePropertyName=function(t){if(this.options.ecmaVersion>=6)if(this.eat(h.bracketL)){t.computed=!0,t.key=this.parseExpression(),this.expect(h.bracketR);return}else t.computed=!1;var e=this.tok.type===h.num||this.tok.type===h.string?this.parseExprAtom():this.parseIdent();t.key=e||this.dummyIdent()};qe.parsePropertyAccessor=function(){if(this.tok.type===h.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===h.privateId)return this.parsePrivateIdent()};qe.parseIdent=function(){var t=this.tok.type===h.name?this.tok.value:this.tok.type.keyword;if(!t)return this.dummyIdent();var e=this.startNode();return this.next(),e.name=t,this.finishNode(e,"Identifier")};qe.parsePrivateIdent=function(){var t=this.startNode();return t.name=this.tok.value,this.next(),this.finishNode(t,"PrivateIdentifier")};qe.initFunction=function(t){t.id=null,t.params=[],this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};qe.toAssignable=function(t,e){if(!(!t||t.type==="Identifier"||t.type==="MemberExpression"&&!e))if(t.type==="ParenthesizedExpression")this.toAssignable(t.expression,e);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(t.type==="ObjectExpression"){t.type="ObjectPattern";for(var r=0,i=t.properties;r<i.length;r+=1){var n=i[r];this.toAssignable(n,e)}}else if(t.type==="ArrayExpression")t.type="ArrayPattern",this.toAssignableList(t.elements,e);else if(t.type==="Property")this.toAssignable(t.value,e);else if(t.type==="SpreadElement")t.type="RestElement",this.toAssignable(t.argument,e);else if(t.type==="AssignmentExpression")t.type="AssignmentPattern",delete t.operator;else return this.dummyIdent()}return t};qe.toAssignableList=function(t,e){for(var r=0,i=t;r<i.length;r+=1){var n=i[r];this.toAssignable(n,e)}return t};qe.parseFunctionParams=function(t){return t=this.parseExprList(h.parenR),this.toAssignableList(t,!0)};qe.parseMethod=function(t,e){var r=this.startNode(),i=this.inAsync,n=this.inGenerator,s=this.inFunction;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=!!t),this.options.ecmaVersion>=8&&(r.async=!!e),this.inAsync=r.async,this.inGenerator=r.generator,this.inFunction=!0,r.params=this.parseFunctionParams(),r.body=this.parseBlock(),this.toks.adaptDirectivePrologue(r.body.body),this.inAsync=i,this.inGenerator=n,this.inFunction=s,this.finishNode(r,"FunctionExpression")};qe.parseArrowExpression=function(t,e,r){var i=this.inAsync,n=this.inGenerator,s=this.inFunction;return this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!r),this.inAsync=t.async,this.inGenerator=!1,this.inFunction=!0,t.params=this.toAssignableList(e,!0),t.expression=this.tok.type!==h.braceL,t.expression?t.body=this.parseMaybeAssign():(t.body=this.parseBlock(),this.toks.adaptDirectivePrologue(t.body.body)),this.inAsync=i,this.inGenerator=n,this.inFunction=s,this.finishNode(t,"ArrowFunctionExpression")};qe.parseExprList=function(t,e){this.pushCx();var r=this.curIndent,i=this.curLineStart,n=[];for(this.next();!this.closes(t,r+1,i);){if(this.eat(h.comma)){n.push(e?null:this.dummyIdent());continue}var s=this.parseMaybeAssign();if(Xr(s)){if(this.closes(t,r,i))break;this.next()}else n.push(s);this.eat(h.comma)}return this.popCx(),this.eat(t)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),n};qe.parseAwait=function(){var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(),this.finishNode(t,"AwaitExpression")};Dp.tabSize=4;function RL(t,e){return Xe.parse(t,e)}var Vv={ecmaVersion:"latest",locations:!0,allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReserved:!0,allowReturnOutsideFunction:!0},io=t=>t.start,Gv=t=>t.end,OL=(t,e)=>t.slice(io(e),Gv(e)),no=(t,e=!1)=>(e?EL:RL)(t,Vv),am=t=>{let e=no(t);for(let r of e.body)r.type==="FunctionDeclaration"&&r.id&&Xr(r.id)&&(r.id=null);return e.body};function NL(t,e,r){return e.length>1||e[0].type!=="FunctionDeclaration"?UL(t,e,!0,r):BL(t,[{type:"ReturnStatement",argument:{type:"CallExpression",optional:!1,arguments:[{type:"ThisExpression"},...t.map(i=>({type:"Identifier",name:i}))],callee:{type:"MemberExpression",property:{type:"Identifier",name:"call"},computed:!1,optional:!1,object:{type:"FunctionExpression",params:e[0].params,body:e[0].body}}}}],!0,r)}var BL=(t,e,r,i)=>{let n={type:"Identifier",name:"e"},o=i?[{type:"TryStatement",block:{type:"BlockStatement",body:e},handler:{type:"CatchClause",param:n,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"MemberExpression",object:n,property:{type:"Identifier",name:"stack"},computed:!1,optional:!1},operator:"||",right:{type:"MemberExpression",object:n,property:{type:"Identifier",name:"message"},computed:!1,optional:!1}},operator:"||",right:{type:"CallExpression",callee:{type:"Identifier",name:"String"},arguments:[n],optional:!1}}}]}}}]:e;return r?{type:"FunctionExpression",id:{type:"Identifier",name:"_generatedCode"},params:t.map(a=>({type:"Identifier",name:a})),body:{type:"BlockStatement",body:o}}:{type:"ArrowFunctionExpression",params:t.map(a=>({type:"Identifier",name:a})),expression:!1,body:{type:"BlockStatement",body:o}}},x9=(t,e)=>({type:"CallExpression",arguments:t.map(r=>({type:"Identifier",name:r})),callee:e,optional:!1}),FL=(t,e,r)=>x9(t,UL(t,e,r,!0));function UL(t,e,r,i){let n=e[e.length-1];if(n.type!=="ReturnStatement"){let s=C9(n);s&&(e=[...e.slice(0,-1),{type:"ReturnStatement",argument:s}])}return BL(t,e,r,i)}function C9(t){switch(t.type){case"ExpressionStatement":return t.expression;case"BlockStatement":return{type:"CallExpression",arguments:[],callee:{type:"ArrowFunctionExpression",params:[],expression:!1,body:t},optional:!1};case"ReturnStatement":return t.argument||void 0;default:return}}var ED=w("crypto"),xD=U(h_()),CD=w("os"),Re=U(w("path"));var gs=U(w("fs")),AD=U(w("util"));async function ac({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}async function so({stat:t},e){if(e)try{return await t(e)}catch{return}}function SD(t){return new Promise(e=>{gs.readFile(t,"utf8",async(r,i)=>{e(r?"":i)})})}var tde=AD.promisify(gs.writeFile);var Br=Symbol("FsUtils"),Ki=class{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,gs.constants.F_OK),!0}catch{return!1}}readFile(e){return this.fs.readFile(e)}},m_=class{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{let{doesExists:r}=await this.dap.remoteFileExistsRequest({localFilePath:e});return r}catch{return!1}}readFile(){throw new Error("not implemented")}},bm=class{constructor(e,r,i){this.remoteFilePrefix=e;this.localFsUtils=r;this.remoteFsUtils=i}static create(e,r,i){let n=new Ki(r);return e!==void 0?new this(e.toLowerCase(),n,new m_(i)):n}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}};var Ez=process.platform==="win32"?"\\\\.\\pipe\\":(0,CD.tmpdir)(),xz=0,LD=()=>Re.join(Ez,`node-cdp.${process.pid}-${(0,ED.randomBytes)(4).toString("hex")}-${xz++}.sock`);async function vm(t,e,r){let i;if(process.platform==="win32"){let n=r.WINDIR||"C:\\Windows";i=Re.join(n,"System32","where.exe")}else i="/usr/bin/which";try{if(await so(t,i)){let s=(await(0,xD.default)(i,[e],{env:Tu(r)})).stdout.split(/\r?\n/);if(process.platform==="win32"){let o=String(r.PATHEXT||".exe").toUpperCase().split(";");for(let a of s){let u=Re.extname(a).toUpperCase();if(u&&o.includes(u))return a}}else if(s.length>0)return s[0];return}return e}catch{}}async function PD(t,e,r){if(e){if(process.platform==="win32"&&!Re.extname(e)){let i=r.lookup("PATHEXT");if(i){let n=i.split(";");for(let s of n){let o=e+s;if(await so(t,o))return o}}}if(await so(t,e))return e}}var DD=t=>t.includes(`.asar${Re.sep}`);function oo(...t){return Re.posix.isAbsolute(t[0])?pt(Re.posix.join(...t)):Re.win32.isAbsolute(t[0])?Re.win32.join(...t):Re.join(...t)}function Jr(...t){return Re.posix.isAbsolute(t[0])?Re.posix.resolve(...t):Re.win32.isAbsolute(t[0])?Re.win32.resolve(...t):Re.resolve(...t)}function Vp(t,e){return Re.posix.isAbsolute(t)?Re.posix.relative(t,e):Re.win32.isAbsolute(t)?Re.win32.relative(t,e):Re.relative(t,e)}var Cz=/\/|\\/,Wp="file:///",TD=t=>t.startsWith(Wp)&&t[Wp.length+1]===":",H_=t=>t.split(Cz);function g_(t,e=!1){if(!t)return t;if(TD(t)){let r=Wp.length;t=Wp+t[r].toLowerCase()+t.substr(r+1)}else _m(t)&&(t=(e?t[0].toUpperCase():t[0].toLowerCase())+t.substr(1));return t}function vt(t,e=!1){if(!t)return t;if(t=g_(t,e),TD(t)){let r=Wp.length;t=t.substr(0,r+1)+t.substr(r+1).replace(/\//g,"\\")}else _m(t)&&(t=t.replace(/\//g,"\\"));return t}function pt(t){return t.replace(/\\\//g,"/").replace(/\\/g,"/")}var $D=(t,e)=>{let r=Re.relative(t,e);return r.length&&!Re.isAbsolute(r)&&!r.startsWith("..")},MD=(t,e)=>{let r=Re.relative(t,e);return!Re.isAbsolute(r)&&!r.startsWith("..")},y_=t=>t.startsWith("\\\\"),_m=t=>/^[A-Za-z]:/.test(t)||y_(t);var b_=class{constructor(e,r,i,n,s){this.original=e;this.metadata=r;this.actualRoot=i;this.actualSources=n;this.hasNames=s;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=b_.idCounter++;if(n.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let o=0;o<n.length;o++)this.sourceActualToOriginal.set(n[o],e.sources[o]),this.sourceOriginalToActual.set(e.sources[o],n[o])}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return vt(wm(rr(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}computeColumnSpans(){this.original.computeColumnSpans()}originalPositionFor(e){let r=this.original.originalPositionFor(e);return r.source&&(r.source=this.sourceOriginalToActual.get(r.source)??r.source),r}generatedPositionFor(e){return this.original.generatedPositionFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}allGeneratedPositionsFor(e){return this.original.allGeneratedPositionsFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}hasContentsOfAllSources(){return this.original.hasContentsOfAllSources()}sourceContentFor(e,r){return this.original.sourceContentFor(this.sourceActualToOriginal.get(e)??e,r)}eachMapping(e,r,i){return this.original.eachMapping(e,r,i)}destroy(){this.original.destroy()}},Sa=b_;Sa.idCounter=0;async function RD(t,e,r,i){let n=lt.parse(e,{locations:!0,ecmaVersion:"latest"}),s=new Gp.SourceMapGenerator({file:t}),o=Hs(n,{sourceMap:{setSourceContent:(a,u)=>s.setSourceContent(a,u),applySourceMap:(a,u,c)=>s.applySourceMap(a,u,c),toJSON:()=>s.toJSON(),toString:()=>s.toString(),addMapping:a=>s.addMapping({generated:a.original,original:{column:a.generated.column,line:a.generated.line},source:t,name:a.name})}});return s.setSourceContent(t,o),new Sa(await Gp.SourceMapConsumer.fromSourceMap(s),{sourceMapUrl:i,compiledPath:r},"",[t],!1)}function OD(t){let e;try{e=no(t,!0)}catch{return}let r=(u,c)=>({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:u,right:c}}),i=!1,n=!1,s=(0,uc.replace)(e,{enter(u,c){switch(u.type){case"ClassDeclaration":return r(u.id||{type:"Identifier",name:"_default"},{...u,type:"ClassExpression"});case"FunctionDeclaration":return this.skip(),r(u.id||{type:"Identifier",name:"_default"},{...u,type:"FunctionExpression"});case"FunctionExpression":case"ArrowFunctionExpression":case"MethodDefinition":return uc.VisitorOption.Skip;case"AwaitExpression":i=!0;return;case"ForOfStatement":u.await&&(i=!0);return;case"ReturnStatement":n=!0;return;case"VariableDeclaration":if(!c||!("body"in c)||!(c.body instanceof Array))return;let l=c.body,p=u.declarations.map(f=>({type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"AssignmentExpression",operator:"=",left:f.id,right:f.init||{type:"Identifier",name:"undefined"}}}}));l.splice(l.indexOf(u),1,...p)}}});if(!i||n)return;let o=s.body[s.body.length-1];o.type==="ExpressionStatement"&&(s.body[s.body.length-1]={type:"ReturnStatement",argument:o.expression});let a={type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"ArrowFunctionExpression",params:[],generator:!1,expression:!1,async:!0,body:{type:"BlockStatement",body:s.body}},arguments:[],optional:!1}};return Hs(a)}function Kp(t){try{let e=tm(t,0,Vv);return e.end<t.length||e.type!=="ObjectExpression"?t:`(${t})`}catch{return t}}function cc(t){if(!t)return;let e="sourceMappingURL",r=t.length,i=e.length,n=r,s=0;for(;;){if(n=t.lastIndexOf(e,n),n===-1||n<4)return;if(n-=4,t[n]==="/"&&t[n+1]==="/"&&!(t[n+2]!=="#"&&t[n+2]!=="@")&&!(t[n+3]!==" "&&t[n+3]!=="	")&&(s=n+4+i,!(s<r&&t[s]!=="=")))break}let o=t.substring(s+1),a=o.indexOf(`
`);return a!==-1&&(o=o.substring(0,a)),o.trim()}function Im(t,e,r){let i=r.generatedPositionFor({source:t,line:e.lineNumber,column:e.columnNumber-1,bias:Gp.SourceMapConsumer.GREATEST_LOWER_BOUND}),n=a=>{if(a.line===null||a.column===null)return 1e11;let u=r.originalPositionFor(a);return u.line!==null?Math.abs(e.lineNumber-u.line):1e11},s=n(i),o=r.allGeneratedPositionsFor({source:t,line:e.lineNumber,column:e.columnNumber-1}).filter(a=>a.line!==null&&a.column!==null).sort((a,u)=>a.line!==u.line?a.line-u.line:a.column-u.column).map(a=>[a,n(a)]);return o.push([i,s]),o.sort(([a,u],[c,l])=>u-l||a.line-c.line||a.column-c.column),o[0][0]}var v_=(t,e)=>!!e&&((e.type==="FunctionExpression"||e.type==="FunctionDeclaration"||e.type==="ArrowFunctionExpression")&&e.params.includes(t)||(e.type==="ForInStatement"||e.type==="ForOfStatement")&&e.left===t||e.type==="VariableDeclarator"&&e.id===t||e.type==="AssignmentPattern"&&e.left===t||e.type==="CatchClause"&&e.param===t||"kind"in e&&e.kind==="init"&&e.value===t||e.type==="RestElement"&&e.argument===t||e.type==="AssignmentPattern"&&e.left===t);function ao(t){try{new Function(t)}catch(e){return e}}function Pz(t,e){let r=no(t),i,n;return(0,uc.traverse)(r,{enter:s=>{let o=s;e>=o.start&&e<o.end&&(s.type==="CallExpression"||s.type==="NewExpression"?n=s:i=s)}}),n||i}var kD=/^[^()]+/g;function ND(t,e){try{let i=Pz(t,e);if(i&&"callee"in i){let n=i.callee;return{text:`${t.slice(n.start,n.end)}(...)`,start:n.start,end:n.end}}else{let n=i;return{text:t.slice(n.start,n.end),start:n.start,end:n.end}}}catch{}kD.lastIndex=e-1;let r=kD.exec(t);if(r)return{text:r[0],start:e,end:e+r[0].length}}var Dt=()=>`
//# sourceURL=eval-${(0,BD.randomBytes)(4).toString("hex")}${".cdp"}
`;function Ea(t){return Dz(""+t)}function Dz(t){let e=tm(t,0,{ecmaVersion:"latest",locations:!0});if(e.type!=="FunctionExpression")throw new Error(`Could not find function declaration for:

${t}`);let r=e.params.map(o=>{if(o.type!=="Identifier")throw new Error("Parameter must be identifier");return o.name}),{start:i,end:n}=e.body,s=o=>`
    ${o.map((a,u)=>`let ${r[u]} = ${a}`).join("; ")};
    ${t.slice(i+1,n-1)}
  `;return{expr:(...o)=>`(()=>{${s(o)}})();
${Dt()}`,decl:(...o)=>`function(...runtimeArgs){${s(o)};
${Dt()}}`}}var lc=class extends Error{constructor(r){super(r.text);this.details=r}},zp=class{constructor(e){this.objectId=e}};function zt(t){let e=(""+t).replace("}",Dt()+"}"),r=async({cdp:i,args:n,...s})=>{let o=await i.Runtime.callFunctionOn({functionDeclaration:e,arguments:n.map(a=>a instanceof zp?{objectId:a.objectId}:{value:a}),...s});if(!o)throw new lc({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});if(o.exceptionDetails)throw new lc(o.exceptionDetails);return o.result};return r.source=e,r}var FD=()=>"globalThis.__jsDebugIsReady = true; "+Dt();var Xp=new Set(["page","iframe","worker","service_worker"]),A_=new Set(["page","iframe"]),I_=new Set(["page","iframe"]),Tz=I_,pc=class{constructor(e,r,i,n,s,o,a,u,c){this._manager=e;this._targetInfo=r;this.launchConfig=o;this.sessionId=a;this.logger=u;this._attached=!1;this._onNameChangedEmitter=new J;this.onNameChanged=this._onNameChangedEmitter.event;this.entryBreakpoint=void 0;this._children=new Map;this.sourcePathResolver=this._manager._sourcePathResolver;this._cdp=i,i.pause(),this.parentTarget=n,this._waitingForDebugger=s,this._updateFromInfo(r),this._ondispose=c}get targetInfo(){return this._targetInfo}get targetId(){return this._targetInfo.targetId}get independentLifeycle(){return I_.has(this.type())}get supplementalConfig(){let e=this.type();return{__browserTargetType:e,__usePerformanceFromParent:e!=="page"}}targetOrigin(){return this._manager._targetOrigin}id(){return this.sessionId}cdp(){return this._cdp}name(){return this._computeName()}fileName(){return this._targetInfo.url}type(){return this._targetInfo.type}afterBind(){return this._cdp.resume(),Promise.resolve()}initialize(){return Promise.resolve()}async runIfWaitingForDebugger(){await Promise.all([this._cdp.Runtime.runIfWaitingForDebugger({}),this._cdp.Runtime.evaluate({expression:FD()})])}parent(){return this.parentTarget&&!Xp.has(this.parentTarget.type())?this.parentTarget.parentTarget:this.parentTarget}children(){let e=[];for(let r of this._children.values())Xp.has(r.type())?e.push(r):e.push(...r.children());return e}canStop(){return Tz.has(this.type())}stop(){if(this._manager.targetList().includes(this))if(this.type()==="service_worker"){if(this._manager.serviceWorkerModel.stopWorker(this.id()),!this.parentTarget)return;this._manager.serviceWorkerModel.stopWorker(this.parentTarget.id())}else this._cdp.Target.closeTarget({targetId:this._targetInfo.targetId})}canRestart(){return I_.has(this.type())}restart(){this._cdp.Page.reload({})}waitingForDebugger(){return this._waitingForDebugger}canAttach(){return!this._attached}async attach(){return this._waitingForDebugger=!1,this._attached=!0,Promise.resolve(this._cdp)}canDetach(){return this._attached}async detach(){this._attached=!1,this._manager._detachedFromTarget(this.sessionId)}executionContextName(e){let r=e.auxData,i=e.name;if(!r)return i;let n=r.frameId,s=n?this._manager.frameModel.frameForId(n):void 0;return s&&r.isDefault&&!s.parentFrame()?"top":s&&r.isDefault?s.displayName():s?`${i}`:i}supportsCustomBreakpoints(){return A_.has(this.type())}scriptUrlToUrl(e){return uo(this._targetInfo.url,e)||e}_updateFromInfo(e){this._targetInfo={...e,type:this._targetInfo.type},this._onNameChangedEmitter.fire()}setComputeNameFn(e){this._customNameComputeFn=e,this._onNameChangedEmitter.fire()}_computeName(){var n;let e=(n=this._customNameComputeFn)==null?void 0:n.call(this,this);if(e)return e;if(this.type()==="service_worker"){let s=this._manager.serviceWorkerModel.version(this.id());if(s)return s.label()+" [Service Worker]"}let r=this._targetInfo.title;if(!(r&&this._manager.targetList().some(s=>s instanceof pc&&s!==this&&s._targetInfo.title===this._targetInfo.title)))return r;try{let s=new UD.URL(this._targetInfo.url);s.protocol==="data:"?r=" <data>":s?r+=` (${this._targetInfo.url.replace(/^[a-z]+:\/\/|\/$/gi,"")})`:r+=` (${this._targetInfo.url})`}catch{r+=` (${this._targetInfo.url})`}return r}async _detached(){await this._manager.serviceWorkerModel.detached(this._cdp),this._ondispose(this)}};var Am=class{constructor(e,r){this.key=e;this.value=r}toString(){return`${this.key}: ${this.value}`}},Tn=class{constructor(e,r){this.projection=e;this.initialContents=r;let i=Array.from(r||[]).map(n=>[this.projection(n[0]),new Am(n[0],n[1])]);this.projectionToKeyAndValue=new Map(i)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let r=this.projection(e);return this.projectionToKeyAndValue.delete(r)}forEach(e,r){this.projectionToKeyAndValue.forEach(i=>{e.call(r,i.value,i.key,this)},r)}get(e){let r=this.projection(e),i=this.projectionToKeyAndValue.get(r);return i?i.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,r){return this.projectionToKeyAndValue.set(this.projection(e),new Am(e,r)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};function $n(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function fc(t,e){if(t.length<=e)return t;let r=e>>1,i=e-r-1,n=t.codePointAt(t.length-i-1);n&&n>=65536&&(--i,++r);let s=t.codePointAt(r-1);return r>0&&s&&s>=65536&&--r,t.substr(0,r)+"\u2026"+t.substr(t.length-i,i)}var jD="/\\.?*()^${}|[]+",qD=t=>jD.includes(t);function Ar(t,e){let r=jD.split("").filter(n=>!e||e.indexOf(n)<0).join("").replace(/[\\\]]/g,"\\$&"),i=new RegExp(`[${r}]`,"g");return t.replace(i,"\\$&")}var co=class{constructor(e){this.source=e;this.lines=[];this.lines.push(0);for(let r=e.indexOf(`
`);r!==-1;r=e.indexOf(`
`,r+1))this.lines.push(r+1)}getLineOffset(e){return e>=this.lines.length?this.source.length:this.lines[e]}convert(e){let r=e.base0;if(r.lineNumber>this.lines.length)return this.source.length;let i=this.lines[r.lineNumber],n=this.lines[r.lineNumber+1]??this.source.length+1;return i+Math.min(n-i-1,r.columnNumber)}};var Em=process.platform!=="win32";function x_(){return Em}function xm(t){return Em?t:t.toLowerCase()}function Cm(t,e){return Em?t===e:t.toLowerCase()===e.toLowerCase()}function xa(){return x_()?new Map:new Tn(xm)}var GD,WD=process.platform==="win32"?(GD=process.env.PATHEXT)==null?void 0:GD.toLowerCase().split(";"):void 0,zD=t=>{let e=xm(Qr.basename(t));if(WD){for(let r of WD)if(e.endsWith(r))return e.slice(0,-r.length)}return e},Mz=async(t,e)=>{for(;;){if(await e(t))return t;let r=Qr.dirname(t);if(r===t)return;t=r}},Lm=(t,e,r)=>Mz(e,i=>t.exists(Qr.join(i,r))),kz=new Set(["localhost","127.0.0.1","::1"]);var VD=t=>kz.has(t.toLowerCase()),Rz=t=>{try{return new ys.URL(t).hostname.replace(/^\[|\]$/g,"")}catch{return t}};var dc=ya(async t=>{let e=Rz(t);if(VD(e))return!0;try{let r=await KD.promises.lookup(e);return VD(r.address)}catch{return!1}});function uo(t,e){try{return new ys.URL(e,t).href}catch{}}function wm(t,e){try{return new ys.URL(e),e}catch{}let r;try{r=new ys.URL(t||"")}catch{return e}let i=r.protocol+"//";return r.username&&(i+=r.username+":"+r.password+"@"),i+=r.host,i+=Qr.dirname(r.pathname),i[i.length-1]!=="/"&&(i+="/"),i+=e,i}function Pm(t){try{return new ys.URL(t),!0}catch{return!1}}function XD(t){return t.replace(/\/$/,"").replace(/\\$/,"")}var Oz=/^https:\/\/([a-z0-9\-]+)\+\.vscode-resource\.vscode-(?:webview|cdn)\.net\/(.+)/i;function Ht(t){let e=Oz.exec(t);if(e)t=`${e[1]}:///${e[2]}`;else if(t.startsWith("vscode-webview-resource://"))t=new ys.URL(t).pathname.replace(/%2F/gi,"/").replace(/^\/([a-z0-9\-]+)(\/{1,2})/i,(i,n,s)=>s.length===1?`${n}:///`:`${n}://`);else if(!yi(t))return;return t=t.replace("file:///",""),t=decodeURIComponent(t),t.startsWith("/")&&process.platform==="win32"&&t[1]!=="/"&&(t="/"+t),t[0]!=="/"&&!t.match(/^[A-Za-z]:/)&&(t="/"+t),vt(t)}function JD(t){return yi(t)&&(t=t.replace("file:///","\\\\"),t=t.replace(/\//g,"\\"),t=decodeURIComponent(t)),t}function We(t){return C_==="win32"?"file:///"+lo(t):"file://"+lo(t)}function hc(t){return t.startsWith("/")?"file://"+lo(t):"file:///"+lo(t)}function dr(t){return Qr.posix.isAbsolute(t)||Qr.win32.isAbsolute(t)}function rr(t){return!!t&&t.startsWith("data:")}var S_=(t,e,r)=>{if(!r||t===":"){e.add(t);return}if(t==="/"){e.add(`\\${t}`);return}qD(t)?e.add(`\\${t}`):e.add(t);let i=encodeURIComponent(t);t!=="\\"&&i!==t&&e.add(i)},Nz=t=>{switch(t.size){case 0:return"";case 1:return t.values().next().value;default:let e=[...t];return e.some(r=>r.length>1)?`(?:${e.join("|")})`:`[${e.join("")}]`}},Jp=new Set,E_=(t,e,r,i)=>{let n="";for(let s of t.slice(e,r))Em?S_(s,Jp,i):(S_(s.toLowerCase(),Jp,i),S_(s.toUpperCase(),Jp,i)),n+=Nz(Jp),Jp.clear();return n};function Fr(t,[e,r]=[0,t.length]){if(r<=e)return t;let i=[],n=E_(t,0,e,!1),s=E_(t,r,t.length,!1),o=t.slice(e,r);for(let a of[decodeURIComponent(o),Ht(o)]){if(!a)continue;let u=E_(a,0,a.length,!0);i.push(Bz(`${n}${u}${s}`).concat("($|\\?)"))}return i.join("|")}var Bz=t=>t.replace(/^(file:\\\/\\\/\\\/)?([a-z]):/i,(e,r="",i)=>`${r}[${i.toUpperCase()}${i.toLowerCase()}]:`);function yi(t){return t.startsWith("file:///")}var C_=process.platform;function lo(t){return t=zi(t),C_==="win32"?(y_(t)&&(t=t.slice(1)),t.split(/[\\//]/g).map((e,r)=>r>0?encodeURIComponent(e):e).join("/")):t.split("/").map(encodeURIComponent).join("/")}function zi(t){return t&&C_==="win32"&&t[1]===":"?t[0].toUpperCase()+t.substring(1):t}var po=(t,e=[])=>{let r=t.urlFilter||"file"in t&&t.file||t.url,i=r?Uz(r,...e):void 0;return n=>!n.url.startsWith("devtools://")&&(i==null?void 0:i(n.url))!==!1},mc=t=>e=>e.type==="page"&&t(e);function Fz(t){return!!t&&!Qr.isAbsolute(t)&&!!(0,ys.parse)(t).protocol}var Uz=(...t)=>{let e=n=>{n=n.toLowerCase();let s=Ht(n);s?n=s:Fz(n)&&n.includes("://")&&(n=n.substr(n.indexOf("://")+3)),n.endsWith("/")&&(n=n.substr(0,n.length-1));let o=n.indexOf("#");return o!==-1&&(n=n.slice(0,n[o-1]==="/"?o-1:o)),n},r=t.map(n=>Ar(e(n),"/*").replace(/(\/\*$)|\*/g,".*")),i=new RegExp("^("+r.join("|")+")$","g");return n=>(i.lastIndex=0,i.test(e(n)))};var jz=0,ft=Symbol("ICdpApi"),Ca=class extends Error{constructor(r){super("<<message>>");this.method=r}setCause(r,i){var n;return this.cause={code:r,message:i},this.message=`CDP error ${r} calling method ${this.method}: ${i}`,this.stack=(n=this.stack)==null?void 0:n.replace("<<message>>",this.message),this}},Tt=class{constructor(e,r,i){this.logger=r;this.telemetryReporter=i;this._connectionId=jz++;this._lastId=1e3;this._disposedSessions=new Map;this._onDisconnectedEmitter=new J;this.waitWrapper=Wz();this.onDisconnected=this._onDisconnectedEmitter.event;this._transport=e,this._transport.onMessage(([n,s])=>this._onMessage(n,s)),this._transport.onEnd(()=>this._onTransportClose()),this._sessions=new Map,this._closed=!1,this._rootSession=new Dm(this,"",this.logger),this._sessions.set("",this._rootSession)}rootSession(){return this._rootSession.cdp()}_send(e,r={},i){let n=++this._lastId,s={id:n,method:e,params:r};i&&(s.sessionId=i);let o=JSON.stringify(s);return this.logger.verbose("cdp.send",void 0,{connectionId:this._connectionId,message:s}),this._transport.send(o),n}_onMessage(e,r){let i=JSON.parse(e),n=i;i.result&&i.result.scriptSource?n={...i,result:{...i.result,scriptSource:"<script source>"}}:i.method==="Debugger.scriptParsed"&&i.params&&rr(i.params.sourceMapURL)&&(n={...i,params:{...i.params,sourceMapURL:"<data source map url>"}}),this.logger.verbose("cdp.receive",void 0,{connectionId:this._connectionId,message:n});let s=this._sessions.get(i.sessionId||"");if(!s){let u=this._disposedSessions.get(i.sessionId);if(u){let c=(Date.now()-u.getTime())/1e3;this.logger.warn("internal",`Got message for a session disposed ${c} seconds ago`,{sessionId:i.sessionId,disposeOn:u});return}else throw new Error(`Unknown session id: ${i.sessionId} while processing: ${i.method}`)}let o=i.method,a;try{s._onMessage(i)}catch(u){a=u}o&&this.telemetryReporter.reportOperation("cdpOperation",o,r.elapsed().ms,a)}_onTransportClose(){if(!this._closed){this._closed=!0,this._transport.dispose(),this.logger.info("cdp.receive","Connection closed",{connectionId:this._connectionId});for(let e of this._sessions.values())e._onClose();this._sessions.clear(),this._onDisconnectedEmitter.fire()}}close(){this._onTransportClose()}isClosed(){return this._closed}createSession(e){let r=new Dm(this,e,this.logger);return this._sessions.set(e,r),r.cdp()}disposeSession(e){let r=this._sessions.get(e);r&&(r._onClose(),this._disposedSessions.set(r.sessionId(),new Date),this._sessions.delete(r.sessionId()))}},qz=+process.version.substring(1).split(".")[0]<11,Dm=class{constructor(e,r,i){this.logger=i;this._queue=[];this._prefixListeners=new Cp;this._directListeners=new Cp;this.paused=!1;this._callbacks=new Map,this._connection=e,this._sessionId=r,this._cdp=this._createApi()}pause(){this.paused=!0}resume(){if(!this.paused)return;this.paused=!1;let e=this._queue;this._queue=[],this.logger.verbose("cdp.receive","Dequeue messages",{message:e});for(let r of e)this._processResponse(r)}cdp(){return this._cdp}sessionId(){return this._sessionId}_createApi(){return new Proxy({},{get:(e,r)=>r==="pause"?()=>this.pause():r==="resume"?()=>this.resume():r==="session"?this:new Proxy({},{get:(i,n)=>{if(n!=="then")return n==="on"?(s,o)=>this.on(`${r}.${s}`,o):s=>this.send(`${r}.${n}`,s)}})})}on(e,r){return this._directListeners.listen(e,r)}onPrefix(e,r){return this._prefixListeners.listen(e,r)}send(e,r={}){return this.sendOrDie(e,r).catch(()=>{})}sendOrDie(e,r={}){if(!this._connection)return Promise.reject(new Ca(e).setCause(0,"Connection is closed"));let i=this._connection._send(e,r,this._sessionId);return new Promise((n,s)=>{this._callbacks.set(i,{resolve:n,reject:s,from:new Ca(e),method:e})})}_onMessage(e){if(this.paused&&e.id){this._processResponse(e);return}if(this._queue.length>0){this._queue.push(e);return}if(!qz&&!this.paused){this._processResponse(e);return}this._queue.push(e),this.paused||this._processQueue()}_processQueue(){var e;(e=this._connection)==null||e.waitWrapper(()=>{if(this.paused)return;let r=this._queue.shift();r&&(this._processResponse(r),this._queue.length&&this._processQueue())})}_processResponse(e){if(e.id===void 0){let i=e;this._directListeners.emit(i.method,i.params);for(let[n,s]of this._prefixListeners.listeners)i.method.startsWith(n)&&s.fire(i);return}let r=this._callbacks.get(e.id);r&&(this._callbacks.delete(e.id),"error"in e?r.reject(r.from.setCause(e.error.code,e.error.message)):"result"in e&&r.resolve(e.result))}async detach(){if(!this._connection)throw new Error("Session already detached. Most likely the target has been closed.");this._connection._send("Target.detachFromTarget",{},this._sessionId)}isClosed(){return!this._connection}_onClose(){for(let e of this._callbacks.values())e.reject(e.from.setCause(0,"Connection is closed"));this._callbacks.clear(),this._connection=void 0}};function Wz(){if(parseInt(process.versions.node,10)>=11)return setImmediate;let t=!1,e=[],r=()=>{let i=e.shift();if(!i){t=!1;return}setImmediate(r),i()};return i=>{e.push(i),t||(t=!0,setImmediate(r))}}function Yp(t){return t instanceof Array?t:[t]}function YD(t,e,r){let i=0,n=t.length-1;for(;i<=n;){let s=(i+n)/2|0,o=r(t[s],e);if(o<0)i=s+1;else if(o>0)n=s-1;else return s}return i}var lT=w("path"),pT=w("worker_threads");var La=U(aT()),D_=w("fs"),T_=w("worker_threads");var iX=Buffer.from("(function (exports, require, module, __filename, __dirname) { "),nX=Buffer.from(`
});`),sX=Buffer.from("(function (exports, require, module, __filename, __dirname, process, global, Buffer) { return function (exports, require, module, __filename, __dirname) { "),oX=Buffer.from(`
}.call(this, exports, require, module, __filename, __dirname); });`),aX=Buffer.from("#!"),uX=Buffer.from("\r")[0],cX=Buffer.from(`
`)[0],lX=(t,e)=>t.slice(0,e.length).equals(e),uT=(t,e,r)=>{let i=e.length===64?La.shaHash:La.hash;if(i(t)===e)return!0;if(r){if(lX(t,aX)){let n=t.indexOf(cX);return t[n-1]===uX&&n--,i(t.slice(n))===e}if(i(Buffer.concat([iX,t,nX]))===e)return!0}return i(Buffer.concat([sX,t,oX]))===e},cT=t=>t instanceof Buffer?t:Buffer.from(t,"utf-8");async function pX(t){switch(t.type){case 0:try{let e=await D_.promises.readFile(t.file);return{id:t.id,hash:t.mode===0?(0,La.hash)(e):(0,La.shaHash)(e)}}catch{return{id:t.id}}case 1:try{return{id:t.id,hash:(0,La.hash)(cT(t.data))}}catch{return{id:t.id}}case 2:try{let e=await D_.promises.readFile(t.file);return{id:t.id,matches:uT(e,t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}case 3:try{return{id:t.id,matches:uT(cT(t.data),t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}}}function fX(t){t.on("message",e=>{pX(e).then(r=>t.postMessage(r))})}T_.parentPort&&fX(T_.parentPort);var Nm=class{constructor(e=3,r=(0,lT.join)(__dirname,"hash.js")){this.maxFailures=e;this.hasherScriptPath=r;this.idCounter=0;this.failureCount=0;this.deferredMap=new Map;this.deferCleanup=ME(3e4,()=>this.cleanup())}async hashBytes(e,r){return(await this.send({type:1,data:r,mode:e,id:this.idCounter++})).hash}async hashFile(e,r){return(await this.send({type:0,file:r,mode:e,id:this.idCounter++})).hash}async verifyBytes(e,r,i){return(await this.send({type:3,data:e,id:this.idCounter++,expected:r,checkNode:i})).matches}async verifyFile(e,r,i){return(await this.send({type:2,file:e,id:this.idCounter++,expected:r,checkNode:i})).matches}dispose(){this.cleanup(),this.deferCleanup.clear()}send(e){let r=this.getProcess();if(!r)throw new Error("hash.js process unexpectedly exited");this.deferCleanup();let i=je();return this.deferredMap.set(e.id,{deferred:i,request:e}),r.postMessage(e),i.promise}cleanup(){this.instance&&(this.instance.removeAllListeners("exit"),this.instance.terminate(),this.instance=void 0,this.failureCount=0)}getProcess(){if(this.instance)return this.instance;if(this.failureCount>this.maxFailures)return;let e=this.instance=new pT.Worker(this.hasherScriptPath);return e.setMaxListeners(1/0),e.on("message",r=>{let i=r,n=this.deferredMap.get(i.id);n&&(n.deferred.resolve(i),this.deferredMap.delete(i.id))}),e.on("exit",()=>{this.instance=void 0,this.failureCount++;let r=this.getProcess();if(r){this.deferCleanup();for(let{request:i}of this.deferredMap.values())r.postMessage(i)}else{for(let{deferred:i}of this.deferredMap.values())i.reject(new Error("hash.js process unexpectedly exited"));this.deferredMap.clear(),this.deferCleanup.clear()}}),e}};var dT=w("fs"),fT=new Nm;async function hT(t,e,r){return!t||DD(t)?void 0:e?(typeof r=="string"?await fT.verifyBytes(r,e,!0):await fT.verifyFile(t,e,!0))?t:void 0:await new Ki(dT.promises).exists(t)?t:void 0}var kn=U(pe()),$T=U(Vh());var Bm=class extends Error{constructor(r,i,n){super(`Unexpected ${r} response from ${i}: ${n??"<empty body>"}`);this.statusCode=r;this.url=i;this.body=n}},Pa=Symbol("IResourceProvider");var nt=U(xt());var te=class extends Error{constructor(r){super("__errorMarker"in r?r.error.format:r.format);this._cause="__errorMarker"in r?r.error:r}get cause(){return this._cause}};function mT(t,e){t.output({category:"console",output:e+`
`})}function Ze(t,e=9222){return{__errorMarker:!0,error:{id:e,format:t,showUser:!1}}}function Je(t,e=9223){return{__errorMarker:!0,error:{id:e,format:t,showUser:!0}}}var $_=()=>Je(nt.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvs', 'nvm' or 'fnm' to be installed."),9224),HT=()=>Je(nt.t("Attribute 'runtimeVersion' with a flavor/architecture requires 'nvs' to be installed."),9225),gT=()=>Je(nt.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvm-windows' or 'nvs'."),9226),M_=(t,e)=>Je(nt.t("Node.js version '{0}' not installed using version manager {1}.",t,e),9226),yT=t=>Je(nt.t("Cannot launch debug target in terminal ({0}).",t),9227),bT=t=>Je(nt.t("Can't load environment variables from file ({0}).",t),9228),vT=t=>Je(nt.t("The configured `cwd` {0} does not exist.",t),9245),k_=(t,e)=>Je(nt.t(`Can't find Node.js binary "{0}": {1}. Make sure Node.js is installed and in your PATH, or set the "runtimeExecutable" in your launch.json`,t,e),9229),_T=(t,e)=>Je(nt.t('The Node version in "{0}" is outdated (version {1}), we require at least Node 8.x.',e,t),9230),wT=t=>Je(nt.t('Invalid hit condition "{0}". Expected an expression like "> 42" or "== 2".',t),9231),gc=()=>Je(nt.t("An error occurred taking a profile from the target."),9235),IT=()=>Je(nt.t("Please stop the running profile before starting a new one."),9236),AT=t=>Ze(t,9238),Fm=(t,e,r)=>Je(e==="*"&&!r.length?nt.t('Unable to find an installation of the browser on your system. Try installing it, or providing an absolute path to the browser in the "runtimeExecutable" in your launch.json.'):nt.t('Unable to find {0} version {1}. Available auto-discovered versions are: {2}. You can set the "runtimeExecutable" in your launch.json to one of these, or provide an absolute path to the browser executable.',t,e,JSON.stringify([...new Set(r)])),9233),ST=t=>Je(nt.t('Unable to launch browser: "{0}"',t.message),9240),Zp=t=>Je(t??nt.t("Unable to attach to browser"),9242),Um=()=>Je(nt.t('Target page not found. You may need to update your "urlFilter" to match the page you want to debug.'),9241);var ET=()=>Ze(nt.t("Variables not available in async stacks"),9234),fo=(t,e)=>Je(nt.t("Syntax error setting breakpoint with condition {0} on line {1}: {2}",JSON.stringify(t.condition),t.line,e),9237),R_=()=>Ze(nt.t("Thread not found"),9244),jm=(t,e)=>Je(nt.t("Could not read source map for {0}: {1}",t,e)),xT=()=>Je(nt.t("UWP webview debugging is not available on your platform.")),CT=()=>Je(nt.t("Could not connect to any UWP Webview pipe. Make sure your webview is hosted in debug mode, and that the `pipeName` in your `launch.json` is correct.")),LT=t=>typeof t=="object"&&!!t&&"__errorMarker"in t,PT=(t,e)=>t instanceof te&&t.cause.id===e,DT=t=>Je(nt.t("The browser process exited with code {0} before connecting to the debug server. Make sure the `runtimeExecutable` is configured correctly and that it can run without errors.",t));var TT=new WeakSet;var dX="Request",hX=t=>t.endsWith("Request"),bi=Symbol("IDapApi"),yc=Symbol("IRootDapApi"),ef=class{constructor(e,r){this.transport=e;this.logger=r;this._pendingRequests=new Map;this._requestHandlers=new Map;this._eventListeners=new Map;this.disposables=[];this._initialized=je();this.closed=!1;this._sequence=1,this.disposables.push(this.transport.messageReceived(i=>this._onMessage(i.message,i.receivedTime))),this._dap=this._createApi()}get initializedBlocker(){return this._initialized.promise}attachTelemetry(e){this.telemetryReporter=e,e.attachDap(this._dap)}dap(){return this._dap}_createApi(){return new Proxy({},{get:(e,r)=>{if(r!=="then")return r==="on"?(i,n)=>(this._requestHandlers.set(i,n),()=>this._requestHandlers.delete(i)):r==="off"?i=>this._requestHandlers.delete(i):i=>{if(hX(r))return this.enqueueRequest(r.slice(0,-dX.length),i);this._send({seq:0,type:"event",event:r,body:i})}}})}createTestApi(){let e=(n,s)=>{let o=this._eventListeners.get(n);o||(o=new Set,this._eventListeners.set(n,o)),o.add(s)},r=(n,s)=>{let o=this._eventListeners.get(n);o&&o.delete(s)},i=(n,s)=>new Promise(o=>{let a=u=>{s&&!s(u)||(r(n,a),o(u))};e(n,a)});return new Proxy({},{get:(n,s)=>s==="on"?e:s==="off"?r:s==="once"?i:o=>this.enqueueRequest(s,o)})}enqueueRequest(e,r){return new Promise(i=>{let n={seq:0,type:"request",command:e,arguments:r||{}};this._send(n),this._pendingRequests.set(n.seq,i)})}stop(){this.closed=!0,this.transport.close()}_send(e,r){if(this.closed)this.logger.warn("dap.send","Not sending message because the connection has ended",e),r==null||r();else{e.seq=this._sequence++;let i=e.type!=="event"||!TT.has(e.body);this.transport.send(e,i,r)}}async _onMessage(e,r){var i,n,s,o;if(e.type==="request"){let a={seq:0,type:"response",request_seq:e.seq,command:e.command,success:!0};try{let u=this._requestHandlers.get(e.command);if(!u)console.error(`Unknown request: ${e.command}`);else{let c=await u(e.arguments);if(LT(c))this._send({...a,success:!1,message:c.error.format,body:{error:c.error}});else{let l={...a,body:c};a.command==="initialize"?(this._send(l),this._initialized.resolve(this)):a.command==="disconnect"?this._send({...a,body:c},()=>{this.stop()}):this._send(l)}}(i=this.telemetryReporter)==null||i.reportOperation("dapOperation",e.command,r.elapsed().ms)}catch(u){u instanceof te?this._send({...a,success:!1,body:{error:u.cause}}):(console.error(u),this._send({...a,success:!1,body:{error:{id:9221,format:`Error processing ${e.command}: ${u.stack||u.message}`,showUser:!1,sendTelemetry:!1}}})),(n=this.telemetryReporter)==null||n.reportOperation("dapOperation",e.command,r.elapsed().ms,u)}}if(e.type==="event"){let a=this._eventListeners.get(e.event)||new Set;for(let u of a)u(e.body)}if(e.type==="response"){let a=this._pendingRequests.get(e.request_seq);if(!this.logger.assert(a,`Expected callback for request sequence ID ${e.request_seq}`))return;if(this._pendingRequests.delete(e.request_seq),e.success)a(e.body);else{let u=(o=(s=e.body)==null?void 0:s.error)==null?void 0:o.format;a(u||e.message||"Unknown error")}}}};var et=Symbol("ISourcePathResolver");var Rn=Symbol("ISourceMapFactory"),N_=Symbol("IRootSourceMapFactory"),Da=class{constructor(e,r){this.root=e;this.resourceProvider=r}load(e){return this.root.load(this.resourceProvider,e)}guardSourceMapFn(e,r,i){return this.root.guardSourceMapFn(e,r,i)}};Da=z([(0,kn.injectable)(),x(0,(0,kn.inject)(N_)),x(1,(0,kn.inject)(Pa))],Da);var tf=class{constructor(e,r,i){this.pathResolve=e;this.dap=r;this.logger=i;this.hasWarnedAboutMaps=new WeakSet}async load(e,r){var a,u;let i=await this.parseSourceMap(e,r.sourceMapUrl),n=i.sourceRoot;i.sourceRoot=void 0;let s=!1,o=[];if("sections"in i){o=[];let c=0;for(let l of i.sections)o.push(...l.map.sources),l.map.sources=l.map.sources.map(()=>`source${c++}.js`),s||=!!((a=l.map.names)!=null&&a.length)}else"sources"in i&&Array.isArray(i.sources)&&(o=i.sources,i.sources=i.sources.map((c,l)=>`source${l}.js`),s=!!((u=i.names)!=null&&u.length));return new Sa(await new $T.SourceMapConsumer(i),r,n??"",o,s)}async parseSourceMap(e,r){let i;try{i=await this.parseSourceMapDirect(e,r)}catch(n){if(i=await this.parsePathMappedSourceMap(e,r),!i)throw n}if("sections"in i){let n=await Promise.all(i.sections.map((s,o)=>"url"in s?this.parseSourceMap(e,s.url).then(a=>({offset:s.offset,map:a})).catch(a=>{this.logger.warn("sourcemap.parsing",`Error parsing nested map ${o}: ${a}`)}):s));i.sections=n.filter(ur)}return i}async parsePathMappedSourceMap(e,r){if(rr(r))return;let i=await this.pathResolve.urlToAbsolutePath({url:r});if(i)try{return this.parseSourceMapDirect(e,i)}catch(n){this.logger.info("sourcemap.parsing","Parsing path mapped source map failed.",n)}}guardSourceMapFn(e,r,i){try{return r()}catch(n){if(!/error parsing/i.test(String(n.message)))throw n;if(!this.hasWarnedAboutMaps.has(e)){let s=jm(e.metadata.compiledPath,n.message).error;this.dap.output({output:s.format+`
`,category:"stderr"}),this.hasWarnedAboutMaps.add(e)}return i()}}dispose(){}async parseSourceMapDirect(e,r){let i=Ht(r);i&&(i=this.pathResolve.rebaseRemoteToLocal(i));let n=await e.fetch(i||r);if(!n.ok)throw n.error;let s=n.body;return s.slice(0,3)===")]}"&&(s=s.substring(s.indexOf(`
`))),JSON.parse(s)}};tf=z([(0,kn.injectable)(),x(0,(0,kn.inject)(et)),x(1,(0,kn.inject)(yc)),x(2,(0,kn.inject)(le))],tf);var ho=class extends tf{constructor(){super(...arguments);this.knownMaps=new Tn(r=>r.toLowerCase());this.overwrittenSourceMaps=[]}load(r,i){let n=this.knownMaps.get(i.sourceMapUrl);if(!n)return this.loadNewSourceMap(r,i);let s=i.cacheKey,o=n.metadata.cacheKey;return n.reloadIfNoMtime?s&&o&&s===o?(n.reloadIfNoMtime=!1,n.prom):(this.overwrittenSourceMaps.push(n.prom),this.loadNewSourceMap(r,i)):o&&s&&s!==o?(this.overwrittenSourceMaps.push(n.prom),this.loadNewSourceMap(r,i)):n.prom}loadNewSourceMap(r,i){let n=super.load(r,i);return this.knownMaps.set(i.sourceMapUrl,{metadata:i,reloadIfNoMtime:!1,prom:n}),n}dispose(){for(let r of this.knownMaps.values())r.prom.then(i=>i.destroy(),()=>{});for(let r of this.overwrittenSourceMaps)r.then(i=>i.destroy(),()=>{});this.knownMaps.clear()}invalidateCache(){for(let r of this.knownMaps.values())r.reloadIfNoMtime=!0}};ho=z([(0,kn.injectable)()],ho);var mX={["pwa-extensionHost"]:null,["node-terminal"]:null,["pwa-node"]:null,["pwa-chrome"]:null,["pwa-msedge"]:null},HX={["extension.js-debug.addCustomBreakpoints"]:null,["extension.pwa-node-debug.attachNodeProcess"]:null,["extension.js-debug.clearAutoAttachVariables"]:null,["extension.js-debug.setAutoAttachVariables"]:null,["extension.js-debug.autoAttachToProcess"]:null,["extension.js-debug.createDebuggerTerminal"]:null,["extension.js-debug.createDiagnostics"]:null,["extension.js-debug.getDiagnosticLogs"]:null,["extension.js-debug.debugLink"]:null,["extension.js-debug.npmScript"]:null,["extension.js-debug.pickNodeProcess"]:null,["extension.js-debug.prettyPrint"]:null,["extension.js-debug.removeAllCustomBreakpoints"]:null,["extension.js-debug.removeCustomBreakpoint"]:null,["extension.js-debug.revealPage"]:null,["extension.js-debug.startProfile"]:null,["extension.js-debug.stopProfile"]:null,["extension.js-debug.toggleSkippingFile"]:null,["extension.node-debug.startWithStopOnEntry"]:null,["extension.js-debug.requestCDPProxy"]:null,["extension.js-debug.openEdgeDevTools"]:null,["extension.js-debug.callers.add"]:null,["extension.js-debug.callers.goToCaller"]:null,["extension.js-debug.callers.gotToTarget"]:null,["extension.js-debug.callers.remove"]:null,["extension.js-debug.callers.removeAll"]:null,["extension.js-debug.enableSourceMapStepping"]:null,["extension.js-debug.disableSourceMapStepping"]:null},Che=new Set(Object.keys(HX)),Lhe=new Set(Object.keys(mX));var Ve=Symbol("AnyLaunchConfiguration"),MT={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.js","!**/node_modules/**"],sourceMapPathOverrides:F_("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},nf={...MT,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},kT={...nf,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},gX={...nf,type:"node-terminal",request:"attach",name:kT.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},yX={...nf,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},bX={...nf,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},B_={...MT,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:F_("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},vX={...B_,type:"pwa-msedge",useWebView:!1},RT={...B_,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},_X={...RT,type:"pwa-msedge",useWebView:!1},wX={...nf,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function F_(t){return{"webpack:///./~/*":`${t}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${t}/*`,"webpack://?:*/*":`${t}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${t}/*`}}var OT=t=>{!t.sourceMapPathOverrides&&t.cwd&&(t.sourceMapPathOverrides=F_(t.cwd)),t.resolveSourceMapLocations===void 0&&!t.remoteRoot&&(t.resolveSourceMapLocations=t.outFiles)};function IX({...t}){return OT(t),t.request==="attach"?{...wX,...t}:{...bX,...t}}function AX(t,e){return t.request==="attach"?{...B_,browserAttachLocation:e,...t}:{...RT,browserLaunchLocation:e,...t}}function SX(t,e){return t.request==="attach"?{...vX,browserAttachLocation:e,...t}:{..._X,browserLaunchLocation:e,...t}}function EX(t){let e={...yX,...t};return e.skipFiles=[...e.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],e}function xX(t){return OT(t),t.request==="launch"?{...kT,...t}:{...gX,...t}}function bc(t,e){let r,i=e==="remote"?"ui":"workspace";switch(t.type){case"pwa-node":r=IX(t);break;case"pwa-msedge":r=SX(t,i);break;case"pwa-chrome":r=AX(t,i);break;case"pwa-extensionHost":r=EX(t);break;case"node-terminal":r=xX(t);break;default:throw rh(t,"Unknown config: {value}")}return LX(r)}function CX(t){var i,n,s;let e="${workspaceFolder}",r={...t,rootPath:void 0,outFiles:t.outFiles.filter(o=>!o.includes(e)),sourceMapPathOverrides:ih(t.sourceMapPathOverrides,o=>!o.includes("${workspaceFolder}"))};return"vueComponentPaths"in r&&(r.vueComponentPaths=r.vueComponentPaths.filter(o=>!o.includes(e))),"resolveSourceMapLocations"in r&&(r.resolveSourceMapLocations=((i=r.resolveSourceMapLocations)==null?void 0:i.filter(o=>!o.includes(e)))??null),"cwd"in r&&((n=r.cwd)!=null&&n.includes(e))&&(r.cwd=void 0),"webRoot"in r&&((s=r.webRoot)!=null&&s.includes(e))&&(r.webRoot="/"),r}function LX(t){return t.__workspaceFolder||(t=CX(t)),t=rf(t,"workspaceFolder",t.__workspaceFolder),t=rf(t,"webRoot","webRoot"in t?t.webRoot:t.__workspaceFolder),t}function rf(t,e,r){let i;if(typeof t=="string")i=t.replace(new RegExp(`\\$\\{${e}\\}`,"g"),()=>{if(!r)throw new Error(`Unable to resolve \${${e}} in configuration (${JSON.stringify(e)})`);return r});else if(t instanceof Array)i=t.map(n=>rf(n,e,r));else if(typeof t=="object"&&t){let n={};for(let[s,o]of Object.entries(t))n[rf(s,e,r)]=rf(o,e,r);i=n}else i=t;return i}var qm="js-debug",sf="1.82.0",PX="ms-vscode",NT=qm.includes("nightly"),$he=`${PX}.${qm}`;var vc=Symbol("IContainer"),On=Symbol("StoragePath"),hr=Symbol("IInitializeParams"),mo=Symbol("VSCodeApi"),_c=Symbol("IsVSCode"),BT=Symbol("ExtensionContext"),j_=Symbol("ProcessEnv"),of=Symbol("execa"),it=Symbol("FS"),Ta="ExtensionLocation",$a=Symbol("IBrowserFinder"),FT=Symbol("SessionSubStates"),U_=new WeakMap,Ot=(t,e)=>{if(!(typeof e=="object"&&e&&"dispose"in e))return e;let r=e,i=U_.get(t.container);return i?i.push(r):U_.set(t.container,[r]),e},Wm=t=>{var e;(e=U_.get(t))==null||e.forEach(r=>r.dispose())},khe=Symbol("IExtensionContribution");var Gm=U(pe());var UT=U(w("fs")),Vm=U(w("path")),jT=t=>{let e={};f(e);function r(m,y){return t({category:"telemetry",output:m,data:y})}let i=m=>r("js-debug/dap/operation",{...e,...m}),n=m=>r("js-debug/cdp/operation",{...e,...m}),s=m=>r("js-debug/error",{...e,...m}),o=m=>{e.browser=(m.targetProject||m.targetProject)+"/"+m.targetVersion,r("js-debug/browserVersion",{...e,...m})},a=m=>r("js-debug/breakpointStats",{...e,...m}),u=m=>r("js-debug/statistics",{...e,...m}),c=m=>{e.nodeVersion=m.version,r("js-debug/nodeRuntime",{...e,...m})},l=m=>{r("js-debug/launch",{...e,...m,parameters:JSON.stringify(m.parameters)})},p=m=>{r("js-debug/diagnosticPrompt",{...e,...m})};function f(m){try{let y=Vm.resolve(Vm.dirname(__filename),"..","..",".gitcommit");m.jsDebugCommitId=UT.readFileSync(y,"utf8")}catch{}}return{breakpointStats:a,statistics:u,browserVersion:o,cdpOperation:n,dapOperation:i,error:s,launch:l,nodeRuntime:c,diagnosticPrompt:p,setGlobalMetric:(m,y)=>{e[m]=y}}};var af=class{constructor(e=!0){this.isVSCode=e;this.measurements=Object.create(null)}add(e,r,i){let n=this.measurements[e];n||(n=this.measurements[e]={times:[],errors:[]}),n.times.push(r),i&&n.errors.push(i)}flush(){let e={errors:[]};for(let r in this.measurements){let{times:i,errors:n}=this.measurements[r],s={operation:r,totalTime:0,max:0,avg:0,stddev:0,count:i.length,failed:n.length};for(let o of i)s.totalTime+=o,s.max=Math.max(s.max,o);s.avg=s.totalTime/s.count;for(let o of i)s.stddev+=(o-s.avg)**2;s.stddev=Math.sqrt(s.stddev/(i.length-1)),e[s.operation]=s,e[`!${s.operation}.errors`]=n,this.isVSCode||(e[`${s.operation}.errors`]=n)}return this.measurements=Object.create(null),e}};var Nn=class{constructor(e=!0){this.isVsCode=e;this.target=[];this.flushEmitter=new J;this.loggers=jT(e=>this.pushOutput(e));this.batchFlushTimeout={};this.batchers={dapOperation:new af(this.isVsCode),cdpOperation:new af(this.isVsCode)};this.onFlush=this.flushEmitter.event;this.setGlobalMetric=this.loggers.setGlobalMetric}report(e,...r){let i=this.loggers[e];i(...r)}reportOperation(e,r,i,n){this.batchers[e].add(r,i,n),this.batchFlushTimeout[e]===void 0&&(this.batchFlushTimeout[e]=setTimeout(()=>{this.report(e,this.batchers[e].flush()),this.batchFlushTimeout[e]=void 0},Nn.batchFlushInterval))}attachDap(e){this.target instanceof Array&&this.target.forEach(r=>e.output(r)),this.target=e}flush(){this.flushEmitter.fire();let e=Object.entries(this.batchFlushTimeout);for(let[r,i]of e){let n=this.batchers[r].flush();n.length&&this.report(r,n),this.batchFlushTimeout[r]=void 0,clearTimeout(i)}}dispose(){for(let e of Object.values(this.batchFlushTimeout))e&&clearTimeout(e)}pushOutput(e){e.data=q_(e.data),this.target instanceof Array?this.target.push(e):this.target.output(e)}};Nn.batchFlushInterval=5e3,Nn=z([(0,Gm.injectable)(),x(0,(0,Gm.inject)(_c))],Nn);var q_=t=>typeof t=="number"?Number(t.toFixed(1)):typeof t!="object"||!t?t:t instanceof Error?W_(t):t instanceof Array?t.map(q_):ls(t,q_),qT=/(?:[A-z]:)?(?:[\\/][^:]*)+[\\/]([^:]*:)/g;function W_(t){let e=String(t.message),r=String(t.name);qT.lastIndex=0;let i=typeof t.stack=="string"?t.stack.replace(qT,"$1"):void 0;return{error:{message:e,name:r,stack:i}}}var Ho=Symbol("IScriptSkipper");function WT(t){return typeof t.lineNumber=="number"&&typeof t.columnNumber=="number"&&!!t.source}var VT=()=>({source:null,line:null,column:null,name:null,lastColumn:null,isSourceMapLoadFailure:!0}),DX=/\?t=[0-9]+$/,TX=t=>t.endsWith(".hot-update.js")||DX.test(t),$X={load:0,resolveLocation:2e3,sourceMapMinPause:1e3,output:1e3,sourceMapCumulativePause:1e4},wc=class{constructor(e,r,i,n,s,o,a,u){this.url=r;this.inlineScriptOffset=o;this.runtimeScriptOffset=a;this.contentHash=u;this._scripts=[];this.sourceReference=e.getSourceReference(r),this._contentGetter=Pe(n),this._container=e,this.absolutePath=i||"",this._fqname=this._fullyQualifiedName(),this._name=this._humanName(),this.setSourceMapUrl(s),this._existingAbsolutePath=this.checkContentHash(u)}checkContentHash(e){return hT(this.absolutePath,this.inlineScriptOffset||this.runtimeScriptOffset?void 0:e,this._container._fileContentOverridesForTest.get(this.absolutePath))}offsetScriptToSource(e){return this.runtimeScriptOffset?{...e,lineNumber:e.lineNumber-this.runtimeScriptOffset.lineOffset,columnNumber:e.columnNumber-this.runtimeScriptOffset.columnOffset}:e}offsetSourceToScript(e){return this.runtimeScriptOffset?{...e,lineNumber:e.lineNumber+this.runtimeScriptOffset.lineOffset,columnNumber:e.columnNumber+this.runtimeScriptOffset.columnOffset}:e}setSourceMapUrl(e){if(!e){this.sourceMap=void 0;return}this.sourceMap={url:e,sourceByUrl:new Map,metadata:{sourceMapUrl:e,compiledPath:this.absolutePath||this.url}}}addScript(e){this._scripts.push(e)}filterScripts(e){this._scripts=this._scripts.filter(e)}get scripts(){return this._scripts}get getSuggestedMimeType(){if(!/\.[^/]+$/.test(this.url)||this.url.includes("?"))return"text/javascript"}async content(){var r;let e=await this._contentGetter();return(r=this.inlineScriptOffset)!=null&&r.lineOffset&&(e=`
`.repeat(this.inlineScriptOffset.lineOffset)+e),e}async prettyPrint(){var c,l;if(!this._container)return;if(Er(this)&&this.sourceMap.url.endsWith("-pretty.map")){let p=(l=this._container._sourceMaps.get((c=this.sourceMap)==null?void 0:c.url))==null?void 0:l.map;return p&&{map:p,source:[...this.sourceMap.sourceByUrl.values()][0]}}let e=await this.content();if(!e)return;let r=this.url||`eval://${this.sourceReference}.js`,i=r+"-pretty.map",s=r.split(/[\/\\]/).pop()+"-pretty.js",o=await RD(s,e,r,i);if(!o)return;this.setSourceMapUrl(i);let a=this,u={compiled:new Set([a]),map:o,loaded:Promise.resolve()};return this._container._sourceMaps.set(i,u),await this._container._addSourceMapSources(a,o),{map:o,source:[...a.sourceMap.sourceByUrl.values()][0]}}async toDap(){return this.toDapShallow()}async toDapShallow(){let e=await this._existingAbsolutePath,r={name:this._name,path:this._fqname,sourceReference:this.sourceReference,presentationHint:this.blackboxed()?"deemphasize":void 0,origin:this.blackboxed()?zT.t("Skipped by skipFiles"):void 0};return e&&(r.sourceReference=0,r.path=e),r}existingAbsolutePath(){return this._existingAbsolutePath}async prettyName(){let e=await this._existingAbsolutePath;return e||this._fqname}_humanName(){if(dr(this._fqname)){for(let e of this._container.rootPaths)if($D(e,this._fqname))return pt((0,JT.relative)(e,this._fqname))}return this._fqname}_fullyQualifiedName(){var i;if(!this.url)return"<eval>/VM"+this.sourceReference;if(this.url.endsWith(".repl"))return"repl";if(this.absolutePath.startsWith("<node_internals>"))return this.absolutePath;if(dr(this.url))return this.url;let e=Ht(this.url);if(e)return e;let r=this.url;try{let n=[],s=new YT.URL(this.url);if(s.protocol==="data:")return"<eval>/VM"+this.sourceReference;s.hostname&&n.push(s.hostname),s.port&&n.push("\uA789"+s.port),s.pathname&&n.push(/^\/[a-z]:/.test(s.pathname)?s.pathname.slice(1):s.pathname);let o=(i=s.searchParams)==null?void 0:i.toString();o&&n.push("?"+o),r=n.join("")}catch{}return r.endsWith("/")&&(r+="(index)"),this.inlineScriptOffset&&(r+=`\uA789${this.inlineScriptOffset.lineOffset+1}:${this.inlineScriptOffset.columnOffset+1}`),r}blackboxed(){return this._container.isSourceSkipped(this.url)}},Nt=class extends wc{constructor(){super(...arguments);this.compiledToSourceUrl=new Map}},uf=class extends wc{constructor(r,i,n,s){super(r,i,n,Pe(()=>this.getContent()),void 0,void 0,void 0,void 0);this.url=i;this.cdp=s;this._offsetsAssembled=je();this.offsetsAssembled=this._offsetsAssembled.promise}checkContentHash(){return Promise.resolve(void 0)}get getSuggestedMimeType(){return"text/wat"}addScript(r){let i=this.scripts.length;super.addScript(r),i||this.assembleOffsets().finally(()=>this._offsetsAssembled.resolve())}offsetScriptToSource(r){return this.byteOffsetsOfLines?{...r,columnNumber:1,lineNumber:YD(this.byteOffsetsOfLines,r.columnNumber,(i,n)=>i-n)}:r}offsetSourceToScript(r){return this.byteOffsetsOfLines?{...r,lineNumber:1,columnNumber:this.byteOffsetsOfLines[r.lineNumber-1]||1}:r}async assembleOffsets(){for await(let r of this.getDisassembledStream()){let i;if(this.byteOffsetsOfLines){let n=new Uint32Array(this.byteOffsetsOfLines.length+r.lines.length);i=this.byteOffsetsOfLines.length,n.set(this.byteOffsetsOfLines),this.byteOffsetsOfLines=n}else this.byteOffsetsOfLines=new Uint32Array(r.lines.length),i=0;for(let n=0;n<r.lines.length;n++)this.byteOffsetsOfLines[i+n]=r.bytecodeOffsets[n]}}async getContent(){let r="";for await(let i of this.getDisassembledStream())r+=i.lines.join(`
`);return r}async*getDisassembledStream(){if(!this.scripts.length)return;let{scriptId:r}=this.scripts[0],i=await this.cdp.Debugger.disassembleWasmModule({scriptId:r});if(i)for(yield i.chunk;i.streamId;){let n=await this.cdp.Debugger.nextWasmDisassemblyChunk({streamId:i.streamId});if(!n)return;yield n.chunk}}},Er=t=>!!t&&t instanceof wc&&!!t.sourceMap,GT=(t,e)=>e instanceof Nt&&e.compiledToSourceUrl.has(t);var KT=2**31-1,Xt=class{constructor(e,r,i,n,s,o,a,u,c){this.cdp=r;this.sourceMapFactory=i;this.logger=n;this.launchConfig=s;this.initializeConfig=o;this.sourcePathResolver=a;this.scriptSkipper=u;this.resourceProvider=c;this.rootPaths=[];this.scriptsById=new Map;this.onSourceMappedSteppingChangeEmitter=new J;this.onScriptEmitter=new J;this._sourceByOriginalUrl=new Tn(e=>e.toLowerCase());this._sourceByReference=new Map;this._sourceMapSourcesByUrl=new Map;this._sourceByAbsolutePath=xa();this._sourceMaps=new Map;this._sourceMapTimeouts=$X;this._fileContentOverridesForTest=new Map;this._temporarilyDisabledSourceMaps=new Set;this._permanentlyDisabledSourceMaps=new Set;this.onScript=this.onScriptEmitter.event;this._statistics={fallbackSourceMapCount:0};this._doSourceMappedStepping=this.launchConfig.sourceMaps;this.onSourceMappedSteppingChange=this.onSourceMappedSteppingChangeEmitter.event;this._dap=e;let l="webRoot"in s?s.webRoot:s.rootPath;l&&(this.rootPaths=[l,Jr(l,"..","ClientApp")]),u.setSourceContainer(this),this.setSourceMapTimeouts({...this.sourceMapTimeouts(),...s.timeouts})}get sources(){return this._sourceByReference.values()}statistics(){return this._statistics}get doSourceMappedStepping(){return this._doSourceMappedStepping}set doSourceMappedStepping(e){e!==this._doSourceMappedStepping&&(this._doSourceMappedStepping=e,this.onSourceMappedSteppingChangeEmitter.fire(e))}setSourceMapTimeouts(e){this._sourceMapTimeouts=e}sourceMapTimeouts(){return this._sourceMapTimeouts}setFileContentOverrideForTest(e,r){r===void 0?this._fileContentOverridesForTest.delete(e):this._fileContentOverridesForTest.set(e,r)}async loadedSources(){let e=[];for(let r of this._sourceByReference.values())e.push(r.toDap());return await Promise.all(e)}source(e){if(e.sourceReference)return this._sourceByReference.get(e.sourceReference);if(e.path)return this._sourceByAbsolutePath.get(e.path)}isSourceSkipped(e){return this.scriptSkipper.isScriptSkipped(e)}addScriptById(e){this.scriptsById.set(e.scriptId,e),this.onScriptEmitter.fire(e)}getScriptById(e){return this.scriptsById.get(e)}getSourceByOriginalUrl(e){return this._sourceByOriginalUrl.get(e)}getSourceReference(e){let r=(0,XT.xxHash32)(e)&KT;for(let i=0;i<65535;i++){if(!this._sourceByReference.has(r))return r;r===KT&&(r=0),r++}return this.logger.assert(!1,"Max iterations exceeding for source reference assignment"),r}async preferredUiLocation(e){let r=!1,i=4;if(this._doSourceMappedStepping)for(;Er(e.source);){let n=this._sourceMaps.get(e.source.sourceMap.url);if(!this.logger.assert(n,`Expected to have sourcemap for loaded source ${e.source.sourceMap.url}`))break;if(await Promise.race([n.loaded,ke(this._sourceMapTimeouts.resolveLocation)]),!n.map)return{...e,isMapped:r,unmappedReason:i};let s=this._sourceMappedUiLocation(e,n.map);if(!WT(s)){i=r?void 0:s;break}e=s,r=!0,i=void 0}return{...e,isMapped:r,unmappedReason:i}}currentSiblingUiLocations(e,r){return this._uiLocations(e).filter(i=>!r||i.source===r)}clear(e){this.scriptsById.clear();for(let r of this._sourceByReference.values())this.removeSource(r,e);this._sourceByReference.clear(),this.sourceMapFactory instanceof ho&&this.sourceMapFactory.invalidateCache()}_uiLocations(e){return[...this.getSourceMapUiLocations(e),e,...this.getCompiledLocations(e)]}getSourceMapUiLocations(e){var s;if(!Er(e.source)||!this._doSourceMappedStepping)return[];let r=(s=this._sourceMaps.get(e.source.sourceMap.url))==null?void 0:s.map;if(!r)return[];let i=this._sourceMappedUiLocation(e,r);if(!WT(i))return[];let n=this.getSourceMapUiLocations(i);return n.push(i),n}_sourceMappedUiLocation(e,r){let i=e.source;if(!Er(i))return 1;if(this._temporarilyDisabledSourceMaps.has(i)||this._permanentlyDisabledSourceMaps.has(i))return 0;let n=this.getOptiminalOriginalPosition(r,kX(e,i.inlineScriptOffset));if("isSourceMapLoadFailure"in n)return 2;if(!n.source)return 3;let s=i.sourceMap.sourceByUrl.get(n.source);return s?{lineNumber:n.line||1,columnNumber:n.column?n.column+1:1,source:s}:3}getCompiledLocations(e){if(!(e.source instanceof Nt))return[];let r=[];for(let[i,n]of e.source.compiledToSourceUrl){let s=this._sourceMaps.get(i.sourceMap.url);if(!s||!s.map)continue;let o=this.sourceMapFactory.guardSourceMapFn(s.map,()=>Im(n,e,s.map),VT);if(!o)continue;let{lineNumber:a,columnNumber:u}=MX({lineNumber:o.line||1,columnNumber:(o.column||0)+1},i.inlineScriptOffset),c={lineNumber:a,columnNumber:u,source:i};r=r.concat(c,this.getCompiledLocations(c))}return r}getOptiminalOriginalPosition(e,r){return this.sourceMapFactory.guardSourceMapFn(e,()=>{let i=e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:V_.SourceMapConsumer.GREATEST_LOWER_BOUND});return i.line!==null?i:e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:V_.SourceMapConsumer.LEAST_UPPER_BOUND})},VT)}async addSource(e,r,i,n,s,o){let a=await this.sourcePathResolver.urlToAbsolutePath({url:e.url});this.logger.verbose("runtime.sourcecreate","Creating source from url",{inputUrl:e.url,absolutePath:a});let u;return e.scriptLanguage==="WebAssembly"?u=new uf(this,e.url,a,this.cdp):u=new wc(this,e.url,a,r,i&&this.sourcePathResolver.shouldResolveSourceMap({sourceMapUrl:i,compiledPath:a||e.url})?i:void 0,n,s,o),this._addSource(u),u}async _addSource(e){let r=e.url&&this._sourceByOriginalUrl.get(e.url);r&&!GT(r,e)&&this.removeSource(r,!0),this._sourceByOriginalUrl.set(e.url,e),this._sourceByReference.set(e.sourceReference,e),e instanceof Nt&&this._sourceMapSourcesByUrl.set(e.url,e);let i=this._sourceByAbsolutePath.get(e.absolutePath);if((i===void 0||i.url.length>=e.url.length||GT(i,e))&&this._sourceByAbsolutePath.set(e.absolutePath,e),this.scriptSkipper.initializeSkippingValueForSource(e),e.toDap().then(u=>this._dap.loadedSource({reason:"new",source:u})),!Er(e))return;let n=this._sourceMaps.get(e.sourceMap.url);if(n){n.compiled.add(e),n.map&&await this._addSourceMapSources(e,n.map);return}let s=je(),o={compiled:new Set([e]),loaded:s.promise};this._sourceMaps.set(e.sourceMap.url,o);try{o.map=await this.sourceMapFactory.load(e.sourceMap.metadata)}catch(u){if(this.initializeConfig.clientID==="visualstudio"){let c=e.sourceMap.metadata.sourceMapUrl;try{let l=await this.sourcePathResolver.urlToAbsolutePath({url:c});l&&(e.sourceMap.metadata.sourceMapUrl=We(l)),o.map=await this.sourceMapFactory.load(e.sourceMap.metadata),this._statistics.fallbackSourceMapCount++,this.logger.info("sourcemap.parsing","Failed to process original source-map; falling back to storage source-map",{fallbackSourceMapUrl:e.sourceMap.metadata.sourceMapUrl,originalSourceMapUrl:c,originalSourceMapError:W_(u)})}catch{}}if(!o.map)return this._dap.output({output:jm(e.url,u.message).error.format+`
`,category:"stderr"}),s.resolve()}if(this._sourceMaps.get(e.sourceMap.url)!==o)return s.resolve();this.logger.verbose("sourcemap.parsing","Creating sources from source map",{sourceMapId:o.map.id,metadata:o.map.metadata});let a=[];for(let u of o.compiled)a.push(this._addSourceMapSources(u,o.map));await Promise.all(a),this.scriptSkipper.initializeSkippingValueForSource(e),s.resolve()}removeSource(e,r=!1){let i=this._sourceByReference.get(e.sourceReference);if(i===void 0)return;if(this.logger.assert(e===i,"Expected source to be the same as the existing reference"),this._sourceByReference.delete(e.sourceReference),this._sourceByOriginalUrl.get(e.url)===e&&this._sourceByOriginalUrl.delete(e.url),e instanceof Nt){this._sourceMapSourcesByUrl.delete(e.url);for(let[s,o]of e.compiledToSourceUrl)s.sourceMap.sourceByUrl.delete(o)}if(this._sourceByAbsolutePath.delete(e.absolutePath),Er(e)&&(this._permanentlyDisabledSourceMaps.delete(e),this._temporarilyDisabledSourceMaps.delete(e)),r||e.toDap().then(s=>this._dap.loadedSource({reason:"removed",source:s})),!Er(e))return;let n=this._sourceMaps.get(e.sourceMap.url);this.logger.assert(n,`Source map missing for ${e.sourceMap.url} in removeSource()`)&&(this.logger.assert(n.compiled.has(e),`Source map ${e.sourceMap.url} does not contain source ${e.url}`),n.compiled.delete(e),n.compiled.size||(n.map&&n.map.destroy(),this._sourceMaps.delete(e.sourceMap.url)),n.map&&this._removeSourceMapSources(e,n.map,r))}async _addSourceMapSources(e,r){let i=[];for(let n of r.sources){let s=await this.sourcePathResolver.urlToAbsolutePath({url:n,map:r}),o=s?We(s):r.computedSourceUrl(n),a=this._sourceMapSourcesByUrl.get(o);if(e===a)continue;if(a)if(TX(e.url))this.removeSource(a);else{a.compiledToSourceUrl.set(e,n),e.sourceMap.sourceByUrl.set(n,a);continue}this.logger.verbose("runtime.sourcecreate","Creating source from source map",{inputUrl:n,sourceMapId:r.id,absolutePath:s,resolvedUrl:o});let u=s&&We(s),c=this.sourceMapFactory.guardSourceMapFn(r,()=>r.sourceContentFor(n,!0),()=>null),l;if(c){let f=cc(c);if(f&&(!rr(f)&&s?l=uo(s?We(s):n,f):l=f),s&&l){let H={sourceMapUrl:l,compiledPath:s};this.sourcePathResolver.shouldResolveSourceMap(H)||(l=void 0)}}let p=new Nt(this,o,s,c!==null?()=>Promise.resolve(c):u?()=>this.resourceProvider.fetch(u).then(f=>f.body):()=>e.content(),l,void 0,e.runtimeScriptOffset);p.compiledToSourceUrl.set(e,n),e.sourceMap.sourceByUrl.set(n,p),i.push(this._addSource(p))}await Promise.all(i)}_removeSourceMapSources(e,r,i){for(let n of r.sources){let s=e.sourceMap.sourceByUrl.get(n);s&&(e.sourceMap.sourceByUrl.delete(n),s.compiledToSourceUrl.delete(e),!s.compiledToSourceUrl.size&&this.removeSource(s,i))}}async waitForSourceMapSources(e){if(!Er(e))return[];let r=this._sourceMaps.get(e.sourceMap.url);return this.logger.assert(r,"Unrecognized source map url in waitForSourceMapSources()")?(await r.loaded,[...e.sourceMap.sourceByUrl.values()]):[]}async revealUiLocation(e){this._dap.revealLocationRequested({source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber})}disableSourceMapForSource(e,r=!1){r?this._permanentlyDisabledSourceMaps.add(e):this._temporarilyDisabledSourceMaps.add(e)}clearDisabledSourceMaps(e){e?this._temporarilyDisabledSourceMaps.delete(e):this._temporarilyDisabledSourceMaps.clear()}};Xt=z([(0,vi.injectable)(),x(0,(0,vi.inject)(bi)),x(1,(0,vi.inject)(ft)),x(2,(0,vi.inject)(Rn)),x(3,(0,vi.inject)(le)),x(4,(0,vi.inject)(Ve)),x(5,(0,vi.inject)(hr)),x(6,(0,vi.inject)(et)),x(7,(0,vi.inject)(Ho)),x(8,(0,vi.inject)(Pa))],Xt);function MX(t,e){if(!e)return t;let{lineNumber:r,columnNumber:i}=t;return e&&(r+=e.lineOffset,r<=1&&(i+=e.columnOffset)),{...t,lineNumber:r,columnNumber:i}}function kX(t,e){if(!e)return t;let{lineNumber:r,columnNumber:i}=t;return e&&(r=Math.max(1,r-e.lineOffset),r<=1&&(i=Math.max(1,i-e.columnOffset))),{...t,lineNumber:r,columnNumber:i}}var QT=t=>({lineNumber:t.lineNumber+1,columnNumber:t.columnNumber+1}),go=t=>({lineNumber:t.lineNumber-1,columnNumber:t.columnNumber-1});var ZT=/[$a-z_][$0-9A-Z_$]*/iy,yo=Symbol("IRenameProvider"),Ic=class{constructor(e,r){this.sourceMapFactory=e;this.launchConfig=r;this.renames=new Map}provideOnStackframe(e){if(!this.launchConfig.sourceMapRenames)return Ji.None;let r=e.uiLocation();return r===void 0?Ji.None:"then"in r?r.then(i=>this.provideForSource(i==null?void 0:i.source)):this.provideForSource(r==null?void 0:r.source)}provideForSource(e){if(!this.launchConfig.sourceMapRenames||!(e instanceof Nt))return Ji.None;let r=e.compiledToSourceUrl.keys().next().value;if(!r)throw new Error("unreachable");let i=this.renames.get(r.url);if(i)return i;let n=this.sourceMapFactory.load(r.sourceMap.metadata).then(async s=>{if(!(s!=null&&s.hasNames))return Ji.None;let o=await r.content();return o?this.createFromSourceMap(s,o):Ji.None}).catch(()=>Ji.None);return this.renames.set(r.url,n),n}createFromSourceMap(e,r){let i=new co(r),n=[];return e.eachMapping(s=>{if(!s.name)return;let o=new ku(s.generatedLine,s.generatedColumn),a=i.convert(o);ZT.lastIndex=a;let u=ZT.exec(r);u&&n.push({compiled:u[0],original:s.name,position:o})}),n.sort((s,o)=>s.position.compare(o.position)),new Ji(n)}};Ic=z([(0,cf.injectable)(),x(0,(0,cf.inject)(Rn)),x(1,(0,cf.inject)(Ve))],Ic);var G_=class{constructor(e){this.renames=e}getOriginalName(e,r){var i;return(i=this.getClosestRename(r,n=>n.compiled===e))==null?void 0:i.original}getCompiledName(e,r){var i;return(i=this.getClosestRename(r,n=>n.original===e))==null?void 0:i.compiled}getClosestRename(e,r){let i=e.base01,n;for(let s of this.renames){if(!r(s))continue;if(!(s.position.compare(i)<0)&&n)return n;n=s}return n}},Ji=G_;Ji.None=new G_([]);var xr=Symbol("ITelemetryReporter");var e$=U(pe());var bo=Symbol("IShutdownParticipants"),Ac=class{constructor(){this.participants=[]}register(e,r){if(this.shutdownStage!==void 0&&this.shutdownStage>=e)return r(),$u;for(;this.participants.length<=e;)this.participants.push(new Set);return this.participants[e].add(r),{dispose:()=>this.participants[e].delete(r)}}async shutdown(){for(this.shutdownStage=0;this.shutdownStage<this.participants.length;this.shutdownStage++)await Promise.all([...this.participants[this.shutdownStage]].map(e=>e()))}};Ac=z([(0,e$.injectable)()],Ac);var qn=U(pe());var Km=class{constructor(e=!1,r=!1){this.verified=e;this.hit=r}},zm=class{constructor(){this._statisticsById=new Map}registerBreakpoints(e){e.forEach(r=>{r.id!==void 0&&!this._statisticsById.has(r.id)&&this._statisticsById.set(r.id,new Km(r.verified,!1))})}registerResolvedBreakpoint(e){this.getStatistics(e).verified=!0}registerBreakpointHit(e){this.getStatistics(e).hit=!0}getStatistics(e){let r=this._statisticsById.get(e);if(r!==void 0)return r;{let i=new Km;return this._statisticsById.set(e,i),i}}statistics(){let e=0,r=0,i=0;for(let n of this._statisticsById.values())e++,n.hit&&i++,n.verified&&r++;return{set:e,verified:r,hit:i}}};var Xm=async(t,e,r,i={})=>{let n=Date.now();try{return await r()}finally{t.verbose("perf.function","",{method:e,duration:Date.now()-n,...i})}};var pf=w("fs"),Jt=U(pe()),Jm=U(w("path"));var Ma=U(pe()),lf=U(w("path"));var Sc=class{get empty(){return this.patterns.length===0}constructor({rootPath:e,patterns:r}){!e||!r?(this.rootPath="",this.patterns=[]):(this.rootPath=e,this.patterns=r.map(i=>{let n=i.startsWith("!");return{negated:n,pattern:i.slice(n?1:0)}}))}*explode(){for(let e=0;e<this.patterns.length;e++){let{negated:r,pattern:i}=this.patterns[e];if(r)continue;let n=lf.resolve(this.rootPath,i).split(/[\\/]/g),s=n.findIndex(u=>u.includes("*"));if(s===-1){yield{cwd:n.slice(0,-1).join("/"),pattern:n[n.length-1],negations:[]};continue}let o=n.slice(0,s).join("/"),a=[];for(let u=e+1;u<this.patterns.length;u++){let{negated:c,pattern:l}=this.patterns[u];if(c)if(l.startsWith("**"))a.push(pt(l));else{let p=lf.relative(o,lf.resolve(this.rootPath,l));p.startsWith("..")||a.push(pt(p))}}yield{cwd:o,negations:a,pattern:n.slice(s).join("/")}}}};Sc=z([(0,Ma.injectable)()],Sc);var Bn=class extends Sc{constructor({rootPath:e,outFiles:r}){super({rootPath:e,patterns:r})}};Bn=z([(0,Ma.injectable)(),x(0,(0,Ma.inject)(Ve))],Bn);var bs=class extends Sc{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};bs=z([(0,Ma.injectable)(),x(0,(0,Ma.inject)(Ve))],bs);var t$=w("path");var Ec=Symbol("ISearchStrategy"),qme=Symbol("ISearchStrategyFallback"),r$=async(t,e,r)=>{let i,s=`${(0,t$.basename)(t)}.map`;if(e.siblings.includes(s)&&(i=s),i||(typeof r>"u"&&(r=await SD(t)),i=cc(r)),!(!i||(rr(i)||(i=uo(We(t),i)),!i))&&!(!i.startsWith("data:")&&!i.startsWith("file://")))return{compiledPath:t,sourceMapUrl:i,cacheKey:e.mtime}};var K_=Symbol("InlineSourceMapUrl"),i$=10*1e3,ka=class{constructor(e){e.__workspaceCachePath&&(this.path=Jm.join(e.__workspaceCachePath,"bp-predict.json"))}async load(){if(this.value||!this.path)return this.value;try{this.value=JSON.parse(await pf.promises.readFile(this.path,"utf-8"))}catch{}return this.value}async store(e){this.value=e,this.path&&(await pf.promises.mkdir(Jm.dirname(this.path),{recursive:!0}),await pf.promises.writeFile(this.path,JSON.stringify(e)))}};ka=z([(0,Jt.injectable)(),x(0,(0,Jt.inject)(Ve))],ka);var Fn=class{constructor(e,r,i,n,s,o){this.outFiles=e;this.repo=r;this.logger=i;this.sourceMapFactory=n;this.sourcePathResolver=s;this.state=o}async createMapping(e){if(this.outFiles.empty)return new Map;let r=xa(),i=await this.state.load();try{let{state:n}=await this.repo.streamChildrenWithSourcemaps({files:this.outFiles,processMap:async s=>{let o=[],a=await this.sourceMapFactory.load(s);for(let u of a.sources){let c=this.sourcePathResolver?await this.sourcePathResolver.urlToAbsolutePath({url:u,map:a}):Ht(u);c&&o.push({...s,sourceMapUrl:rr(s.sourceMapUrl)?{[K_]:s.sourceMapUrl}:s.sourceMapUrl,resolvedPath:c,sourceUrl:u})}return{discovered:o,compiledPath:vt(s.compiledPath)}},onProcessedMap:({discovered:s})=>{for(let o of s){let a=r.get(o.resolvedPath);a||(a=new Set,r.set(o.resolvedPath,a)),a.add(o)}},lastState:i,...e});n&&this.state.store(n).catch(s=>this.logger.warn("runtime.exception","Error saving sourcemap cache",{error:s}))}catch(n){this.logger.warn("runtime.exception","Error reading sourcemaps from disk",{error:n})}return r}};Fn=z([(0,Jt.injectable)(),x(0,(0,Jt.inject)(Bn)),x(1,(0,Jt.inject)(Ec)),x(2,(0,Jt.inject)(le)),x(3,(0,Jt.inject)(Rn)),x(4,(0,Jt.inject)(et)),x(5,(0,Jt.inject)(ka))],Fn);var xc=class extends Fn{async getMetadataForPaths(r){this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping());let i=await this.sourcePathToCompiled;return r.map(n=>i.get(n))}async createInitialMapping(){return Xm(this.logger,"BreakpointsPredictor.createInitialMapping",()=>this.createMapping())}};xc=z([(0,Jt.injectable)()],xc);var Cc=class extends Fn{constructor(){super(...arguments);this.sourcePathToCompiled=new Map}async getMetadataForPaths(r){let i=r.map(o=>this.sourcePathToCompiled.get(o)),n=r.map((o,a)=>a).filter(o=>!i[o]);if(n.length){let o=new Set(n.map(u=>vt(r[u]))),a=this.createMapping({filter:(u,c)=>!c||c.discovered.some(l=>o.has(l.resolvedPath))});for(let u of n)this.sourcePathToCompiled.set(r[u],a),i[u]=a}return await Promise.all(i.map(async(o,a)=>(await o).get(r[a])))}};Cc=z([(0,Jt.injectable)()],Cc);var Oa=Symbol("IBreakpointsPredictor"),Ra=class{constructor(e,r,i,n){this.bpSearch=e;this.outFiles=r;this.logger=i;this.sourceMapFactory=n;this.predictedLocations=new Map;this.longParseEmitter=new J;this.targetedMode=!1;this.onLongParse=this.longParseEmitter.event}async predictBreakpoints(e){var n;if(!e.source.path||!((n=e.breakpoints)!=null&&n.length))return;let r=await this.getMetadataForPaths([e.source.path]).then(s=>s[0]);if(!r)return;let i=async(s,o,a)=>{let u=typeof a.sourceMapUrl=="string"?a.sourceMapUrl:a.sourceMapUrl.hasOwnProperty(K_)?a.sourceMapUrl[K_]:await pf.promises.readFile(a.compiledPath,"utf8").then(cc);if(!u)return[];let c=await this.sourceMapFactory.load({...a,sourceMapUrl:u}),l=this.sourceMapFactory.guardSourceMapFn(c,()=>Im(a.sourceUrl,{lineNumber:s,columnNumber:o||1},c),()=>null);if(!l||l.line===null)return[];let p=await this.getMetadataForPaths([a.compiledPath]).then(f=>f[0]);return p?(await Promise.all([...p].map(H=>i(l.line,l.column,H)))).flat():[{absolutePath:a.compiledPath,lineNumber:l.line||1,columnNumber:l.column?l.column+1:1}]};for(let s of e.breakpoints??[]){let o=`${e.source.path}:${s.line}:${s.column||1}`;if(this.predictedLocations.has(o))return;let a=[];this.predictedLocations.set(o,a);for(let u of r)a.push(...await i(s.line,s.column||0,u))}}async getPredictionForSource(e){return this.getMetadataForPaths([e]).then(r=>r[0])}async getMetadataForPaths(e){let r=setTimeout(()=>{this.longParseEmitter.fire(),this.logger.warn("runtime.sourcemap","Long breakpoint predictor runtime",{longPredictionWarning:i$,patterns:[...this.outFiles.explode()].join(", ")})},i$),i=await this.bpSearch.getMetadataForPaths(e);return clearTimeout(r),i}predictedResolvedLocations(e){let r=`${e.absolutePath}:${e.lineNumber}:${e.columnNumber||1}`;return this.predictedLocations.get(r)??[]}};Ra=z([(0,Jt.injectable)(),x(0,(0,Jt.inject)(Fn)),x(1,(0,Jt.inject)(Bn)),x(2,(0,Jt.inject)(le)),x(3,(0,Jt.inject)(Rn))],Ra);var $c=U(pe());var s$=w("crypto"),o$=U(nm()),ff=U(pe());var vs="$returnValue",RX="__js_debug_hoisted_",n$=()=>RX+(0,s$.randomBytes)(8).toString("hex"),_i=Symbol("IEvaluator"),Lc=class{constructor(e,r){this.cdp=e;this.renameProvider=r}get hasReturnValue(){return!!this.returnValue}setReturnedValue(e){this.returnValue=e}prepare(e,{isInternalScript:r,hoist:i,renames:n}={}){r!==!1&&(e+=Dt());let s=new Map;s.set(vs,n$());for(let u of i??[])s.set(u,n$());let{transformed:o,hoisted:a}=this.replaceVariableInExpression(e,s,n);return a.size?{canEvaluateDirectly:!1,invoke:(u,c={})=>Promise.all([...s].map(([l,p])=>this.hoistValue(l===vs?this.returnValue:c[l],p))).then(()=>this.cdp.Debugger.evaluateOnCallFrame({...u,expression:o}))}:{canEvaluateDirectly:!0,invoke:u=>this.cdp.Debugger.evaluateOnCallFrame({...u,expression:o})}}async evaluate(e,r){if(!("callFrameId"in e))return this.cdp.Runtime.evaluate(e);let i=r;if(r!=null&&r.stackFrame){let n=await this.renameProvider.provideOnStackframe(r.stackFrame);i={...i,renames:{mapping:n,position:r.stackFrame.rawPosition}}}return this.prepare(e.expression,i).invoke(e)}async hoistValue(e,r){let i=e==null?void 0:e.objectId,n=`setTimeout(() => { delete globalThis.${r} }, 0)`;i?await this.cdp.Runtime.callFunctionOn({objectId:i,functionDeclaration:`function() { globalThis.${r} = this; ${n}; ${Dt()} }`}):await this.cdp.Runtime.evaluate({expression:`globalThis.${r} = ${JSON.stringify(e==null?void 0:e.value)};${n};`+Dt()})}replaceVariableInExpression(e,r,i){let n=new Set,s=!1,o=(p,f)=>({type:"ConditionalExpression",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:p}},operator:"!==",right:{type:"Literal",value:"undefined"}},consequent:{type:"Identifier",name:p},alternate:f}),a=[],u=no(e),c=(0,o$.replace)(u,{enter(p,f){let H=p;if(p.type!=="Identifier"||e[H.start-1]===".")return;let m=r.get(p.name);if(m)return n.add(p.name),s=!0,this.skip(),v_(p,f)?{type:"Identifier",name:m}:o(m,OX);let y=i==null?void 0:i.mapping.getCompiledName(p.name,i.position);if(y)return s=!0,this.skip(),v_(p,f)?{type:"Identifier",name:y}:o(y,p)},leave:()=>{a.pop()}});if(!s)return{hoisted:n,transformed:e};let l=u.body[u.body.length-1].end;return{hoisted:n,transformed:Hs(c)+e.slice(l)}}};Lc=z([(0,ff.injectable)(),x(0,(0,ff.inject)(ft)),x(1,(0,ff.inject)(yo))],Lc);var OX={type:"Identifier",name:"undefined"};var Pc=class{static parse(e,r,i,n){i&&(r=z_(r));let s=r&&ao(r);if(s)throw new te(fo(e,s.message));let{canEvaluateDirectly:o,invoke:a}=n.prepare(r);return new Pc(o?r:a)}constructor(e){typeof e=="function"?this.invoke=e:this.breakCondition=e}async shouldStayPaused(e){if(!this.invoke)return Promise.resolve(!0);let r=await this.invoke({callFrameId:e.callFrames[0].callFrameId,returnByValue:!0});return(r==null?void 0:r.result.value)===!0}},z_=t=>`(()=>{try{return ${t};}catch(e){console.error(e);return true}})()`;var NX=/^(>|>=|={1,3}|<|<=|%)?\s*([0-9]+)$/,vo=class{constructor(e){this.predicate=e;this.hits=0;this.breakCondition=void 0}shouldStayPaused(){return Promise.resolve(this.predicate(++this.hits))}static parse(e){let r=NX.exec(e);if(!r)throw new te(wT(e));let[,i="=",n]=r,s=i==="%"?`return (numHits % ${n}) === 0;`:i[0]==="="?`return numHits === ${n};`:`return numHits ${i} ${n};`;return new vo(new Function("numHits",s))}};var a$=w("crypto"),Qm=U(pe());var Ym=class{constructor(e){this.invoke=e;this.breakCondition=void 0}async shouldStayPaused(e){return await this.invoke({callFrameId:e.callFrames[0].callFrameId}),!1}};var Dc=class{constructor(e,r){this.breakCondition=r;let i=r&&ao(r);if(i)throw new te(fo(e,i.message))}shouldStayPaused(){return Promise.resolve(!0)}};var _o=class{constructor(e){this.evaluator=e}compile(e,r){let i=this.logMessageToExpression(r),n=ao(i);if(n)throw new te(fo(e,n.message));let{canEvaluateDirectly:s,invoke:o}=this.evaluator.prepare(i);return s?new Dc(e,this.logMessageToExpression(r)):new Ym(o)}serializeLogStatements(e){return FL([],e,!1)}logMessageToExpression(e){let r=c=>c.replace(/%/g,"%%"),i=[],n=[],s=0;for(;;){let c=e.indexOf("{",s);if(c===-1){i.push(r(e.slice(s)));break}i.push(r(e.slice(s,c)));let[l]=am(e.slice(c));if(s=c+l.end,s-1===c+1||e[s-1]!=="}"){i.push(r(e.slice(c,s)));continue}if(l.type!=="BlockStatement")break;n.push(Hs(this.serializeLogStatements(l.body))),i.push("%O")}let a=`console.log(${[JSON.stringify(i.join("")),...n].join(", ")}), false`,u=(0,a$.createHash)("sha1").update(a).digest("hex").slice(0,7);return a+`
//# sourceURL=logpoint-${u}.cdp`}};_o=z([(0,Qm.injectable)(),x(0,(0,Qm.inject)(_i))],_o);var BX=new Dc({line:0},void 0),Zm=Symbol("IBreakpointConditionFactory"),Tc=class{constructor(e,r,i){this.logPointCompiler=e;this.evaluator=r;this.breakOnError=i.__breakOnConditionalError}getConditionFor(e){return e.condition?Pc.parse(e,e.condition,this.breakOnError,this.evaluator):e.logMessage?this.logPointCompiler.compile(e,e.logMessage):e.hitCondition?vo.parse(e.hitCondition):BX}};Tc=z([(0,$c.injectable)(),x(0,(0,$c.inject)(_o)),x(1,(0,$c.inject)(_i)),x(2,(0,$c.inject)(Ve))],Tc);var rH=w("path");var eH=(t,e)=>t.lineNumber===e.lineNumber&&t.columnNumber===e.columnNumber;var tH=t=>!("location"in t),u$=t=>"location"in t,c$=(t,e)=>t.url&&e===t.url||t.urlRegex&&new RegExp(t.urlRegex).test(e),Mc=class{constructor(e,r,i){this._manager=e;this._source=r;this._originalPosition=i;this.isEnabled=!1;this.setInCdpScriptIds=new Set;this.cdpScriptIds=this.setInCdpScriptIds;this.cdpBreakpoints=[];this._cdpIds=new Set}get enabled(){return this.isEnabled}get cdpIds(){return this._cdpIds}get source(){return this._source}get originalPosition(){return this._originalPosition}async updateSourceLocation(e,r){this._source=e,this._originalPosition=r,this.updateCdpRefs(i=>i.map(n=>n.state===1?{...n,uiLocations:this._manager._sourceContainer.currentSiblingUiLocations(r)}:n))}async refreshUiLocations(e){await Promise.all(this.cdpBreakpoints.filter(r=>r.state===1).map(r=>this.updateUiLocations(e,r.cdpId,r.locations)))}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;let r=[this._setPredicted(e)],i=this._manager._sourceContainer.source(this.source);if((!i||!(i instanceof Nt))&&r.push(this._setByPath(e,(i==null?void 0:i.offsetSourceToScript(this.originalPosition))||this.originalPosition)),await Promise.all(r),i&&this.isEnabled){let n=this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:i});await Promise.all(n.map(s=>this._setByUiLocation(e,i.offsetSourceToScript(s))))}}async updateUiLocations(e,r,i){this.updateExistingCdpRef(r,o=>({...o,locations:i}));let n=(await Promise.all(i.map(o=>e.rawLocationToUiLocation(e.rawLocation(o))))).find(o=>!!o);if(!n)return;let s=this._manager._sourceContainer.source(this.source);s&&this.updateExistingCdpRef(r,o=>{let a=this._manager._sourceContainer.currentSiblingUiLocations(n),u=a.filter(c=>c.source===s);return{...o,locations:i,uiLocations:u.length?u:a}})}compare(e){let r=this.originalPosition,i=e.originalPosition;return r.lineNumber!==i.lineNumber?r.lineNumber-i.lineNumber:r.columnNumber-i.columnNumber}async disable(){if(!this.isEnabled)return;this.isEnabled=!1;let e=this.cdpBreakpoints.map(r=>this.removeCdpBreakpoint(r));await Promise.all(e)}async updateForNewLocations(e,r){let i=this._manager._sourceContainer.source(this.source);if(!i)return[];i instanceof uf&&await i.offsetsAssembled;let n=this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:i},await r.source);if(!n.length)return[];let s=[];for(let o of n)s.push(this._setByScriptId(e,r,i.offsetSourceToScript(o)));for(let o of this.cdpBreakpoints){if(!tH(o.args)||!this.breakpointIsForSource(o.args,i))continue;let a=o.args;n.some(u=>u.columnNumber-1===a.columnNumber&&u.lineNumber-1===a.lineNumber)||(this._manager.logger.verbose("runtime.sourcemap","Adjusted breakpoint due to overlaid sourcemap",{url:i.url}),s.push(this.removeCdpBreakpoint(o)))}return await Promise.all(s),n}executionContextWasCleared(){this.updateCdpRefs(e=>e.filter(r=>tH(r.args)))}breakpointIsForSource(e,r){if(c$(e,r.url))return!0;let i=this._manager._sourceContainer.sourcePathResolver.rebaseLocalToRemote(r.absolutePath);return!!c$(e,i)}getBreakCondition(){}updateExistingCdpRef(e,r){this.updateCdpRefs(i=>i.map(n=>n.state!==1||n.cdpId!==e?n:r(n)))}updateCdpRefs(e){let r=this;r.cdpBreakpoints=e(this.cdpBreakpoints);let i=new Set;this.setInCdpScriptIds.clear();for(let n of this.cdpBreakpoints)if(n.state===1){i.add(n.cdpId);for(let s of n.locations)this.setInCdpScriptIds.add(s.scriptId)}this._cdpIds=i}async _setPredicted(e){if(!this.source.path||!this._manager._breakpointsPredictor)return;let r=this._manager._breakpointsPredictor.predictedResolvedLocations({absolutePath:this.source.path,lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber}),i=[];for(let n of r){let s=this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(n.absolutePath);s!==void 0&&(typeof s=="string"?i.push(this._setByUrlRegexp(e,s,n)):i.push(s.then(o=>o?this._setByUrlRegexp(e,o,n):void 0)))}await Promise.all(i)}async _setByUiLocation(e,r){await Promise.all(r.source.scripts.map(i=>this._setByScriptId(e,i,r)))}async _setByPath(e,r){let i=this._manager._sourceContainer.source({path:this.source.path});if(!(i instanceof Nt&&[...i.compiledToSourceUrl.keys()].some(s=>s.absolutePath===this.source.path)))if(this.source.path){let n=await this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(this.source.path);if(!n)return;await this._setByUrlRegexp(e,n,r)}else{let n=this._manager._sourceContainer.source(this.source),s=n==null?void 0:n.url;if(!s)return;await this._setByUrl(e,s,r),this.source.path!==s&&this.source.path!==void 0&&await this._setByUrl(e,We(this.source.path),r)}}hasSetOnLocation(e,r){return this.cdpBreakpoints.find(i=>e.scriptId&&u$(i.args)&&i.args.location.scriptId===e.scriptId&&eH(i.args.location,r)||e.url&&tH(i.args)&&new RegExp(i.args.urlRegex??"").test(e.url)&&eH(i.args,r))}hasSetOnLocationByRegexp(e,r){return this.cdpBreakpoints.find(i=>{if(tH(i.args))return i.args.urlRegex===e&&eH(i.args,r);let n=this._manager._sourceContainer.getScriptById(i.args.location.scriptId);if(n)return eH(i.args.location,r)&&new RegExp(e).test(n.url)})}async _setByUrl(e,r,i){return this._setByUrlRegexp(e,Fr(r),i)}async _setByUrlRegexp(e,r,i){i=go(i);let n=this.hasSetOnLocationByRegexp(r,i);if(n){n.state===0&&await n.done;return}return this._setAny(e,{urlRegex:r,condition:this.getBreakCondition(),...i})}async _setByScriptId(e,r,i){i=go(i);let n=this.hasSetOnLocation(r,i);if(n){n.state===0&&await n.done;return}return this._setAny(e,{condition:this.getBreakCondition(),location:{scriptId:r.scriptId,...i}})}async _setAny(e,r){if(!this.isEnabled)return;let i={state:0,args:r,deadletter:!1};i.done=(async()=>{let n=u$(r)?await e.cdp().Debugger.setBreakpoint(r):await e.cdp().Debugger.setBreakpointByUrl(r);if(!n)return;if(i.deadletter){await e.cdp().Debugger.removeBreakpoint({breakpointId:n.breakpointId});return}let s="actualLocation"in n?[n.actualLocation]:n.locations;this._manager._resolvedBreakpoints.set(n.breakpointId,this);let o={state:1,cdpId:n.breakpointId,args:r,locations:s,uiLocations:[]};return this.updateCdpRefs(a=>a.map(u=>u===i?o:u)),await this.updateUiLocations(e,n.breakpointId,s),o})(),this.updateCdpRefs(n=>[...n,i]),await i.done}async removeCdpBreakpoint(e){var r;this.updateCdpRefs(i=>i.filter(n=>n!==e)),e.state===0?(e.deadletter=!0,await e.done):(await((r=this._manager._thread)==null?void 0:r.cdp().Debugger.removeBreakpoint({breakpointId:e.cdpId})),this._manager._resolvedBreakpoints.delete(e.cdpId))}};var Yi=class extends Mc{constructor(r,i,n){super(r,i,{lineNumber:1,columnNumber:1});this.mode=n}static getModeKeyForSource(r,i){return r===1?(0,rH.basename)(i,(0,rH.extname)(i)||void 0):i}_setPredicted(){return Promise.resolve()}_setByPath(r,i){if(!this.source.path)return Promise.resolve();let n=Yi.getModeKeyForSource(this.mode,this.source.path);return this.mode===1?super._setByUrlRegexp(r,Ar(n),i):super._setByPath(r,i)}};var p$=U(xt());var wi=class extends Mc{constructor(r,i,n,s,o){super(r,n,{lineNumber:s.line,columnNumber:s.column||1});this.dapId=i;this.dapParams=s;this.condition=o;this.completedSet=je()}equivalentTo(r){return r.dapParams.column===this.dapParams.column&&r.dapParams.line===this.dapParams.line&&r.dapParams.hitCondition===this.dapParams.hitCondition&&r.dapParams.condition===this.dapParams.condition&&r.dapParams.logMessage===this.dapParams.logMessage}untilSetCompleted(){return this.completedSet.promise}markSetCompleted(){this.completedSet.resolve()}testHitCondition(r){return this.condition.shouldStayPaused(r)}async toDap(){let r=this.enabled&&this.getResolvedUiLocation();return r?{id:this.dapId,verified:!0,source:await r.source.toDap(),line:r.lineNumber,column:r.columnNumber}:{id:this.dapId,verified:!1,message:p$.t("Unbound breakpoint")}}diagnosticDump(){return{source:this.source,params:this.dapParams,cdp:this.cdpBreakpoints}}getBreakCondition(){return this.condition.breakCondition}updateCdpRefs(r){let i=this.getResolvedUiLocation();super.updateCdpRefs(r),this.getResolvedUiLocation()!==i&&this.notifyResolved()}getResolvedUiLocation(){for(let r of this.cdpBreakpoints)if(r.state===1&&r.uiLocations.length)return r.uiLocations[0]}async notifyResolved(){await this._manager.notifyBreakpointChange(this,this.completedSet.hasSettled())}};var iH=class extends wi{constructor(e,r,i,n){super(e,r,i,n,new vo(()=>!1))}getResolvedUiLocation(){}};var b1=U(gf());var Oc=class extends Yi{constructor(r,i){super(r,{path:i},1);this.pattern=i}async enable(r){if(this.isEnabled)return;this.isEnabled=!0;let i=(0,b1.makeRe)(pt(this.pattern),{contains:!0,lookbehinds:!1});await this._setAny(r,{urlRegex:i.source.replace(/([a-z]):/i,(n,s)=>`[${s.toLowerCase()}${s.toUpperCase()}]:`),lineNumber:0,columnNumber:0})}};var Nc=U(pe());var lH=Symbol("IExperimentationService");var tJ=/\/node_modules\/|^node\:/,rJ=2,v1=5e3,iJ=v1/2,ht=class{constructor(e,r,i){this.telemetry=r;this.experimentation=i;this.disposable=new Ye;this.hadBreakpoint=!1;this.didVerifyBreakpoint=!1;this.hadNonModuleSourcemap=!1;this.startedAt=Date.now();this.disposable.push(ht.didVerifyEmitter.event(()=>{this.didVerifyBreakpoint=!0})),ht.consecutiveQualifyingSessions>=rJ&&this.disposable.push(jE(async()=>{this.currentlyQualifying&&await this.experimentation.getTreatment("diagnosticPrompt",!0)&&(r.report("diagnosticPrompt",{event:"suggested"}),ht.didSuggest=!0,e.suggestDiagnosticTool({}))},v1))}get currentlyQualifying(){return this.hadBreakpoint&&!this.didVerifyBreakpoint&&this.hadNonModuleSourcemap}notifyHadBreakpoint(){this.hadBreakpoint=!0}notifyVerifiedBreakpoint(){this.didVerifyBreakpoint||(ht.didVerifyEmitter.fire(),ht.didSuggest&&(ht.didSuggest=!1,this.telemetry.report("diagnosticPrompt",{event:"resolved"})))}attach(e){if(!this.hadNonModuleSourcemap){let r=this.disposable.push(e.Debugger.on("scriptParsed",i=>{i.sourceMapURL&&!tJ.test(i.url)&&(this.hadNonModuleSourcemap=!0,this.disposable.disposeObject(r))}))}}dispose(){this.currentlyQualifying&&Date.now()-iJ>this.startedAt?ht.consecutiveQualifyingSessions++:ht.consecutiveQualifyingSessions=0,this.disposable.dispose()}};ht.consecutiveQualifyingSessions=0,ht.didVerifyEmitter=new J,ht.didSuggest=!1,ht=z([(0,Nc.injectable)(),x(0,(0,Nc.inject)(yc)),x(1,(0,Nc.inject)(xr)),x(2,(0,Nc.inject)(lH))],ht);var _1=t=>t.originalPosition.columnNumber===1&&t.originalPosition.lineNumber===1,w1=500,I1=Symbol("DontCompare");var Ai=class{constructor(e,r,i,n,s,o,a){this.logger=i;this.launchConfig=n;this.conditionFactory=s;this.suggester=o;this._breakpointsPredictor=a;this._resolvedBreakpoints=new Map;this._totalBreakpointsCount=0;this._launchBlocker=new Set;this._predictorDisabledForTest=!1;this._breakpointsStatisticsCalculator=new zm;this.entryBreakpointMode=0;this._enabledFilter=()=>!0;this._byDapId=new Map;this._byPath=xa();this._byRef=new Map;this.moduleEntryBreakpoints=xa();this._dap=e,this._sourceContainer=r,a==null||a.onLongParse(()=>e.longPrediction({})),r.onScript(u=>{u.source.then(c=>{var p;let l=this._thread;l&&((p=this._byRef.get(c.sourceReference))==null||p.forEach(f=>f.updateForNewLocations(l,u)))})}),r.onSourceMappedSteppingChange(()=>{if(this._thread)for(let u of this._byDapId.values())u.refreshUiLocations(this._thread)}),this._scriptSourceMapHandler=async(u,c)=>{if(!i.assert(this._thread,"Expected thread to be set for the breakpoint source map handler"))return[];let l=[],p=[c];for(let f=0;f<p.length;f++)for(let H of p[f]){let m=H.absolutePath,y=m?this._byPath.get(m):void 0;for(let I of y||[])l.push(I.updateForNewLocations(this._thread,u));let b=this._byRef.get(H.sourceReference);for(let I of b||[])l.push(I.updateForNewLocations(this._thread,u));H.sourceMap&&p.push(H.sourceMap.sourceByUrl.values())}return mp(await Promise.all(l))}}get appliedByPath(){return this._byPath}get appliedByRef(){return this._byRef}hasAtLocation(e){let r=this._byPath.get(e.source.absolutePath)||[],i=this._byRef.get(e.source.sourceReference)||[];return r.concat(i).some(n=>n.originalPosition.columnNumber===e.columnNumber&&n.originalPosition.lineNumber===e.lineNumber)}moveBreakpoints(e,r,i){let n=c=>RE(c,l=>{let p=this._sourceContainer.getOptiminalOriginalPosition(r,l.originalPosition);return p.column===null||p.line===null||l.updateSourceLocation({path:i.absolutePath,sourceReference:i.sourceReference},{lineNumber:p.line,columnNumber:p.column+1,source:i}),!1}),s=e.absolutePath,o=i.absolutePath,a=s?this._byPath.get(s):void 0;if(a&&o){let[c,l]=n(a);this._byPath.set(s,c),this._byPath.set(o,l)}let u=this._byRef.get(e.sourceReference);if(u){let[c,l]=n(u);this._byRef.set(e.sourceReference,c),this._byRef.set(i.sourceReference,l)}}async updateEntryBreakpointMode(e,r){if(r===this.entryBreakpointMode)return;let i=[...this.moduleEntryBreakpoints.values()];this.moduleEntryBreakpoints.clear(),this.entryBreakpointMode=r,await Promise.all(i.map(n=>this.ensureModuleEntryBreakpoint(e,n.source)))}async applyEnabledFilter(e,r=I1){if(r!==I1&&this._enabledFilter!==r)return;this._enabledFilter=e||(()=>!0);let i=this._thread;i&&await Promise.all([...this._byDapId.values()].map(n=>this._enabledFilter(n)?n.enable(i):n.disable()))}async getBreakpointLocations(e,r,i,n){let s=i.base1,o=this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:s.lineNumber,columnNumber:s.columnNumber}),a=n.base1,u=this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:a.lineNumber,columnNumber:a.columnNumber});if(o.length!==u.length)return this.logger.warn("internal","Expected to have the same number of start and end locations"),[];let c=[],l=[];for(let p=0;p<o.length;p++){let f=o[p],H=u[p];if(f.source!==H.source){this.logger.warn("internal","Expected to have the same number of start and end scripts");continue}let m=f.source;if(!m.scripts.length)continue;let{scriptId:y}=m.scripts[m.scripts.length-1];c.push(e.cdp().Debugger.getPossibleBreakpoints({restrictToFunction:!1,start:{scriptId:y,...m.offsetSourceToScript(go(f))},end:{scriptId:y,...m.offsetSourceToScript(go(H))}}).then(b=>{if(b)for(let I of b.locations){let{lineNumber:B,columnNumber:q=0}=I,C=this._sourceContainer.currentSiblingUiLocations({source:m,...m.offsetScriptToSource(QT({lineNumber:B,columnNumber:q}))});l.push({breakLocation:I,uiLocations:C})}}))}return await Promise.all(c),l}setThread(e){var r;this._thread=e,this._thread.cdp().Debugger.on("breakpointResolved",i=>{let n=this._resolvedBreakpoints.get(i.breakpointId);n&&n.updateUiLocations(e,i.breakpointId,[i.location])}),this._thread.setSourceMapDisabler(i=>{let n=[];for(let s of i){let o=this._resolvedBreakpoints.get(s);if(o){let a=this._sourceContainer.source(o.source);Er(a)&&n.push(a)}}return n});for(let i of this._byPath.values())i.forEach(n=>this._setBreakpoint(n,e)),this.ensureModuleEntryBreakpoint(e,(r=i[0])==null?void 0:r.source);for(let i of this._byRef.values())i.forEach(n=>this._setBreakpoint(n,e));"runtimeSourcemapPausePatterns"in this.launchConfig&&this.launchConfig.runtimeSourcemapPausePatterns.length&&this.setRuntimeSourcemapPausePatterns(e,this.launchConfig.runtimeSourcemapPausePatterns),this._byDapId.size>0&&this._installSourceMapHandler(this._thread)}async launchBlocker(){Xm(this.logger,"BreakpointManager.launchBlocker",async()=>{this._predictorDisabledForTest||await Promise.all([...this._launchBlocker])})}setRuntimeSourcemapPausePatterns(e,r){return Promise.all(r.map(i=>this._setBreakpoint(new Oc(this,i),e)))}addLaunchBlocker(...e){for(let r of e)this._launchBlocker.add(r),r.finally(()=>this._launchBlocker.delete(r))}setPredictorDisabledForTest(e){this._predictorDisabledForTest=e}_installSourceMapHandler(e){return this.launchConfig.perScriptSourcemaps==="yes"?Promise.all([this.updateEntryBreakpointMode(e,1),e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler)]).then(()=>!0):this._breakpointsPredictor&&!this.launchConfig.pauseForSourceMap?e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler):e.setScriptSourceMapHandler(!0,this._scriptSourceMapHandler)}async _uninstallSourceMapHandler(e){e.setScriptSourceMapHandler(!1),this._sourceMapHandlerInstalled=void 0}_setBreakpoint(e,r){this._enabledFilter(e)&&this.addLaunchBlocker(Promise.race([ke(w1),e.enable(r)]))}async setBreakpoints(e,r){var l,p;!this._sourceMapHandlerInstalled&&this._thread&&((l=e.breakpoints)!=null&&l.length)&&(this._sourceMapHandlerInstalled={entryBpSet:this._installSourceMapHandler(this._thread)});let i=await((p=this._sourceMapHandlerInstalled)==null?void 0:p.entryBpSet);e.source.path=zi(e.source.path);let n=this._sourceContainer.source(e.source);if(!i&&this._breakpointsPredictor&&!n){let f=this._breakpointsPredictor.predictBreakpoints(e);this.addLaunchBlocker(f),await f}let s=this._thread;if((s==null?void 0:s.debuggerReady.hasSettled())===!1){let f=s.debuggerReady.promise;this.addLaunchBlocker(f),await f}let o=f=>{var m;let H={unbound:f.slice(),new:[],list:[]};if(!e.breakpoints)return H;for(let y=0;y<e.breakpoints.length;y++){let b=e.breakpoints[y],I;try{I=new wi(this,r[y],e.source,b,this.conditionFactory.getConditionFor(b))}catch(C){if(!(C instanceof te))throw C;this._dap.output({category:"stderr",output:C.message}),I=new iH(this,r[y],e.source,b)}let B=H.unbound.findIndex(C=>C.equivalentTo(I)),q=H.unbound[B];(m=q==null?void 0:q.equivalentTo)!=null&&m.call(q,I)?(H.list.push(q),H.unbound.splice(B,1)):(H.new.push(I),H.list.push(I),this._byDapId.set(I.dapId,I))}return H},a=()=>e.source.sourceReference?this._byRef.get(e.source.sourceReference):e.source.path?this._byPath.get(e.source.path):void 0,u=o(a()??[]);if(e.source.sourceReference)this._byRef.set(e.source.sourceReference,u.list);else if(e.source.path)this._byPath.set(e.source.path,u.list);else return{breakpoints:[]};if(this._totalBreakpointsCount-=u.unbound.length,await Promise.all(u.unbound.map(f=>(this._byDapId.delete(f.dapId),f.disable()))),this._totalBreakpointsCount+=u.new.length,this._thread&&this._totalBreakpointsCount===0&&this._sourceMapHandlerInstalled&&this._uninstallSourceMapHandler(this._thread),s&&u.new.length){this.ensureModuleEntryBreakpoint(s,e.source);let f=a(),H=Promise.all(u.new.filter(this._enabledFilter).filter(m=>f==null?void 0:f.includes(m)).map(m=>m.enable(s)));this.addLaunchBlocker(Promise.race([ke(w1),H])),await H}let c=await Promise.all(u.list.map(f=>f.toDap()));return this._breakpointsStatisticsCalculator.registerBreakpoints(c),ke(0).then(()=>u.new.forEach(f=>f.markSetCompleted())),{breakpoints:c}}async notifyBreakpointChange(e,r){if(!this._byDapId.has(e.dapId))return;let i=await e.toDap();i.verified&&(this._breakpointsStatisticsCalculator.registerResolvedBreakpoint(e.dapId),this.suggester.notifyVerifiedBreakpoint()),r&&this._dap.breakpoint({reason:"changed",breakpoint:i})}isEntrypointBreak(e,r){let i=[...this.moduleEntryBreakpoints.values()].filter(n=>n.enabled&&n.cdpScriptIds.has(r));if(i.length){for(let n of i)n instanceof Oc||n.disable();return!0}return e.some(n=>{let s=this._resolvedBreakpoints.get(n);return s&&(s instanceof Yi||_1(s))})}async shouldPauseAt(e,r,i,n=!1){if(!r.length)return e.reason!=="instrumentation";let s=0,o=n?1:0;return await Promise.all(r.map(async a=>{if((i==null?void 0:i.cdpId)===a){s++;return}let u=this._resolvedBreakpoints.get(a);if(u instanceof Yi){this.entryBreakpointMode===0&&!(u instanceof Oc)&&u.disable(),o++;return}u instanceof wi&&(await u.testHitCondition(e)?s++:o++)})),s>0||o===0}registerBreakpointsHit(e){for(let r of e){let i=this._resolvedBreakpoints.get(r);i instanceof wi&&this._breakpointsStatisticsCalculator.registerBreakpointHit(i.dapId)}}statisticsForTelemetry(){return this._breakpointsStatisticsCalculator.statistics()}ensureModuleEntryBreakpoint(e,r){if(!r.path||(this._byPath.get(r.path)??[]).some(_1))return;let n=Yi.getModeKeyForSource(this.entryBreakpointMode,r.path);if(!r.path||this.moduleEntryBreakpoints.has(n))return;let s=new Yi(this,r,this.entryBreakpointMode);this.moduleEntryBreakpoints.set(r.path,s),this._setBreakpoint(s,e)}executionContextWasCleared(){for(let e of this._byDapId.values())e.executionContextWasCleared()}async reapply(){let e=[...this._byDapId.values()];if(await Promise.all(e.map(r=>r.disable())),this._thread){let r=this._thread;await Promise.all(e.map(i=>i.enable(r)))}}};Ai=z([(0,qn.injectable)(),x(0,(0,qn.inject)(bi)),x(1,(0,qn.inject)(Xt)),x(2,(0,qn.inject)(le)),x(3,(0,qn.inject)(Ve)),x(4,(0,qn.inject)(Zm)),x(5,(0,qn.inject)(ht)),x(6,(0,qn.inject)(Oa))],Ai);var NM=w("crypto"),Gc=U(pe());var yf=class{constructor(e){this.element=e,this.next=yf.Undefined,this.prev=yf.Undefined}},tt=yf;tt.Undefined=new yf(void 0);var bf=class{constructor(){this._first=tt.Undefined;this._last=tt.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===tt.Undefined}clear(){let e=this._first;for(;e!==tt.Undefined;){let r=e.next;e.prev=tt.Undefined,e.next=tt.Undefined,e=r}this._first=tt.Undefined,this._last=tt.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){let i=new tt(e);if(this._first===tt.Undefined)this._first=i,this._last=i;else if(r){let s=this._last;this._last=i,i.prev=s,s.next=i}else{let s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==tt.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==tt.Undefined){let e=this._last.element;return this._remove(this._last),e}}applyFilter(e){let r=this._first;for(;r!==tt.Undefined;){let i=r.next;e(r.element)||this._remove(r),r=i}}_remove(e){if(e.prev!==tt.Undefined&&e.next!==tt.Undefined){let r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===tt.Undefined&&e.next===tt.Undefined?(this._first=tt.Undefined,this._last=tt.Undefined):e.next===tt.Undefined?(this._last=this._last.prev,this._last.next=tt.Undefined):e.prev===tt.Undefined&&(this._first=this._first.next,this._first.prev=tt.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==tt.Undefined;)yield e.element,e=e.next}};var bH=U(pe());var Wn=class extends te{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function Vn(t,e,r){if(e.isCancellationRequested)return Promise.reject(new Wn(r||"Task cancelled"));let i=je(),n=e.onCancellationRequested(i.resolve);return Promise.race([i.promise.then(()=>{throw new Wn(r||"Task cancelled")}),t.then(s=>(n.dispose(),s)).catch(s=>{throw n.dispose(),s})])}function A1(t,e){let r=new Yt(e),i=t.map(async n=>{try{return await n(r.token)}finally{r.cancel()}});return Promise.race(i)}var S1=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),Cr=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),sJ=Object.freeze({isCancellationRequested:!0,onCancellationRequested:S1}),Yt=class{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,r){let i=new Yt(r),n=i._token=new Bc,s=setTimeout(()=>n.cancel(),e);return n.onCancellationRequested(()=>clearTimeout(s)),i}get token(){return this._token||(this._token=new Bc),this._token}cancel(){this._token?this._token instanceof Bc&&this._token.cancel():this._token=sJ}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof Bc&&this._token.dispose():this._token=Cr}},Bc=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?S1:(this._emitter||(this._emitter=new J),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var $M=U(w("net"));var pY=U(L1(),1),fY=U(b0(),1),dY=U(v0(),1),PM=U(C0(),1),D0=U(LM(),1);var DM=PM.default;var TM=(t,e)=>t+Math.floor(Math.random()*(e-t));async function yH({min:t=53e3,max:e=54e3,attempts:r=1e3,tester:i=mY}={},n=Cr){let s=TM(t,e);for(let o=Math.min(r,e-t);;o--)try{return await i(s,n)}catch(a){if(o===0||a instanceof Wn)throw a;s=s===e-1?t:s+1}}function mY(t,e=Cr){let r;return new Promise((i,n)=>{let s=$M.createServer();s.listen(t,"127.0.0.1",()=>{let o=s.address();s.close(()=>i(o.port))}),s.on("error",n),r=e.onCancellationRequested(()=>{s.close(),n(new Wn("Port open lookup cancelled"))})}).finally(()=>r==null?void 0:r.dispose())}var MM=t=>(e,r)=>kM(new D0.default({host:"127.0.0.1",...t,port:e}),r),kM=(t,e)=>{let r;return new Promise((i,n)=>{t.on("error",n),t.on("listening",()=>i(t)),r=e.onCancellationRequested(()=>{t.close(),n(new Wn("Port open lookup cancelled"))})}).finally(()=>r==null?void 0:r.dispose())};var vH=async(t,e,r)=>{let i=await yH({tester:MM(e)},r),n=t.register(i.address().port);return i.on("close",()=>n.dispose()),i.on("error",()=>n.dispose()),i},Ei=Symbol("IPortLeaseTracker"),Wc=class{constructor(e){this.usedPorts=new Set;this.onRegistered=new J;this.isMandated=e==="remote"}register(e){return this.usedPorts.add(e),this.onRegistered.fire(e),{dispose:()=>this.usedPorts.delete(e)}}isRegistered(e,r=2e3){return this.usedPorts.has(e)?Promise.resolve(!0):e<53e3||e>=54e3?Promise.resolve(!1):A1([()=>ke(r).then(()=>!1),i=>new Promise(n=>{let s=this.onRegistered.event(o=>{o===e&&n(!0)});i.onCancellationRequested(()=>s.dispose())})])}};Wc=z([(0,bH.injectable)(),x(0,(0,bH.inject)(Ta))],Wc);var RM="JsDebug",OM="*";var T0=class{constructor(){this.replays=new Map}addReplay(e,r,i){let n=this.replays.get(e);return n||(n=new bf,this.replays.set(e,n)),n.push({event:`${e}.${r}`,params:i})}capture(e,r,i,n){let s=e[r];if(n===0)s.on(i,o=>this.addReplay(r,i,o));else if(n===2){let o;s.on(i,a=>{o==null||o(),o=this.addReplay(r,i,a)})}else{let o=new bf;s.on(i,a=>{var u;o.size===n.cap&&((u=o.shift())==null||u()),o.push(this.addReplay(r,i,a))})}}filter(e,r){let i=this.replays.get(e);i&&i.applyFilter(r)}clearEvent(e,r){let i=`${e}.${r}`;this.filter(e,n=>n.event!==i)}clearDomain(e){this.replays.delete(e)}read(e){return this.replays.get(e)??[]}},_H=Symbol("ICdpProxyProvider"),Vc=class{constructor(e,r,i){this.cdp=e;this.portTracker=r;this.logger=i;this.disposables=new Ye;this.replay=new T0;this.jsDebugApi={subscribe:(e,{events:r})=>{for(let i of r)i.endsWith(OM)?e.pushDisposable(this.cdp.session.onPrefix(i.slice(0,-OM.length),n=>e.send({method:n.method,params:n.params}))):e.pushDisposable(this.cdp.session.on(i,n=>e.send({method:i,params:n})));return{}}};this.replay.capture(e,"CSS","styleSheetAdded",0),this.replay.capture(e,"Debugger","paused",2),this.replay.capture(e,"Runtime","executionContextCreated",{cap:50,type:1}),this.replay.capture(e,"Runtime","consoleAPICalled",{cap:50,type:1}),e.Debugger.on("resumed",()=>{this.replay.clearEvent("Debugger","paused")}),e.CSS.on("fontsUpdated",n=>{n.font&&this.replay.addReplay("CSS","fontsUpdated",n)}),e.CSS.on("styleSheetRemoved",n=>this.replay.filter("CSS",s=>s.params.styleSheetId!==n.styleSheetId))}async proxy(){this.server||(this.server=this.createServer());let{server:e,path:r}=await this.server,i=e.address();return{host:i.address,port:i.port,path:r}}async createServer(){let e=`/${(0,NM.randomBytes)(20).toString("hex")}`,r=await vH(this.portTracker,{perMessageDeflate:!0,path:e});return this.logger.info("proxyActivity","activated cdp proxy"),r.on("connection",i=>{let n=new $0(i,this.logger);this.logger.info("proxyActivity","accepted proxy connection",{id:n.id}),i.on("close",()=>{this.logger.verbose("proxyActivity","closed proxy connection",{id:n.id}),this.disposables.disposeObject(n)}),i.on("message",async s=>{let o;try{o=JSON.parse(s.toString())}catch(f){return n.send({id:0,error:{code:-32700,message:f.message}})}this.logger.verbose("proxyActivity","received proxy message",o);let{method:a,params:u,id:c=0}=o,[l,p]=a.split(".");try{let f=l===RM?await this.invokeJsDebugDomainMethod(n,p,u):await this.invokeCdpMethod(n,l,p,u);n.send({id:c,result:f})}catch(f){let H=f instanceof Ca&&f.cause?f.cause:{code:0,message:f.message};n.send({id:c,error:H})}})}),{server:r,path:e}}dispose(){var e;this.disposables.dispose(),(e=this.server)==null||e.then(r=>r.server.close()),this.server=void 0}invokeCdpMethod(e,r,i,n){let s=this.cdp.session.sendOrDie(`${r}.${i}`,n);switch(i){case"enable":for(let o of this.replay.read(r))e.send({method:o.event,params:o.params});break;case"disable":this.replay.clearDomain(r);break;default:}return s}invokeJsDebugDomainMethod(e,r,i){if(!this.jsDebugApi.hasOwnProperty(r))throw new Ca(r).setCause(-32601,`${RM}.${r} not found`);return this.jsDebugApi[r](e,i)}};Vc=z([(0,Gc.injectable)(),x(0,(0,Gc.inject)(ft)),x(1,(0,Gc.inject)(Ei)),x(2,(0,Gc.inject)(le))],Vc);var HY=0,$0=class{constructor(e,r){this.webSocket=e;this.logger=r;this.disposables=new Ye;this.id=HY++}pushDisposable(e){this.disposables.push(e)}dispose(){this.disposables.dispose(),this.webSocket.close()}send(e){this.logger.verbose("proxyActivity","send proxy message",e),this.webSocket.send(JSON.stringify(e))}};var zc=U(nm()),Lf=U(pe());var M0=zt(function(t,e,r){let i=r?"variable":"property",n=(l,p,f)=>{if(p!=="function")return i;if(l==="constructor")return"class";let H=String(f);return H.startsWith("class ")||H.includes("[native code]")&&/^[A-Z]/.test(l)?"class":r?"function":"method"},s=l=>{switch(typeof l){case"number":case"boolean":return`${l}`;case"object":return l===null?"null":l.constructor.name||"object";case"function":return`fn(${new Array(l.length).fill("?").join(", ")})`;default:return typeof l}},o=[],a=new Set,u="~",c=t===void 0?this:t;for(;c!=null;c=c.__proto__){u+="~";let l=Object.getOwnPropertyNames(c).filter(p=>p.startsWith(e)&&!p.match(/^\d+$/));for(let p of l){if(a.has(p))continue;a.add(p);let f=Object.getOwnPropertyDescriptor(c,p),H=i,m;try{let y=c[p];H=n(p,typeof(f==null?void 0:f.value),y),m=s(y)}catch{}o.push({label:p,sortText:u+p.replace(/^_+/,y=>"{".repeat(y.length)),type:H,detail:m})}r=!1}return{result:o,isArray:this instanceof Array}}),BM=Ea(M0.source);var gY=t=>{var e,r,i;switch(t.type){case"ClassDeclaration":case"ClassExpression":return{type:"class",id:t.id};case"MethodDefinition":return{type:((e=t.key)==null?void 0:e.type)==="Identifier"&&t.key.name==="constructor"?"constructor":"method",id:t.key};case"VariableDeclarator":return{type:((r=t.init)==null?void 0:r.type)==="FunctionExpression"||((i=t.init)==null?void 0:i.type)==="ArrowFunctionExpression"?"function":"variable",id:t.id}}};function yY(t){let e=!1;return(0,zc.traverse)(t,{enter(r){if(r.type==="CallExpression"||r.type==="NewExpression"||r.type==="UnaryExpression"&&r.operator==="delete"||r.type==="ClassBody")return e=!0,zc.VisitorOption.Break}}),e}var wH=Symbol("ICompletions"),Kc=class{constructor(e,r){this.evaluator=e;this.cdp=r}async completions(e){let r=no(e.expression),i=new co(e.expression).convert(e.position),n=()=>Promise.resolve([]);return(0,zc.traverse)(r,{enter:(s,o)=>{let a=s;if(a.start<i&&i<=a.end){if(s.type==="MemberExpression"||s.type==="Identifier"&&(o==null?void 0:o.type)==="MemberExpression"&&!o.computed&&o.object!==s){let u=s.type==="MemberExpression"?s:o;n=u.computed?()=>this.elementAccessCompleter(e,u,i):()=>this.propertyAccessCompleter(e,u,i)}else s.type==="Identifier"&&(n=()=>this.identifierCompleter(e,r,s,i));o=s}}}),n().then(s=>s.sort((o,a)=>o.sortText>a.sortText?1:-1))}async elementAccessCompleter(e,r,i){if(r.property.type!=="Literal"||typeof r.property.value!="string")return[];let n=e.expression.slice(io(r.property)+1,i);return(await this.defaultCompletions(e,n)).filter(o=>o.sortText!=="~~[").map(o=>({...o,text:JSON.stringify(o.text??o.label)+"]",start:io(r.property),length:Gv(r.property)-io(r.property)}))}async identifierCompleter(e,r,i,n){let s=[];(0,zc.traverse)(r,{enter(u){var l;let c=gY(u);((l=c==null?void 0:c.id)==null?void 0:l.type)==="Identifier"&&s.push({label:c.id.name,type:c.type,sortText:c.id.name})}});let o=e.expression.slice(io(i),n),a=[...s,...await this.defaultCompletions(e,o)];return this.evaluator.hasReturnValue&&e.executionContextId!==void 0&&vs.startsWith(o)&&a.push({sortText:`~${vs}`,label:vs,type:"variable"}),a}async propertyAccessCompleter(e,r,i){let{result:n,isArray:s}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:OL(e.expression,r.object),prefix:Xr(r.property)?"":e.expression.slice(io(r.property),i),throwOnSideEffect:yY(r)}),o=io(r.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(let u of n)a.test(u.label)||(u.text=`[${JSON.stringify(u.label)}]`,u.start=o,u.length=1);if(s){let u="index";n.unshift({label:`[${u}]`,text:`[${u}]`,type:"property",sortText:"~~[",start:o,selectionStart:1,selectionLength:u.length,length:1})}return n}async completePropertyAccess({executionContextId:e,stackFrame:r,expression:i,prefix:n,isInGlobalScope:s=!1,throwOnSideEffect:o=!1}){let a={expression:`(${i})`,objectGroup:"console",silent:!0,throwOnSideEffect:o},u=r&&r.callFrameId(),c=await this.evaluator.evaluate(u?{...a,callFrameId:u}:{...a,contextId:e},{stackFrame:r});if(!c||c.exceptionDetails)return{result:[],isArray:!1};if(!c.result.objectId){let l={...a,returnByValue:!0,throwOnSideEffect:!1,expression:BM.expr(`(${i})`,JSON.stringify(n),JSON.stringify(s))},p=await this.evaluator.evaluate(u?{...l,callFrameId:u}:{...l,contextId:e});return!p||p.exceptionDetails?{result:[],isArray:!1}:p.result.value}try{return(await M0({cdp:this.cdp,args:[void 0,n,s],objectId:c.result.objectId,returnByValue:!0})).value}catch{return{result:[],isArray:!1}}finally{this.cdp.Runtime.releaseObject({objectId:c.result.objectId})}}async defaultCompletions(e,r=""){for(let i of["self","global","this"]){let{result:n}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:i,prefix:r,isInGlobalScope:!0});if(e.stackFrame){let s=r.toLowerCase(),o=new Set(n.map(a=>a.label));for(let a of await e.stackFrame.completions())o.has(a.label)||!a.label.toLowerCase().includes(s)||(o.add(a.label),n.push(a))}return n.push(...this.syntheticCompletions(e,r)),n}return this.syntheticCompletions(e,r)}syntheticCompletions(e,r){return this.evaluator.hasReturnValue&&vs.startsWith(r)?[{sortText:`~${vs}`,label:vs,type:"variable"}]:[]}};Kc=z([(0,Lf.injectable)(),x(0,(0,Lf.inject)(_i)),x(1,(0,Lf.inject)(ft))],Kc);var PH=U(xt());var zn=class{constructor(e,r){this._tokens=[];this._separator=r||"",this._budget=e-1-this._separator.length}append(e){if(e.length>this.budget()){this.appendEllipsis();return}this._append(e)}_append(e){this._tokens.length&&(this._budget-=this._separator.length),this._tokens.push(e),this._budget-=e.length}appendEllipsis(){this._tokens[this._tokens.length-1]!=="\u2026"&&this._append("\u2026")}checkBudget(){return this._budget<=0&&this.appendEllipsis(),this._budget>0}budget(){return this._budget-(this._tokens.length?this._separator.length:0)}build(){return this._tokens.join(this._separator)}isEmpty(){return!this._tokens.length}};var ck=U(ak());var MY=1e4;function kY(t,e){if(!t.includes("%"))return[{type:"string",value:t}];let r=[];function i(u){if(!u)return;let c=r[r.length-1];(c==null?void 0:c.type)==="string"?c.value+=u:r.push({type:"string",value:u})}function n(u,c,l){r.push({type:"specifier",specifier:u,precision:c,substitutionIndex:l})}let s=0,o=0,a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${e.join("")}])`,"g");for(let u=a.exec(t);u;u=a.exec(t)){let c=u.index;if(c>s&&i(t.substring(s,c)),u[0]==="%%")i("%");else{let[,l,p,f]=u;l&&Number(l)>0&&(o=Number(l)-1);let H=p?Number(p):void 0;n(f,H,o),++o}s=c+u[0].length}return i(t.substring(s)),r}function F0(t,e,r){let i=kY(t,Array.from(r.keys())),n=new Set,s=r.get("");if(!s)throw new Error("Expected to hav a default formatter");let o=new zn(MY),a=!1;for(let u=0;o.checkBudget()&&u<i.length;++u){let c=i[u];if(c.type==="string"){o.append(c.value);continue}let l=c.substitutionIndex;if(l>=e.length){o.append("%"+(c.precision||"")+c.specifier);continue}n.add(l),c.specifier==="c"&&(a=!0);let p=r.get(c.specifier)||s;o.append(p(e[l],{budget:o.budget(),quoted:!1}))}a&&o.append("\x1B[0m");for(let u=0;o.checkBudget()&&u<e.length;++u)n.has(u)||(n.add(u),(t||u)&&o.append(" "),o.append(s(e[u],{budget:o.budget(),quoted:!1})));return{result:o.build(),usedAllSubs:n.size===e.length}}function uk(t){try{return new ck.default(t).ansi256().object().ansi256}catch{}}function lk(t){let e=/\s*(.*?)\s*:\s*(.*?)\s*(?:;|$)/g,r="\x1B[0m",i=e.exec(t);for(;i!==null;){if(i.length===3)switch(i[1]){case"color":let n=uk(i[2]);n&&(r+=`\x1B[38;5;${n}m`);break;case"background":case"background-color":let s=uk(i[2]);s&&(r+=`\x1B[48;5;${s}m`);break;case"font-weight":i[2]==="bold"&&(r+="\x1B[1m");break;case"font-style":i[2]==="italic"&&(r+="\x1B[3m");break;case"text-decoration":i[2]==="underline"&&(r+="\x1B[4m");break;default:}i=e.exec(t)}return r}var fk=t=>t.replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/\r/gm,"\\r").replace(/\t/gm,"\\t"),OY={budget:1e5,quoted:!0},pk={budget:1e3,quoted:!0,postProcess:fk},NY={budget:1/0,quoted:!1},BY={budget:1e3,quoted:!0,postProcess:fk},FY={budget:1e5,quoted:!0},xH=t=>{switch(t){case"repl":return OY;case"hover":return pk;case"propertyValue":return pk;case"watch":return BY;case"copy":case"clipboard":return NY;default:return FY}};var UY=30,jY=100,U0=20,qY=1e4,WY=3,dk=120,j0=new Set(["null","regexp","date"]);function ja(t){return t.type==="function"||t.type==="object"&&!j0.has(t.subtype)}function q0(t){return t.subtype==="array"||t.subtype==="typedarray"}function qa(t,e,r){var s,o;let i=xH(e),n=CH(t,i,r);return((s=t.preview)==null?void 0:s.subtype)==="regexp"?n:((o=i.postProcess)==null?void 0:o.call(i,n))??n}function CH(t,e,r){return t.type==="function"?t.description?gk(t.description,e.budget):"<function>":t.type==="object"&&t.subtype==="node"?t.description:"preview"in t&&t.preview?LH(t.preview,e.budget,r):Hk(t,e.budget,e.quoted,r)}function LH(t,e,r){return q0(t)?VY(t,e):t.subtype==="internal#entry"?$n(t.description||"",e):t.type==="function"?gk(t.description,e):ja(t)?GY(t,e,r):zY(t,e,r)}function VY(t,e){let r=new zn(e),i=t.description,n=i.match(/[^(]*\(([\d]+)\)/);if(!n)return i;let s=parseInt(n[1],10);i.startsWith("Array(")&&(i=i.substring(5)),r.append($n(i,r.budget())),r.append(" ");let o=new zn(r.budget()-2,", "),a=-1;for(let u of t.properties){if(!o.checkBudget())break;if(isNaN(u.name))continue;let c=parseInt(u.name,10);c>a+1&&o.appendEllipsis(),a=c,o.append($f(u,o.budget()))}s>a+1&&o.appendEllipsis();for(let u of t.properties){if(!o.checkBudget())break;isNaN(u.name)&&o.append($f(u,o.budget(),u.name))}return t.overflow&&o.appendEllipsis(),r.append("["+o.build()+"]"),r.build()}function GY(t,e,r){let i=new zn(e," ");t.description!=="Object"&&i.append($n(t.description,i.budget()));let n=new Map,s=t.properties||[];for(let f of s)n.set(f.name,f);let o=n.get("[[PrimitiveValue]]");if(o)return i.append(`(${$f(o,i.budget()-2)})`),i.build();let a=n.get("[[PromiseStatus]]"),u=n.get("[[PromiseValue]]");if(a&&u)return a.value==="pending"?i.append(`{<${a.value}>}`):i.append(`{${$f(u,i.budget()-2,`<${a.value}>`)}}`),i.build();let c=n.get("[[GeneratorStatus]]");if(c)return i.append(`{<${c.value}>}`),i.build();let l=new zn(i.budget()-2,", ");for(let f of s){if(!l.checkBudget())break;l.append($f(f,l.budget(),f.name))}for(let f of t.entries||[]){if(!l.checkBudget())break;if(f.key){let H=LH(f.key,Math.min(U0,l.budget()),r),m=LH(f.value,Math.min(U0,l.budget()-H.length-4),r);l.append(Yc(H," => ",m,l.budget()))}else l.append(LH(f.value,Math.min(U0,l.budget()),r))}t.overflow&&l.appendEllipsis();let p=l.build();return p?i.append("{"+p+"}"):i.isEmpty()&&i.append("{}"),i.build()}function hk(t,e){return t.length<=e?t:"\u2026"}function KY(t,e){return t.length>=e?t.slice(0,e-1)+"\u2026":t}function zY(t,e,r){if(t.type==="object"&&t.subtype==="null")return hk("null",e);if(t.type==="undefined")return hk("undefined",e);if(t.type==="string"){let i=t.description??t.value;return r!=null&&r.hex&&(i=Buffer.from(i,"utf8").toString("hex")),fc(i,e)}return t.type==="number"||t.type==="bigint"?Mf(t,!1,e,r):KY(t.description||"",e)}function Yc(t,e,r,i){return t===void 0?fc(r,i):t.length+e.length>i?$n(t,i):`${t}${e}${fc(r,i-t.length-e.length)}`}function $f(t,e,r){return e=Math.min(e,jY),t.type==="function"?Yc(r,": ","\u0192",e):t.type==="object"&&t.value==="Object"?Yc(r,": ","{\u2026}",e):typeof t.value>"u"?Yc(r,": ",`<${t.type}>`,e):t.type==="string"?Yc(r,": ",`'${t.value}'`,e):Yc(r,": ",t.value??"unknown",e)}function Hk(t,e,r,i){if(t.type==="string"){let n=t.value||(t.description?t.description:"");i!=null&&i.hex&&(n=Buffer.from(n,"utf8").toString("hex"),r=!1);let s=fc(n,r?e-2:e);return r?`'${s}'`:s}return t.type==="undefined"?"undefined":t.subtype==="null"?"null":t.type==="bigint"||t.type==="number"?Mf(t,!1,e,i):t.description?$n(t.description,Math.max(e,1e5)):$n(String("value"in t?t.value:t.description),e)}function gk(t,e){let r=new zn(e),i=t.replace(/^function [gs]et /,"function ").replace(/^function [gs]et\(/,"function(").replace(/^[gs]et /,""),n=i.match(/^(async\s+function)/),s=i.startsWith("function*"),o=i.startsWith("*"),a=!s&&i.startsWith("function"),u=i.startsWith("class ")||i.startsWith("class{"),c=i.indexOf("=>"),l=!n&&!s&&!a&&!u&&c>0,p;if(u){p=i.substring(5);let m=/^[^{\s]+/.exec(p.trim()),y="";m&&(y=m[0].trim()||""),H("class",p,y)}else if(n)p=i.substring(n[1].length),H("async \u0192",p,f(p));else if(s)p=i.substring(9),H("\u0192*",p,f(p));else if(o)p=i.substring(1),H("\u0192*",p,f(p));else if(a)p=i.substring(8),H("\u0192",p,f(p));else if(l){let m=i;i.length>UY&&(m=i.substring(0,c+2)+" {\u2026}"),H("",i,m)}else H("\u0192",i,f(i));return r.build();function f(m){let y=m.indexOf("("),b=m.match(/\)\s*{/),I=b&&b.index||0;if(y!==-1&&b&&I>y){let B=m.substring(0,y).trim()||"",q=m.substring(y,I+1);return B+q}return"()"}function H(m,y,b){r.checkBudget()&&(m.length&&r.append(m+" "),y=y.trim(),y.endsWith(" { [native code] }")&&(y=y.substring(0,y.length-18)),r.budget()>=y.length?r.append(y):r.append(b.replace(/\n/g," ")))}}function Wa(t){let e=t;if(e.type!=="object"||e.subtype==="null")return{title:Hk(e,qY,!1,void 0)};let r=e.description??e.className??"Error",i=/^\s+at\s/m.exec(r);if(!i){let n=r.lastIndexOf(`
`);return n===-1?{title:r}:{title:r.substring(0,n)}}return{title:r.substring(0,i.index-1),stackTrace:r.substring(i.index+2)}}function Mf(t,e,r,i){if(t.type==="number"){if("unserializableValue"in t)return t.unserializableValue;let o=t.value||+t.description;return i!=null&&i.hex?o.toString(16):String(o)}if(t.type==="bigint"){let o=t.unserializableValue||t.description;return i!=null&&i.hex?BigInt(o.slice(0,-1)).toString(16):o}let n=t,s=typeof n.value=="number"?n.value:+String(n.description);return $n(String(e?Math.floor(s):s),r)}function XY(t,e){return fc(String(typeof t.value<"u"?t.value:t.description),e)}function yk(t){var l;let e=[],r=new Set([void 0]),i=new Map;for(let p of t.properties.filter(f=>f.valuePreview)){let f=new Map;f.set(void 0,p.name),i.set(void 0,Math.max(i.get(void 0)||0,p.name.length)),e.push(f),(l=p.valuePreview)==null||l.properties.map(H=>{H.value&&(r.add(H.name),f.set(H.name,H.value),i.set(H.name,Math.max(i.get(H.name)||0,H.value.length)))})}for(let p of r.values())p&&i.set(p,Math.max(i.get(p)||0,p.length));let n=Array.from(i.values()).reduce((p,f)=>p+f,0),s=dk-4-(r.size-1)*3;if(n>s){let p=s/n;for(let f of i.keys()){let H=Math.max(WY,i.get(f)*p|0);i.set(f,H)}}let o=[];for(let p of r.values())o.push("-".repeat(i.get(p)));let a="[-"+o.join("-|-")+"-]",u=[];u.push(a.replace("[","\u256D").replace(/\|/g,"\u252C").replace("]","\u256E").replace(/-/g,"\u2504"));let c=[];for(let p of r.values())c.push(mk(p||"",i.get(p)));u.push("\u250A "+c.join(" \u250A ")+" \u250A"),u.push(a.replace("[","\u251C").replace(/\|/g,"\u253C").replace("]","\u2524").replace(/-/g,"\u2504"));for(let p of e){let f=[];for(let H of r.values())f.push(mk(p.get(H)||"",i.get(H)));u.push("\u250A "+f.join(" \u250A ")+" \u250A")}return u.push(a.replace("[","\u2570").replace(/\|/g,"\u2534").replace("]","\u256F").replace(/-/g,"\u2504")),u.map(p=>$n(p,dk)).join(`
`)}var W0=new Map([["",(t,e)=>CH(t,e)],["s",(t,e)=>XY(t,e.budget)],["i",(t,e)=>Mf(t,!0,e.budget,void 0)],["d",(t,e)=>Mf(t,!0,e.budget,void 0)],["f",(t,e)=>Mf(t,!1,e.budget,void 0)],["c",t=>lk(t.value)],["o",(t,e)=>CH(t,e)],["O",(t,e)=>CH(t,e)]]);function mk(t,e){return t.length===e?t:t.length<e?t+" ".repeat(e-t.length):$n(t,e)}var vk=zt(function(){return this});var DH=class{constructor(e,r){this.protoObj=e;this.cdp=r}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:PH.t("Only objects can be queried")};let r=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!r)return{category:"stderr",output:PH.t("Could not query the provided object")};let i;try{i=await vk({cdp:this.cdp,args:[],objectId:r.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(o){return{category:"stderr",output:PH.t(o.message)}}let n="\x1B[32mobjects: "+qa(i,"repl")+"\x1B[0m";return{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput(n,[i]).id}}};var _k=/^(\W*at .*\()(.*):(\d+):(\d+)(\))$/,wk=/^(\W*at )(.*):(\d+):(\d+)$/,Eo=class{constructor(e){this.stack=e}static isStackLike(e){return _k.test(e)||wk.test(e)}*[Symbol.iterator](){for(let e of this.stack.split(`
`)){let r=_k.exec(e)||wk.exec(e);if(!r){yield e+`
`;continue}let[,i,n,s,o,a]=r;i&&(yield i),yield new V0(n,new zr(Number(s),Number(o))),a&&(yield a),yield`
`}}},V0=class{constructor(e,r){this.path=e;this.position=r}toString(){return`${this.path}:${this.position.lineNumber}:${this.position.columnNumber}`}};var qr=U(xt());var Nf=U(pe());var Oe=U(xt()),Bk=w("crypto");var Lr=class{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new Lr().subtract(this)}subtract(e){let r=this.value[1]-e.value[1],i=this.value[0]-e.value[0];return r<0&&(r+=1e9,i--),new Lr([i,r])}};var Qc=class{constructor(e,r,i,n,s,o){this.launchConfig=e;this.targetInfo=r;this.parentTarget=i;this.targetOriginValue=n;this.cdp=s;this.logger=o;this.onNameChanged=new J().event;this.attached=!1;this.isWaitingForDebugger=!0;s.pause()}id(){return this.targetInfo.targetId}name(){return this.targetInfo.title}fileName(){return this.targetInfo.url}type(){return"node"}parent(){return this.parentTarget}children(){return[]}canStop(){return!1}stop(){}canRestart(){return!1}restart(){}canAttach(){return!this.attached}async attach(){return await this.cdp.Runtime.enable({}),await this.cdp.Debugger.enable({}),this.attached=!0,this.cdp}canDetach(){return this.attached}async detach(){await this.cdp.Debugger.resume({}),await this.cdp.NodeWorker.detach({sessionId:this.targetInfo.targetId}),this.attached=!1}targetOrigin(){return this.targetOriginValue}afterBind(){return this.cdp.resume(),Promise.resolve()}async runIfWaitingForDebugger(){this.isWaitingForDebugger=!1,await this.cdp.Runtime.runIfWaitingForDebugger({})}initialize(){return Promise.resolve()}waitingForDebugger(){return this.isWaitingForDebugger}supportsCustomBreakpoints(){return!1}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?We(e):e}executionContextName(){return this.targetInfo.title}};var wt=U(xt()),TH=new Map;function G0(){if(TH.size)return TH;function t(s,o){for(let a of o)a.group=s,TH.set(a.id,a)}function e(s,o){let a=o||s;return{id:"instrumentation:"+s,title:a,group:"",details:u=>{if(s==="webglErrorFired"){let c=u.webglErrorName;return c=c.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),{short:c,long:wt.t('Paused on WebGL Error instrumentation breakpoint, error "{0}"',c)}}return s==="scriptBlockedByCSP"&&u.directiveText?{short:wt.t('CSP violation "{0}"',u.directiveText),long:wt.t('Paused on Content Security Policy violation instrumentation breakpoint, directive "{0}"',u.directiveText)}:{short:a,long:wt.t('Paused on instrumentation breakpoint "{0}"',a)}},apply:async(u,c)=>c?!!await u.DOMDebugger.setInstrumentationBreakpoint({eventName:s}):!!await u.DOMDebugger.removeInstrumentationBreakpoint({eventName:s})}}function r(s,o,a){let u=o===void 0?"*":typeof o=="string"?[o]:o;return{id:"listener:"+s,title:a||s,group:"",details:c=>{let l=(c.targetName||"*").toLowerCase();return{short:l+"."+s,long:wt.t('Paused on event listener breakpoint "{0}", triggered on "{1}"',s,l)}},apply:async(c,l)=>{let p=!0;for(let f of u)l?p=p&&!!await c.DOMDebugger.setEventListenerBreakpoint({eventName:s,targetName:f}):p=p&&!!await c.DOMDebugger.removeEventListenerBreakpoint({eventName:s,targetName:f});return p}}}t("Animation",[e("requestAnimationFrame",wt.t("Request Animation Frame")),e("cancelAnimationFrame",wt.t("Cancel Animation Frame")),e("requestAnimationFrame.callback",wt.t("Animation Frame Fired"))]),t("Canvas",[e("canvasContextCreated",wt.t("Create canvas context")),e("webglErrorFired",wt.t("WebGL Error Fired")),e("webglWarningFired",wt.t("WebGL Warning Fired"))]),t("Script",[e("scriptFirstStatement",wt.t("Script First Statement")),e("scriptBlockedByCSP",wt.t("Script Blocked by Content Security Policy"))]),t("Geolocation",[e("Geolocation.getCurrentPosition","getCurrentPosition"),e("Geolocation.watchPosition","watchPosition")]),t("Notification",[e("Notification.requestPermission","requestPermission")]),t("Parse",[e("Element.setInnerHTML",wt.t("Set innerHTML")),e("Document.write","document.write")]),t("Timer",[e("setTimeout"),e("clearTimeout"),e("setInterval"),e("clearInterval"),e("setTimeout.callback",wt.t("setTimeout fired")),e("setInterval.callback",wt.t("setInterval fired"))]),t("Window",[e("DOMWindow.close","window.close")]),t("WebAudio",[e("audioContextCreated",wt.t("Create AudioContext")),e("audioContextClosed",wt.t("Close AudioContext")),e("audioContextResumed",wt.t("Resume AudioContext")),e("audioContextSuspended",wt.t("Suspend AudioContext"))]);let i=["audio","video"];t("Media",[r("play",i),r("pause",i),r("playing",i),r("canplay",i),r("canplaythrough",i),r("seeking",i),r("seeked",i),r("timeupdate",i),r("ended",i),r("ratechange",i),r("durationchange",i),r("volumechange",i),r("loadstart",i),r("progress",i),r("suspend",i),r("abort",i),r("error",i),r("emptied",i),r("stalled",i),r("loadedmetadata",i),r("loadeddata",i),r("waiting",i)]),t("Picture-in-Picture",[r("enterpictureinpicture","video"),r("leavepictureinpicture","video"),r("resize","PictureInPictureWindow")]),t("Clipboard",[r("copy"),r("cut"),r("paste"),r("beforecopy"),r("beforecut"),r("beforepaste")]),t("Control",[r("resize"),r("scroll"),r("zoom"),r("focus"),r("blur"),r("select"),r("change"),r("submit"),r("reset")]),t("Device",[r("deviceorientation"),r("devicemotion")]),t("DOM Mutation",[r("DOMActivate"),r("DOMFocusIn"),r("DOMFocusOut"),r("DOMAttrModified"),r("DOMCharacterDataModified"),r("DOMNodeInserted"),r("DOMNodeInsertedIntoDocument"),r("DOMNodeRemoved"),r("DOMNodeRemovedFromDocument"),r("DOMSubtreeModified"),r("DOMContentLoaded")]),t("Drag / drop",[r("drag"),r("dragstart"),r("dragend"),r("dragenter"),r("dragover"),r("dragleave"),r("drop")]),t("Keyboard",[r("keydown"),r("keyup"),r("keypress"),r("input")]),t("Load",[r("load"),r("beforeunload"),r("unload"),r("abort"),r("error"),r("hashchange"),r("popstate")]),t("Mouse",[r("auxclick"),r("click"),r("dblclick"),r("mousedown"),r("mouseup"),r("mouseover"),r("mousemove"),r("mouseout"),r("mouseenter"),r("mouseleave"),r("mousewheel"),r("wheel"),r("contextmenu")]),t("Pointer",[r("pointerover"),r("pointerout"),r("pointerenter"),r("pointerleave"),r("pointerdown"),r("pointerup"),r("pointermove"),r("pointercancel"),r("gotpointercapture"),r("lostpointercapture")]),t("Touch",[r("touchstart"),r("touchmove"),r("touchend"),r("touchcancel")]),t("Worker",[r("message"),r("messageerror")]);let n=["xmlhttprequest","xmlhttprequestupload"];return t("XHR",[r("readystatechange",n),r("load",n),r("loadstart",n),r("loadend",n),r("abort",n),r("error",n),r("progress",n),r("timeout",n)]),TH}var K0=Ea(function(t,e){let r=" ".repeat(e),i=`
`;function n(o){if(o instanceof Uint8Array)return Uint8Array;if(o instanceof Uint8ClampedArray)return Uint8ClampedArray;if(o instanceof Uint16Array)return Uint16Array;if(o instanceof Uint32Array)return Uint32Array;if(o instanceof BigUint64Array)return BigUint64Array;if(o instanceof Int8Array)return Int8Array;if(o instanceof Int32Array)return Int32Array;if(o instanceof BigInt64Array)return BigInt64Array;if(o instanceof Float32Array)return Float32Array;if(o instanceof Float64Array)return Float64Array}function s(o,a=0,u=[]){switch(typeof o){case"bigint":return`${o}n`;case"boolean":return o.toString();case"function":{let p=o.toString().replace(/^[^\s]+\(/,"function(").split(/\r?\n/g),f=/^$/;for(let H of p){let m=/^[ \t]+/.exec(H);if(m){f=new RegExp(`^[ \\t]{0,${m[0].length}}`);break}}return p.map((H,m)=>m===0?H:(H=H.replace(f,""),m===p.length-1?r.repeat(a)+H:r.repeat(a+1)+H)).join(i)}case"number":return`${o}`;case"object":if(o===null)return"null";if(u.includes(o))return"[Circular]";if(o instanceof Date)return`"${o.toISOString()}"`;if(typeof Node<"u"&&t instanceof Node)return t.outerHTML;let c=n(o);if(c)return`new ${c.name}([${o.join(", ")}])`;if(o instanceof ArrayBuffer)return`new Uint8Array([${new Uint8Array(o).join(", ")}]).buffer`;if(o instanceof Array)return["[",...o.map(p=>r.repeat(a+1)+s(p,a+1,[...u,o])+","),r.repeat(a)+"]"].join(i);let l=o;return["{",...Object.keys(l).map(p=>r.repeat(a+1)+(/^[$a-z_][0-9a-z_$]*$/i.test(p)?p:JSON.stringify(p))+": "+s(l[p],a+1,[...u,o])+","),r.repeat(a)+"}"].join(i);case"string":return JSON.stringify(o);case"symbol":return o.toString();case"undefined":return"undefined";default:return String(o)}}try{return s(t)}catch{return""+t}}),Ik=zt(`
  function(spaces2) {
    const result = ${K0.expr("this","spaces2")};
    return result;
  }
`);var Co=U(xt());var Va=U(pe());var Ak=zt(function(){let t={__proto__:this.__proto__},e=Object.getOwnPropertyNames(this);for(let r=0;r<e.length;++r){let i=e[r],n=i>>>0;if(String(n>>>0)===i&&n>>>0!==4294967295)continue;let s=Object.getOwnPropertyDescriptor(this,i);s&&Object.defineProperty(t,i,s)}return t});var Sk=zt(function(t,e){let r={},i=t===-1?0:t,n=e===-1?this.length:t+e;for(let s=i;s<n&&s<this.length;++s){let o=Object.getOwnPropertyDescriptor(this,s);o&&Object.defineProperty(r,s,o)}return r});var Ek=zt(function(){return[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")]}),xk=Ea(function(t,e){let r={},i="<<default preview>>";if(typeof this!="object"||!this)return r;for(let[n,s]of Object.entries(this)){if(e)try{let o=e.call(s,i);if(o!==i){r[n]=String(o);continue}}catch(o){r[n]=`<<indescribable>>${JSON.stringify([String(o),n])}`;continue}if(typeof s=="object"&&s){let o;for(let a of runtimeArgs[0])try{o=s[a]();break}catch{}!o&&!String(s.toString).includes("[native code]")&&(o=String(s)),o&&!o.startsWith("[object ")&&(r[n]=o.length>=t?o.slice(0,t)+"\u2026":o)}}return r}),Ck=Ea(function(t,e){if(e)try{let r="<<default preview>>",i=e.call(this,r);if(i!==r)return String(i)}catch(r){return`<<indescribable>>${JSON.stringify([String(r),"object"])}`}if(typeof this=="object"&&this){let r;for(let i of runtimeArgs[0])try{r=this[i]();break}catch{}if(!r&&!String(this.toString).includes("[native code]")&&(r=String(this)),r&&!r.startsWith("[object "))return r.length>=t?r.slice(0,t)+"\u2026":r}});var Lk=zt(function(t){return t.call(this)});var Pk=zt(function(t,e){let{buffer:r,byteLength:i,byteOffset:n}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,s=n+Math.min(t,i),o=Math.max(0,Math.min(e,i-t));return a(new Uint8Array(r,s,o));function a(u){let c="0123456789abcdef",l="";for(let p=0;p<u.length;p++){let f=u[p];l+=c[f>>>4]+c[f&15]}return l}});var Dk=zt(function(t,e){let r=u(e),{buffer:i,byteLength:n,byteOffset:s}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,o=s+Math.min(t,n),a=Math.max(0,Math.min(r.length,n-t));return new Uint8Array(i,o,a).set(r.subarray(0,a)),a;function u(c){let l=new Uint8Array(c.length>>>1);for(let p=0;p<c.length;p+=2)l[p>>>1]=parseInt(c.slice(p,p+2),16);return l}});var nw=(()=>{let t=0,e=2147483647-1;return()=>t++%e+1})(),sw=t=>{if(typeof t=="string")return{value:t};let e=t;return e.objectId?{objectId:e.objectId}:e.unserializableValue?{unserializableValue:e.unserializableValue}:{value:e.value}},YY=new Set(["typedarray","dataview","arraybuffer","webassemblymemory"]);var kk=1024,QY=/^[$a-z_][0-9a-z_$]*$/i,ZY=/^#[0-9a-z_$]+$/i,eQ=t=>t.hasOwnProperty("configurable"),Tk=(t,e,r)=>{let i=NL(t,am(e),r);return Hs(i)},$k="<<indescribable>>",Rk=t=>{if(!t.startsWith($k))return t;let e,r;try{[e,r]=JSON.parse(t.slice($k.length))}catch{return t}return Co.t("{0} (couldn't describe: {1})",e,r)},z0=t=>!!t&&typeof t=="object"&&"readMemory"in t&&"writeMemory"in t,Zc=class{constructor(e,r,i,n,s,o,a){this.cdp=e;this.parent=r;this.vars=n;this.locationProvider=s;this.currentRef=o;this.settings=a;this.name=i.name,this.presentationHint=i.presentationHint,this.sortOrder=i.sortOrder||0}get customDescriptionGenerator(){return this.settings.customDescriptionGenerator}createVariable(e,r,...i){var s;let n=new e(new Zc(this.cdp,(s=this.currentRef)==null?void 0:s.call(this),r,this.vars,this.locationProvider,()=>n,this.settings),...i);return n.id>0&&this.vars.add(n),n}createVariableByType(e,r,i){if(q0(r))return this.createVariable(kH,e,r);if(r.objectId){if(r.subtype==="map"||r.subtype==="set")return this.createVariable(Z0,e,r,i);if(!j0.has(r.subtype))return this.createVariable(kf,e,r,i)}return this.createVariable(jr,e,r)}async getDescriptionSymbols(e){return this.settings.descriptionSymbols??=Ek({cdp:this.cdp,args:[],objectId:e}).then(r=>({objectId:r.objectId}),()=>({value:[]})),await this.settings.descriptionSymbols}async createObjectPropertyVars(e,r){var c;let i=[];if(this.settings.customPropertiesGenerator){let{result:l,errorDescription:p}=await this.evaluateCodeForObject(e,this.settings.customPropertiesGenerator,[]);l&&l.type!=="undefined"?e=l:i.push([this.createVariable(Q0,{name:"",sortOrder:-1},l,(l==null?void 0:l.description)||p||Co.t("Unknown error"))])}if(!e.objectId)return[];r&&this.cdp.DotnetDebugger.setEvaluationOptions({options:r,type:"variable"});let[n,s,o]=await Promise.all([this.cdp.Runtime.getProperties({objectId:e.objectId,accessorPropertiesOnly:!0,ownProperties:!1,generatePreview:!0}),this.cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0,generatePreview:!0}),this.cdp.Runtime.callFunctionOn({functionDeclaration:xk.decl(`${kk}`,this.settings.customDescriptionGenerator||"null"),arguments:[await this.getDescriptionSymbols(e.objectId)],objectId:e.objectId,throwOnSideEffect:!0,returnByValue:!0}).then(l=>(l==null?void 0:l.result.value)||{}).catch(()=>({}))]);if(!n||!s)return[];let a=new Map,u=[];for(let l of n.result){if(l.symbol){u.push(l);continue}l.name==="__proto__"&&((c=s.internalProperties)!=null&&c.some(p=>p.name==="[[Prototype]]"))||a.set(l.name,l)}for(let l of s.result)l.get||l.set||(l.symbol?u.push(l):a.set(l.name,l));for(let l of[a.values(),u.values()])for(let p of l)i.push(this.createPropertyVar(p,e,o!=null&&o.hasOwnProperty(p.name)?Rk(o[p.name]):void 0));for(let l of s.privateProperties??[])i.push(this.createPropertyVar(l,e,void 0,{presentationHint:{visibility:"private"},sortOrder:1}));for(let l of s.internalProperties||[]){if(l.name==="[[StableObjectId]]")continue;let p;l.name==="[[FunctionLocation]]"&&l.value&&l.value.subtype==="internal#location"?p=this.createVariable(Y0,{name:l.name,presentationHint:{visibility:"internal",attributes:["readOnly"]},sortOrder:2},l.value):l.value!==void 0&&(p=this.createVariableByType({name:l.name,presentationHint:{visibility:"internal"},sortOrder:2},l.value)),p&&i.push([p])}return mp(await Promise.all(i))}async createPropertyVar(e,r,i,n){let s=[],o=e.get&&e.get.type!=="undefined",a=e.set&&e.set.type!=="undefined",u={name:e.name,presentationHint:{},sortOrder:0,...n};return n||(eQ(e)?(e.enumerable===!1&&!o&&(u.presentationHint.visibility="internal",u.sortOrder=1),(e.writable===!1||o&&!a)&&(u.presentationHint.attributes=["readOnly"])):(u.presentationHint.visibility="private",u.sortOrder=1)),"value"in e&&e.value&&s.push(this.createVariableByType(u,e.value,i)),o?s.push(this.createVariable(rw,u,e.get,r)):a&&s.push(this.createVariable(tw,u,e.set)),s}async evaluateCodeForObject(e,r,i){try{let n=await this.cdp.Runtime.callFunctionOn({objectId:e.objectId,functionDeclaration:r,arguments:i.map(sw)});if(n){if(n.exceptionDetails===void 0)return{result:n.result};if(n&&n.result.description)return{errorDescription:n.result.description}}return{errorDescription:Co.t("Unknown error")}}catch(n){return{errorDescription:n.stack||n.message||String(n)}}}},tQ=t=>typeof t=="number"||/^[0-9]+$/.test(t),jr=class{constructor(e,r){this.context=e;this.remoteObject=r;this.id=nw()}get name(){return this.context.name}get sortOrder(){return this.context.sortOrder}get accessor(){let{parent:e,name:r}=this.context;if(!e||e instanceof Ga)return this.context.name;if(e instanceof Rf)return e.accessor;let i=e.context.parent;if(i instanceof jr){if(this.remoteObject.subtype==="internal#entry")return`[...${i.accessor}.entries()][${+r}]`;if(e.remoteObject.subtype==="internal#entry")return`${e.accessor}[${this.name==="key"?0:1}]`}return tQ(r)?`${e.accessor}[${r}]`:QY.test(r)?`${e.accessor}.${r}`:e.accessor==="this"&&ZY.test(r)?`${e.accessor}.${r}`:`${e.accessor}[${JSON.stringify(r)}]`}async toDap(e,r){let i=this.context.name;return this.context.parent instanceof Ga&&(i=await this.context.parent.getRename(i)),Promise.resolve({name:i,value:qa(this.remoteObject,e,r),evaluateName:this.accessor,type:this.remoteObject.type,variablesReference:0,presentationHint:this.context.presentationHint})}async setProperty(e,r){let i=await this.context.cdp.Runtime.callFunctionOn({objectId:this.remoteObject.objectId,functionDeclaration:`function(a) { return this[a] = ${r}; ${Dt()} }`,arguments:[sw(e)],silent:!0});if(!i)throw new te(Ze(Co.t("Unable to set variable value")));if(i.exceptionDetails)throw new te(Ok(i.exceptionDetails));return this.context.createVariableByType({name:e},i.result)}async getChildren(e){return Promise.resolve([])}},$H=class{constructor(e){this.child=e;this.id=nw()}getChildren(){return Promise.resolve([this.child])}},X0=class extends jr{constructor(r,i,n,s){var o;super(r,{type:((o=n[0])==null?void 0:o.type)??"string"});this.value=i;this.args=n;this.stackTrace=s}toDap(){return Promise.resolve({name:this.context.name,value:this.value,variablesReference:this.stackTrace||this.args.some(ja)?this.id:0})}getChildren(r){let i=[],{args:n,stackTrace:s}=this;for(let o=0;o<n.length;++o)ja(n[o])&&i.push(this.context.createVariableByType({name:`arg${o}`,sortOrder:o},n[o]));return s&&i.push(this.context.createVariable(J0,{name:"",sortOrder:Number.MAX_SAFE_INTEGER},this.remoteObject,s)),Promise.resolve(i)}},J0=class extends jr{constructor(r,i,n){super(r,i);this.stacktrace=n}async toDap(){return{name:"",value:await this.stacktrace.format(),variablesReference:0}}},Y0=class extends jr{constructor(r,i){super(r,i);this.location=i.value}async toDap(){return{name:this.context.name,value:await this.context.locationProvider.renderDebuggerLocation(this.location),variablesReference:0,presentationHint:{visibility:"internal"}}}},Q0=class extends jr{constructor(r,i,n){super(r,i);this.message=n}get accessor(){if(!(this.context.parent instanceof jr))throw new Error("ErrorVariable must have a parent Variable");return this.context.parent.accessor}toDap(){return Promise.resolve({name:this.context.name,value:this.message,variablesReference:0})}},MH=Symbol("NoStringRepr"),kf=class extends jr{constructor(r,i,n){super(r,i);this.customStringRepr=n}async toDap(r,i){let[n,s]=await Promise.all([await super.toDap(r,i),await this.getValueRepresentation(r)]);return{...n,type:this.remoteObject.className||this.remoteObject.subtype||this.remoteObject.type,variablesReference:this.id,memoryReference:YY.has(this.remoteObject.subtype)?String(this.id):void 0,value:s}}async getValueRepresentation(r){if(typeof this.customStringRepr=="string")return this.customStringRepr;if(!this.context.parent&&this.remoteObject.objectId&&this.customStringRepr!==MH)try{let i=await this.context.cdp.Runtime.callFunctionOn({functionDeclaration:Ck.decl(`${kk}`,this.context.customDescriptionGenerator||"null"),arguments:[await this.context.getDescriptionSymbols(this.remoteObject.objectId)],objectId:this.remoteObject.objectId,returnByValue:!0});if(i!=null&&i.result.value)return this.customStringRepr=Rk(i.result.value)}catch{this.customStringRepr=MH}return this.context.name==="__proto__"&&this.remoteObject.description||qa(this.remoteObject,r)}async readMemory(r,i){let n=await Pk({cdp:this.context.cdp,args:[r,i],objectId:this.remoteObject.objectId,returnByValue:!0});return Buffer.from(n.value,"hex")}async writeMemory(r,i){return(await Dk({cdp:this.context.cdp,args:[r,i.toString("hex")],objectId:this.remoteObject.objectId,returnByValue:!0})).value}getChildren(r){return this.context.createObjectPropertyVars(this.remoteObject,r.evaluationOptions)}},Mk="[[Entries]]",Z0=class extends kf{constructor(r,i){var s;super(r,i,MH);this.baseChildren=Pe(()=>super.getChildren({variablesReference:this.id}));let n=i.preview;this.isMap=n.subtype==="map",this.size=Number((s=n.properties.find(o=>o.name==="size"))==null?void 0:s.value)??void 0}async toDap(r){let i=await super.toDap(r);return this.size&&this.size>100&&(i.indexedVariables=this.size),i}async getChildren(r){var s;let i=await this.baseChildren();return[...(await((s=i.find(o=>o.name===Mk))==null?void 0:s.getChildren(r))||[]).filter(o=>o.sortOrder===0),...i.filter(o=>o.name!==Mk)]}},kH=class extends kf{constructor(r,i){super(r,i,MH);this.length=0;let n=String(i.description).match(/\(([0-9]+)\)/);this.length=n?+n[1]:0}async toDap(r){return{...await super.toDap(r),indexedVariables:this.length>100?this.length:void 0,namedVariables:this.length>100?1:void 0}}async getChildren(r){switch(r==null?void 0:r.filter){case"indexed":return this.getArraySlots(r);case"named":return this.getArrayProperties();default:return Promise.all([this.getArrayProperties(),this.getArraySlots()]).then(mp)}}async getArrayProperties(){try{let r=await Ak({cdp:this.context.cdp,args:[],objectId:this.remoteObject.objectId,generatePreview:!0});return this.context.createObjectPropertyVars(r)}catch{return[]}}async getArraySlots(r){let i=r&&typeof r.start<"u"?r.start:-1,n=r&&typeof r.count<"u"?r.count:-1,s;try{s=await Sk({cdp:this.context.cdp,generatePreview:!1,args:[i,n],objectId:this.remoteObject.objectId})}catch{return[]}let o=await this.context.createObjectPropertyVars(s);return s.objectId&&await this.context.cdp.Runtime.releaseObject({objectId:s.objectId}),o}},ew=class extends kH{async toDap(e){return this.remoteObject.preview?{...await super.toDap(e),name:yk(this.remoteObject.preview)}:super.toDap(e)}},Rf=class extends jr{constructor(e,r){super(e,r)}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}},tw=class extends Rf{async toDap(e,r){return{...await super.toDap(e,r),value:"write-only",variablesReference:this.id}}},rw=class extends Rf{constructor(r,i,n){super(r,i);this.parentObject=n}async toDap(r,i){let n=await super.toDap(r,i);return n.variablesReference=this.id,n.presentationHint={...n.presentationHint,lazy:!0},n}async getChildren(r){try{let i=await Lk({cdp:this.context.cdp,objectId:this.parentObject.objectId,args:[new zp(this.remoteObject.objectId)]});return[this.context.createVariableByType({name:this.name,presentationHint:this.context.presentationHint},i)]}catch(i){if(!(i instanceof lc))throw i}return super.getChildren(r)}},Ga=class{constructor(e,r,i,n,s){this.remoteObject=e;this.context=r;this.ref=i;this.extraProperties=n;this.renameProvider=s;this.id=nw()}async getChildren(e){let r=await this.context.createObjectPropertyVars(this.remoteObject),i=new Set(r.map(n=>n.name));for(let n of this.extraProperties)i.has(n.name)||r.push(this.context.createVariableByType({name:n.name},n.value));return r}async getRename(e){return(await this.renameProvider.provideOnStackframe(this.ref.stackFrame)).getOriginalName(e,this.ref.stackFrame.rawPosition)||e}async setProperty(e,r){let i=await this.context.cdp.Debugger.evaluateOnCallFrame({expression:`${r} ${Dt()}`,callFrameId:this.ref.callFrameId});if(!i)throw new te(Je(Co.t("Invalid expression")));if(i.exceptionDetails)throw new te(Ok(i.exceptionDetails));return await this.context.cdp.Debugger.setVariableValue({callFrameId:this.ref.callFrameId,scopeNumber:this.ref.scopeNumber,variableName:e,newValue:sw(i.result)}),this.context.createVariableByType({name:e},i.result)}},iw=class{constructor(){this.value=new Map}get(e){return this.value.get(e)}add(e){this.value.set(e.id,e)}clear(){this.value.clear()}},xo=class{constructor(e,r,i,n,s){this.renameProvider=e;this.cdp=r;this.dap=i;this.launchConfig=n;this.locationProvider=s;this.vars=new iw;this.contextSettings={customDescriptionGenerator:n.customDescriptionGenerator&&Tk(["defaultValue"],n.customDescriptionGenerator,!1),customPropertiesGenerator:n.customPropertiesGenerator&&Tk([],n.customPropertiesGenerator,!1)}}createDetached(){return new xo(this.renameProvider,this.cdp,this.dap,this.launchConfig,this.locationProvider)}clear(){this.vars.clear()}createFloatingVariable(e,r){return this.createFloatingContext().createVariableByType({name:e},r)}createVariableForOutput(e,r,i,n){let s=this.createFloatingContext(),o=r.length===1&&n==="table"?s.createVariable(ew,{name:""},r[0]):r.length===1&&ja(r[0])&&!i?s.createVariableByType({name:""},r[0]):s.createVariable(X0,{name:""},e,r,i),a=new $H(o);return this.vars.add(a),a}createScope(e,r,i){let n=new Ga(e,new Zc(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>n,this.contextSettings),r,i,this.renameProvider);return this.vars.add(n),n}hasVariable(e){return!!this.vars.get(e)}hasMemory(e){return z0(this.vars.get(Number(e)))}async readMemory(e,r,i){let n=this.vars.get(Number(e));return z0(n)?n.readMemory(r,i):void 0}async writeMemory(e,r,i){let n=this.vars.get(Number(e)),s=z0(n)?await n.writeMemory(r,i):0;return s>0&&this.dap.invalidated({areas:["variables"]}),s}async getVariableNames(e){let r=this.vars.get(e.variablesReference);return r?(await r.getChildren(e)).filter(ga(jr)).map(n=>n.name):[]}async getVariables(e){let r=this.vars.get(e.variablesReference);if(!r)return[];let i=await r.getChildren(e);return(await Promise.all(i.map(s=>s.toDap(r instanceof Ga||r instanceof $H?"repl":"propertyValue",e.format).then(o=>({v:s,dap:o}))))).sort((s,o)=>s.v.sortOrder-o.v.sortOrder||+s.dap.name-+o.dap.name||s.dap.name.localeCompare(o.dap.name)).map(s=>s.dap)}async setVariable(e){let r=this.vars.get(e.variablesReference);if(!e.value)throw new te(Je(Co.t("Cannot set an empty value")));if(r instanceof Ga||r instanceof jr)return await(await r.setProperty(e.name,e.value)).toDap("propertyValue",e.format);throw new te(Ze(Co.t("Variable not found")))}createFloatingContext(){return new Zc(this.cdp,void 0,{name:"<unnamed>"},this.vars,this.locationProvider,void 0,this.contextSettings)}};xo=z([(0,Va.injectable)(),x(0,(0,Va.inject)(yo)),x(1,(0,Va.inject)(ft)),x(2,(0,Va.inject)(bi)),x(3,(0,Va.inject)(Ve))],xo);function Ok(t){let e=t.exception&&Wa(t.exception).title||t.text;return Je(e)}var RH=class{constructor(e){this.description=e;this.sourceMapLoads=new Map;this.scripts=[]}get isDefault(){return this.description.auxData&&this.description.auxData.isDefault}async remove(e){await Promise.all(this.scripts.map(async r=>{let i=await r.source;i.filterScripts(n=>n.executionContextId!==this.description.id),i.scripts.length||e.removeSource(i)}))}},ow=class{constructor(e){this._obj=e;this._dapDeferred=je()}resolve(){this._dapDeferred.resolve(this._obj)}with(e){return this._dapDeferred.hasSettled()?e(this._obj):this._dapDeferred.promise.then(r=>e(r))}},iQ=50,Nk=(t,e)=>t.sourceReference===e.sourceReference&&Cm(t.path||"",e.path||""),nQ=()=>`
//# sourceURL=eval-${(0,Bk.randomBytes)(4).toString("hex")}${".repl"}
`,aw=class{enqueue(e,r){var i;if(!this.queue||this.queue.operation!==e){let n=((i=this.queue)==null?void 0:i.result.then(r,r))??r(),s=this.queue={operation:e,result:n.finally(()=>{this.queue===s&&(this.queue=void 0)})}}return this.queue.result}},Lo=class{constructor(e,r,i,n,s,o,a,u,c,l,p,f,H,m){this.target=n;this.logger=o;this.evaluator=a;this.completer=u;this.launchConfig=c;this._breakpointManager=l;this.console=p;this.exceptionPause=f;this._smartStepper=H;this.shutdown=m;this._executionContexts=new Map;this._excludedCallers=[];this.stateQueue=new aw;this._onPausedEmitter=new J;this.disposed=!1;this.debuggerReady=je();this.onPaused=this._onPausedEmitter.event;this._dap=new ow(i),this._sourceContainer=e,this._cdp=r,this.id=Lo._lastThreadId++,this.replVariables=new xo(s,this._cdp,i,c,this),e.onSourceMappedSteppingChange(()=>this.refreshStackTrace()),this._initialize()}setExcludedCallers(e){this._excludedCallers=e}cdp(){return this._cdp}name(){return this.target.name()}pausedDetails(){return this._pausedDetails}pausedVariables(){return this._pausedVariables}defaultExecutionContext(){for(let e of this._executionContexts.values())if(e.isDefault)return e}resume(){return this.stateQueue.enqueue("resume",async()=>(this._sourceContainer.clearDisabledSourceMaps(),!await this._cdp.Debugger.resume({})&&this._pausedDetails!==void 0?Ze(Oe.t("Unable to resume")):{allThreadsContinued:!1}))}pause(){return this.stateQueue.enqueue("pause",async()=>(this._expectedPauseReason={reason:"pause"},await this._cdp.Debugger.pause({})?{}:Ze(Oe.t("Unable to pause"))))}stepOver(){return this.stateQueue.enqueue("stepOver",async()=>(this._expectedPauseReason={reason:"step",direction:1},await this._cdp.Debugger.stepOver({})?{}:Ze(Oe.t("Unable to step next"))))}stepInto(e){return this.stateQueue.enqueue("stepInto",async()=>{var i,n;this._waitingForStepIn={lastDetails:this._pausedDetails},this._expectedPauseReason={reason:"step",direction:0};let r=(n=(i=this._pausedDetails)==null?void 0:i.stepInTargets)==null?void 0:n[e];if(r){let s=await this._cdp.Debugger.setBreakpoint({location:r.breakLocation});if(this._waitingForStepIn.intoTargetBreakpoint=s==null?void 0:s.breakpointId,await this._cdp.Debugger.resume({}))return{}}else if(await this._cdp.Debugger.stepInto({breakOnAsyncCall:!0}))return{};return Ze(Oe.t("Unable to step in"))})}stepOut(){return this.stateQueue.enqueue("stepOut",async()=>(this._expectedPauseReason={reason:"step",direction:2},await this._cdp.Debugger.stepOut({})?{}:Ze(Oe.t("Unable to step out"))))}_stackFrameNotFoundError(){return Ze(Oe.t("Stack frame not found"))}_evaluateOnAsyncFrameError(){return Ze(Oe.t("Unable to evaluate on async stack frame"))}async restartFrame(e){var s;let r=(s=this._pausedDetails)==null?void 0:s.stackTrace.frame(e.frameId);if(!r)return this._stackFrameNotFoundError();let i=r.callFrameId();return i?await this._cdp.Debugger.restartFrame({callFrameId:i,mode:"StepInto"})?(this._expectedPauseReason={reason:"frame_entry",description:Oe.t("Paused on frame entry")},r.canExplicitlyBeRestarted||await this._cdp.Debugger.stepInto({}),{}):Je(Oe.t("Frame could not be restarted")):Je(Oe.t("Cannot restart asynchronous frame"))}async stackTrace(e){return this._pausedDetails?this._pausedDetails.stackTrace.toDap(e):Ze(Oe.t("Thread is not paused"))}async scopes(e){let r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0;return r?r.scopes():this._stackFrameNotFoundError()}async exceptionInfo(){let e=this._pausedDetails&&this._pausedDetails.exception;if(!e)return Ze(Oe.t("Thread is not paused on exception"));let r=Wa(e);return{exceptionId:r.title,breakMode:"all",details:{stackTrace:r.stackTrace,evaluateName:void 0}}}async revealPage(){return this._cdp.Page.bringToFront({}),{}}async completions(e){let r;if(e.frameId!==void 0){if(r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!r)return this._stackFrameNotFoundError();if(!r.callFrameId())return this._evaluateOnAsyncFrameError()}if(e.line===1&&e.text.startsWith("cd "))return{targets:this.getExecutionContextCompletions(e)};let i=await this.completer.completions({executionContextId:this._selectedContext?this._selectedContext.description.id:void 0,stackFrame:r,expression:e.text,position:new zr(e.line||1,e.column)});return{targets:[...this.getExecutionContextCompletions(e),...i]}}getExecutionContextCompletions(e){if(e.line&&e.line>1)return[];let r=e.text.slice(0,e.column).trim();return[...this._executionContexts.values()].map(i=>`cd ${this.target.executionContextName(i.description)}`).filter(i=>i.startsWith(r)).map(i=>({label:i,start:0,length:e.text.length}))}async evaluate(e){let r,i;if(e.frameId!==void 0){if(i=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!i)throw new te(this._stackFrameNotFoundError());if(r=i.callFrameId(),!r)throw new te(this._evaluateOnAsyncFrameError())}if(e.context==="repl"&&e.expression.startsWith("cd ")){let c=e.expression.substring(3).trim();for(let l of this._executionContexts.values())if(this.target.executionContextName(l.description)===c)return this._selectedContext=l,{result:`[${c}]`,variablesReference:0}}let n=e.context==="clipboard"?{expression:K0.expr(e.expression,"2"),includeCommandLineAPI:!0,returnByValue:!0,objectGroup:"console"}:{expression:e.expression,includeCommandLineAPI:!0,objectGroup:"console",generatePreview:!0,timeout:e.context==="hover"?this.getHoverEvalTimeout():void 0};if(e.context==="repl"){if(n.expression=Kp(n.expression),n.expression.indexOf("await")!==-1){let c=OD(n.expression);c&&(n.expression=c,n.awaitPromise=!0)}n.expression+=nQ()}e.evaluationOptions&&this.cdp().DotnetDebugger.setEvaluationOptions({options:e.evaluationOptions,type:"evaluation"});let s=this.evaluator.evaluate(r?{...n,callFrameId:r}:{...n,contextId:this._selectedContext?this._selectedContext.description.id:void 0},{isInternalScript:!1,stackFrame:i});if(e.context==="repl")return await this._evaluateRepl(e,s,e.format);let o=await s;if(!o)throw new te(Ze(Oe.t("Unable to evaluate")));if(o.exceptionDetails){let c=o.exceptionDetails.exception?Wa(o.exceptionDetails.exception).title:o.exceptionDetails.text;throw c.startsWith("Uncaught")||(c="Uncaught "+c),new te(Ze(c))}let a=r?this._pausedVariables:this.replVariables;if(!a)throw new te(Ze(Oe.t("Unable to evaluate")));let u=await a.createFloatingVariable(n.expression,o.result).toDap(e.context,e.format);return{type:o.result.type,result:u.value,variablesReference:u.variablesReference,namedVariables:u.namedVariables,indexedVariables:u.indexedVariables,memoryReference:u.memoryReference}}getHoverEvalTimeout(){var r;let e=(r=this.launchConfig.timeouts)==null?void 0:r.hoverEvaluation;if(e===void 0)return 500;if(!(e<=0))return e}async _evaluateRepl(e,r,i){let n=await r;if(!n)return{result:"",variablesReference:0};if(n.exceptionDetails){let u=await new Of(n.exceptionDetails).toDap(this);throw new te(AT(u.output))}let s=this._selectedContext&&this.defaultExecutionContext()!==this._selectedContext?`\x1B[33m[${this.target.executionContextName(this._selectedContext.description)}] `:"",o=await this.replVariables.createFloatingVariable(e.expression,n.result).toDap("repl",i),a=xH("repl").budget;return o.variablesReference===0&&o.value.length===a&&setImmediate(()=>this.console.enqueue(this,{toDap:()=>({output:Oe.t("Output has been truncated to the first {0} characters. Run `{1}` to copy the full output.",a,`copy(${e.expression.trim()})`),category:"stdout"})})),{...o,result:`${s}${o.value}`}}_initialize(){this._cdp.Runtime.on("executionContextCreated",e=>{this._executionContextCreated(e.context)}),this._cdp.Runtime.on("executionContextDestroyed",e=>{this._executionContextDestroyed(e.executionContextId)}),this._cdp.Runtime.on("executionContextsCleared",()=>{this.launchConfig.noDebug||this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.replVariables.clear(),this._executionContextsCleared()}),this._cdp.Inspector.on("targetReloadedAfterCrash",()=>{this._breakpointManager.reapply()}),this.launchConfig.outputCapture==="console"&&(this._cdp.Runtime.on("consoleAPICalled",e=>{this.console.dispatch(this,e)}),this._cdp.Runtime.on("exceptionThrown",e=>{this.console.enqueue(this,new Of(e.exceptionDetails))})),this._cdp.Runtime.on("inspectRequested",e=>{e.hints.copyToClipboard?this._copyObjectToClipboard(e.object):e.hints.queryObjects?this.console.enqueue(this,new DH(e.object,this.cdp())):this._revealObject(e.object)}),this._cdp.Debugger.on("paused",async e=>this._onPaused(e)),this._cdp.Debugger.on("resumed",()=>this.onResumed()),this._cdp.Debugger.on("scriptParsed",e=>this._onScriptParsed(e)),this._cdp.Debugger.on("scriptFailedToParse",e=>this._onScriptParsed(e)),this._cdp.Runtime.enable({}),this._cdp.Profiler.enable({}),this.launchConfig.noDebug?this.logger.info("runtime.launch","Running with noDebug, so debug domains are disabled"):this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.target.initialize(),this._dap.with(e=>e.thread({reason:"started",threadId:this.id}))}dapInitialized(){this._dap.resolve()}async getStepInTargets(e){var l,p;let r=this._pausedDetails;if(!r)return[];let i=r.stackTrace.frames.find(f=>f.frameId===e);if(!(i instanceof It))return[];let n=await i.uiLocation();if(!n)return[];let s=r.event.callFrames[0].location,[o,a]=await Promise.all([this._breakpointManager.getBreakpointLocations(this,n.source,new zr(n.lineNumber,1),new zr(n.lineNumber+1,1)).then(f=>f.filter(H=>H.breakLocation.lineNumber!==s.lineNumber||H.breakLocation.columnNumber!==s.columnNumber)),n.source.content()]),u=((l=r.stepInTargets)==null?void 0:l.length)||0;r.stepInTargets=((p=r.stepInTargets)==null?void 0:p.concat(o))||o;let c=a&&new co(a);return o.map((f,H)=>{let m=f.uiLocations.find(b=>b.source===n.source);if(!m)return;if(!c)return{id:u+H,label:`Column ${m}`,line:m.lineNumber,column:m.columnNumber};let y=ND(a.slice(c.getLineOffset(m.lineNumber-1),c.getLineOffset(m.lineNumber)),m.columnNumber-1);if(y)return{id:u+H,label:y.text,line:m.lineNumber,column:y.start+1,endLine:m.lineNumber,endColumn:y.end+1}}).filter(ur)}async refreshStackTrace(){this._pausedDetails&&(this._pausedDetails=this._createPausedDetails(this._pausedDetails.event),this._onThreadResumed(),await this._onThreadPaused(this._pausedDetails))}_executionContextCreated(e){let r=new RH(e);this._executionContexts.set(e.id,r)}_executionContextDestroyed(e){let r=this._executionContexts.get(e);r&&(this._executionContexts.delete(e),r.remove(this._sourceContainer))}_executionContextsCleared(){this._removeAllScripts(),this._breakpointManager.executionContextWasCleared(),this._pausedDetails&&this.onResumed(),this._executionContexts.clear()}_ensureDebuggerEnabledAndRefreshDebuggerId(){this._cdp.Debugger.enable({}).then(e=>{this.debuggerReady.resolve(),e&&Lo._allThreadsByDebuggerId.set(e.debuggerId,this)}),this.exceptionPause.apply(this._cdp)}async _onPaused(e){var l,p,f,H,m,y;let r=(e.hitBreakpoints??[]).filter(b=>b!==this._pauseOnSourceMapBreakpointId),i=e.reason==="Break on start"||e.reason==="debugCommand",n=(l=e.callFrames[0])==null?void 0:l.location,s=((p=e.data)==null?void 0:p.scriptId)||(n==null?void 0:n.scriptId),o=e.reason==="instrumentation"&&((f=e.data)==null?void 0:f.scriptId)||s&&this._breakpointManager.isEntrypointBreak(r,s);if(this.evaluator.setReturnedValue((H=e.callFrames[0])==null?void 0:H.returnValue),o){this.launchConfig.perScriptSourcemaps==="auto"&&this._shouldEnablePerScriptSms(e)&&await this._enablePerScriptSourcemaps(),e.data&&!i&&(e.data.__rewriteAs="breakpoint");let b=this._expectedPauseReason;if(!(s&&await this._handleSourceMapPause(s,n))){if(!i){if(await this.isCrossThreadStep(e))e.data={...e.data,__rewriteAs:"step"};else if(!await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!0))if((b==null?void 0:b.reason)==="step"){if(b.direction!==0)return this._cdp.Debugger.stepOut({})}else return this.resume()}}}else if(!(e.reason==="exception"||e.reason==="promiseRejection"?await this.exceptionPause.shouldPauseAt(e):await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!1)))return this.resume();let a=(m=this._waitingForStepIn)==null?void 0:m.intoTargetBreakpoint;if(a){(y=e.hitBreakpoints)!=null&&y.includes(a)?(this._waitingForStepIn.intoTargetBreakpoint=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:a}),await this._cdp.Debugger.stepInto({breakOnAsyncCall:!1})):this.resume();return}if(i&&("continueOnAttach"in this.launchConfig&&this.launchConfig.continueOnAttach||this.launchConfig.type==="pwa-extensionHost"||this.target instanceof Qc)){this.resume();return}let u=this._pausedDetails=this._createPausedDetails(e);if(this._excludedCallers.length&&await this._matchesExcludedCaller(this._pausedDetails.stackTrace)){this.logger.info("runtime","Skipping pause due to excluded caller"),this.resume();return}let c=await this._smartStepper.getSmartStepDirection(u,this._expectedPauseReason);if(this._pausedDetails===u){switch(c){case 0:return this.stepInto();case 2:return this.stepOut();case 1:return this.stepOver();default:}this._waitingForStepIn=void 0,this._pausedVariables=this.replVariables.createDetached(),await this._onThreadPaused(u)}}async _matchesExcludedCaller(e){if(!this._excludedCallers.length)return!1;let r=e.frames[0],i=r instanceof It&&await r.uiLocation();if(!i)return!1;let n,s,o=[];for(let{caller:a,target:u}of this._excludedCallers)if(!(u.line!==i.lineNumber||u.column!==i.columnNumber)&&(n??=await i.source.toDapShallow(),!!Nk(n,u.source))){s||(s=await e.loadFrames(iQ).then(l=>Promise.all(l.slice(1).filter(ga(It)).map(p=>p.uiLocation()))));for(let c=0;c<s.length;c++){let l=s[c];if(!l||l.lineNumber!==a.line||l.columnNumber!==a.column)continue;let p=o[c]??=await l.source.toDapShallow();if(Nk(p,a.source))return!0}}return!1}onResumed(){this._pausedDetails=void 0,this._pausedVariables=void 0,this.evaluator.setReturnedValue(void 0),this._onThreadResumed()}async dispose(){this.disposed=!0,await this.shutdown.shutdown();for(let[e,r]of Lo._allThreadsByDebuggerId)r===this&&Lo._allThreadsByDebuggerId.delete(e);this._removeAllScripts(!0),this._executionContextsCleared(),await this._dap.with(e=>e.thread({reason:"exited",threadId:this.id}))}rawLocation(e){if("location"in e){let r=e;return{lineNumber:Math.max(0,r.location.lineNumber)+1,columnNumber:Math.max(0,r.location.columnNumber||0)+1,scriptId:r.location.scriptId}}return{lineNumber:Math.max(0,e.lineNumber)+1,columnNumber:Math.max(0,e.columnNumber||0)+1,scriptId:e.scriptId}}rawLocationToUiLocation(e){if(!e.scriptId||this.disposed||this.launchConfig.noDebug)return;let r=this._sourceContainer.getScriptById(e.scriptId);return r?r.resolvedSource?this._sourceContainer.preferredUiLocation({...r.resolvedSource.offsetScriptToSource(e),source:r.resolvedSource}):r.source.then(i=>this._sourceContainer.preferredUiLocation({...i.offsetSourceToScript(e),source:i})):this.rawLocationToUiLocationWithWaiting(e)}async rawLocationToUiLocationWithWaiting(e){let r=e.scriptId?await this.getScriptByIdOrWait(e.scriptId):void 0;if(!r)return;let i=await r.source;return this._sourceContainer.preferredUiLocation({...i.offsetScriptToSource(e),source:i})}getScriptById(e){return this._sourceContainer.getScriptById(e)}getScriptByIdOrWait(e,r=500){return this._sourceContainer.getScriptById(e)||this.waitForScriptId(e,r)}waitForScriptId(e,r){return new Promise(i=>{let n=this._sourceContainer.onScript(o=>{o.scriptId===e&&(i(o),n.dispose(),clearTimeout(s))}),s=setTimeout(()=>{i(void 0),n.dispose()},r)})}async renderDebuggerLocation(e){let r=this.rawLocation(e),i=await this.rawLocationToUiLocation(r);return i?`@ ${await i.source.prettyName()}:${i.lineNumber}`:`@ VM${r.scriptId||"XX"}:${r.lineNumber}`}async updateCustomBreakpoint(e,r){if(!this.target.supportsCustomBreakpoints())return;let i=G0().get(e);i&&await i.apply(this._cdp,r)}_createPausedDetails(e){var s,o;let r=e.reason==="assert"||e.reason==="exception"||e.reason==="promiseRejection"||e.reason==="other"||e.reason==="ambiguous";if((!!(e.hitBreakpoints&&e.hitBreakpoints.length)||!r)&&this._sourceContainer.clearDisabledSourceMaps(),e.hitBreakpoints&&this._sourceMapDisabler)for(let a of this._sourceMapDisabler(e.hitBreakpoints))this._sourceContainer.disableSourceMapForSource(a);let n=ii.fromDebugger(this,e.callFrames,e.asyncStackTrace,e.asyncStackTraceId);if(((s=e.data)==null?void 0:s.__rewriteAs)==="breakpoint")return{thread:this,event:e,stackTrace:n,reason:"breakpoint",description:Oe.t("Paused on breakpoint")};if(((o=e.data)==null?void 0:o.__rewriteAs)==="step")return{thread:this,event:e,stackTrace:n,reason:"step",description:Oe.t("Paused")};switch(e.reason){case"assert":return{thread:this,event:e,stackTrace:n,reason:"exception",description:Oe.t("Paused on assert")};case"debugCommand":return{thread:this,event:e,stackTrace:n,reason:"pause",description:Oe.t("Paused on debug() call")};case"DOM":return{thread:this,event:e,stackTrace:n,reason:"data breakpoint",description:Oe.t("Paused on DOM breakpoint")};case"EventListener":return this._resolveEventListenerBreakpointDetails(n,e);case"exception":return{thread:this,event:e,stackTrace:n,reason:"exception",description:Oe.t("Paused on exception"),exception:e.data};case"promiseRejection":return{thread:this,event:e,stackTrace:n,reason:"exception",description:Oe.t("Paused on {0}","promise rejection"),exception:e.data};case"instrumentation":return e.data&&e.data.scriptId?{thread:this,event:e,stackTrace:n,reason:"step",description:Oe.t("Paused")}:{thread:this,event:e,stackTrace:n,reason:"function breakpoint",description:Oe.t("Paused on instrumentation breakpoint")};case"XHR":return{thread:this,event:e,stackTrace:n,reason:"data breakpoint",description:Oe.t("Paused on XMLHttpRequest or fetch")};case"OOM":return{thread:this,event:e,stackTrace:n,reason:"exception",description:Oe.t("Paused before Out Of Memory exception")};default:if(e.hitBreakpoints&&e.hitBreakpoints.length){let a=!1,u=this.target.entryBreakpoint;if(u&&e.hitBreakpoints.includes(u.cdpId)){a=!0;let c=this._sourceContainer.source({path:Ht(u.path)});c!==void 0&&(a=!this._sourceContainer.currentSiblingUiLocations({lineNumber:e.callFrames[0].location.lineNumber+1,columnNumber:(e.callFrames[0].location.columnNumber||0)+1,source:c}).some(p=>this._breakpointManager.hasAtLocation(p)))}return a||this._breakpointManager.registerBreakpointsHit(e.hitBreakpoints),{thread:this,event:e,stackTrace:n,hitBreakpoints:e.hitBreakpoints,reason:a?"entry":"breakpoint",description:Oe.t("Paused on breakpoint")}}return this._expectedPauseReason?{thread:this,event:e,stackTrace:n,description:Oe.t("Paused"),...this._expectedPauseReason}:{thread:this,event:e,stackTrace:n,reason:"pause",description:Oe.t("Paused on debugger statement")}}}_resolveEventListenerBreakpointDetails(e,r){let i=r.data,n=i&&i.eventName||"",s=G0().get(n);if(s){let o=s.details(i);return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:o.short,text:o.long}}return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:Oe.t("Paused on event listener")}}_clearDebuggerConsole(){return{category:"console",output:"\x1B[2J"}}_removeAllScripts(e=!1){this._sourceContainer.clear(e)}_onScriptParsed(e){if(e.url.endsWith(".cdp")||(dr(e.url)&&(e.url=We(e.url)),this._sourceContainer.getScriptById(e.scriptId)))return;e.url&&(e.url=this.target.scriptUrlToUrl(e.url));let r=this._executionContexts.get(e.executionContextId);r||(this.logger.info("internal","Creating missing execution context id",e),r=new RH({id:e.executionContextId,name:"<autofilled>",origin:"",uniqueId:String(e.executionContextId)}),this._executionContexts.set(e.executionContextId,r));let i=async()=>{let s=this._sourceContainer.getSourceByOriginalUrl(e.url);if(e.hash&&(s==null?void 0:s.contentHash)===e.hash)return s.addScript({scriptId:e.scriptId,url:e.url,executionContextId:e.executionContextId}),s;let o=async()=>{let p=await this._cdp.Debugger.getScriptSource({scriptId:e.scriptId});return p?p.scriptSource:void 0},a=e.startLine||e.startColumn?{lineOffset:e.startLine,columnOffset:e.startColumn}:void 0,u=e.url.endsWith("#vscode-extension")?{lineOffset:2,columnOffset:0}:void 0,c;e.sourceMapURL&&(c=rr(e.sourceMapURL)?e.sourceMapURL:e.url&&uo(e.url,e.sourceMapURL)||e.url,c||this._dap.with(p=>mT(p,`Could not load source map from ${e.sourceMapURL}`)));let l=await this._sourceContainer.addSource(e,o,c,a,u,!e.hasSourceURL&&this.launchConfig.enableContentValidation?e.hash:void 0);return l.addScript({scriptId:e.scriptId,url:e.url,executionContextId:e.executionContextId}),l},n={url:e.url,scriptId:e.scriptId,executionContextId:e.executionContextId,source:i()};n.source.then(s=>n.resolvedSource=s),r.scripts.push(n),this._sourceContainer.addScriptById(n),e.sourceMapURL&&this._getOrStartLoadingSourceMaps(n)}async _handleSourceMapPause(e,r){this._pausedForSourceMapScriptId=e;let i=this._sourceContainer.sourceMapTimeouts().sourceMapMinPause,n=i+this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause,s=this._sourceContainer.getScriptById(e);if(!s)return this._pausedForSourceMapScriptId=void 0,!1;let o=new Lr,a=await Promise.race([this._getOrStartLoadingSourceMaps(s),ke(n)]),u=o.elapsed().ms,c=this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause-Math.max(u-i,0);this._sourceContainer.setSourceMapTimeouts({...this._sourceContainer.sourceMapTimeouts(),sourceMapCumulativePause:c}),this.logger.verbose("internal","Blocked execution waiting for source-map",{timeSpentWallClockInMs:u,sourceMapCumulativePause:c}),a||this._dap.with(f=>f.output({category:"stderr",output:Oe.t("WARNING: Processing source-maps of {0} took longer than {1} ms so we continued execution without waiting for all the breakpoints for the script to be set.",s.url||s.scriptId,n)})),console.assert(this._pausedForSourceMapScriptId===e),this._pausedForSourceMapScriptId=void 0;let l=(r==null?void 0:r.lineNumber)||0,p=r==null?void 0:r.columnNumber;return!!(a!=null&&a.map(go).some(f=>f.lineNumber===l&&(p===void 0||p===f.columnNumber)))}_getOrStartLoadingSourceMaps(e){let r=this._executionContexts.get(e.executionContextId);if(!r)return Promise.resolve([]);let i=r.sourceMapLoads.get(e.scriptId);if(i)return i;let n=e.source.then(s=>this._sourceContainer.waitForSourceMapSources(s)).then(s=>s.length&&this._scriptWithSourceMapHandler?this._scriptWithSourceMapHandler(e,s):[]);return r.sourceMapLoads.set(e.scriptId,n),n}async _revealObject(e){if(e.type!=="function"||e.objectId===void 0)return;let r=await this._cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0});if(r)for(let i of r.internalProperties||[]){if(i.name!=="[[FunctionLocation]]"||!i.value||i.value.subtype!=="internal#location")continue;let n=await this.rawLocationToUiLocation(this.rawLocation(i.value.value));n&&this._sourceContainer.revealUiLocation(n);break}}async _copyObjectToClipboard(e){if(!e.objectId){this._dap.with(r=>r.copyRequested({text:qa(e,"copy")}));return}try{let r=await Ik({cdp:this.cdp(),objectId:e.objectId,args:[2],silent:!0,returnByValue:!0});this._dap.with(i=>i.copyRequested({text:r.value}))}catch{}finally{this.cdp().Runtime.releaseObject({objectId:e.objectId}).catch(()=>{})}}async _onThreadPaused(e){this._expectedPauseReason=void 0,this._onPausedEmitter.fire(e);let r;e.hitBreakpoints&&(r=await Promise.race([ke(1e3).then(()=>{}),Promise.all(e.hitBreakpoints.map(i=>this._breakpointManager._resolvedBreakpoints.get(i)).filter(ga(wi)).map(i=>i.untilSetCompleted().then(()=>i.dapId)))])),await ke(0),this._dap.with(i=>i.stopped({reason:e.reason,description:e.description,threadId:this.id,text:e.text,hitBreakpointIds:r,allThreadsStopped:!1}))}_onThreadResumed(){this._dap.with(e=>e.continued({threadId:this.id,allThreadsContinued:!1}))}isCrossThreadStep(e){var n;if(!e.asyncStackTraceId||!e.asyncStackTraceId.debuggerId)return!1;let r=Lo.threadForDebuggerId(e.asyncStackTraceId.debuggerId);if(!r||!((n=r._waitingForStepIn)!=null&&n.lastDetails))return!1;let i=r._waitingForStepIn.lastDetails.stackTrace;return r._cdp.Debugger.getStackTrace({stackTraceId:e.asyncStackTraceId}).then(s=>!s||!s.stackTrace.callFrames.length||!It.fromRuntime(r,s.stackTrace.callFrames[0],!1).equivalentTo(i.frames[0])?!1:(r._waitingForStepIn=void 0,!0))}async setScriptSourceMapHandler(e,r){this._scriptWithSourceMapHandler=r;let i=e&&this._sourceContainer.sourceMapTimeouts().sourceMapMinPause&&r;if(i&&!this._pauseOnSourceMapBreakpointId){let n=await this._cdp.Debugger.setInstrumentationBreakpoint({instrumentation:"beforeScriptWithSourceMapExecution"});this._pauseOnSourceMapBreakpointId=n?n.breakpointId:void 0}else if(!i&&this._pauseOnSourceMapBreakpointId){let n=this._pauseOnSourceMapBreakpointId;this._pauseOnSourceMapBreakpointId=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:n})}return!!this._pauseOnSourceMapBreakpointId}async _enablePerScriptSourcemaps(){await this._breakpointManager.updateEntryBreakpointMode(this,1),await this.setScriptSourceMapHandler(!1,this._scriptWithSourceMapHandler)}_shouldEnablePerScriptSms(e){var r,i,n,s;return(r=e.data)!=null&&r.url.includes("@vite/client")?!0:e.reason!=="instrumentation"||!rr((i=e.data)==null?void 0:i.sourceMapURL)?!1:((n=e.data.url)==null?void 0:n.startsWith("webpack"))||((s=e.data.url)==null?void 0:s.startsWith("ng:"))}setSourceMapDisabler(e){this._sourceMapDisabler=e}static threadForDebuggerId(e){return Lo._allThreadsByDebuggerId.get(e)}async replacePathsInStackTrace(e){let r=[];for(let n of new Eo(e)){if(typeof n=="string"){r.push(n);continue}let s=this._sourceContainer.getSourceByOriginalUrl(We(n.path))||this._sourceContainer.getSourceByOriginalUrl(n.path);if(!s){r.push(n.toString());continue}r.push(this._sourceContainer.preferredUiLocation({columnNumber:n.position.base1.columnNumber,lineNumber:n.position.base1.lineNumber,source:s}).then(({source:o,lineNumber:a,columnNumber:u})=>`${o.absolutePath}:${a}:${u}`))}return(await Promise.all(r)).join("")}},Po=Lo;Po._lastThreadId=0,Po._allThreadsByDebuggerId=new Map;async function uw(t){let e=await t.uiLocation();return e?e.source.blackboxed()?2:Er(e.source)&&!e.isMapped&&e.unmappedReason===3?1:0:0}var sQ=new Set(["breakpoint","exception","entry"]),oQ=256,Do=class{constructor(e,r){this.launchConfig=e;this.logger=r;this._smartStepCount=0}resetSmartStepCount(){this._smartStepCount>0&&(this.logger.verbose("internal",`smartStep: skipped ${this._smartStepCount} steps`),this._smartStepCount=0)}async getSmartStepDirection(e,r){if(!this.launchConfig.smartStep||sQ.has(e.reason))return;let i=(await e.stackTrace.loadFrames(1)).find(ga(It));if((i&&await uw(i))===0){this.resetSmartStepCount();return}return this._smartStepCount++>oQ?2:(r==null?void 0:r.reason)==="step"?r.direction:0}};Do=z([(0,Nf.injectable)(),x(0,(0,Nf.inject)(Ve)),x(1,(0,Nf.inject)(le))],Do);var ii=class{constructor(e){this.frames=[];this._frameById=new Map;this._lastFrameThread=e}static fromRuntime(e,r){let i=new ii(e);for(let n of r.callFrames)n.url.endsWith(".cdp")||i.frames.push(It.fromRuntime(e,n,!1));return r.parentId?(i._asyncStackTraceId=r.parentId,console.assert(!r.parent)):i._appendStackTrace(e,r.parent),i}static async fromRuntimeWithPredicate(e,r,i,n=1/0){let s=new ii(e);for(let o=0;o<r.callFrames.length&&n>0;o++)if(!r.callFrames[o].url.endsWith(".cdp")){let a=It.fromRuntime(e,r.callFrames[o],!1);await i(a)&&(s.frames.push(),n--)}return r.parentId?(s._asyncStackTraceId=r.parentId,console.assert(!r.parent)):s._appendStackTrace(e,r.parent),s}static fromDebugger(e,r,i,n){let s=new ii(e);for(let o of r)s._appendFrame(It.fromDebugger(e,o));return n?(s._asyncStackTraceId=n,console.assert(!i)):s._appendStackTrace(e,i),s}async loadFrames(e,r){for(;this.frames.length<e&&this._asyncStackTraceId;){if(this._asyncStackTraceId.debuggerId&&(this._lastFrameThread=Po.threadForDebuggerId(this._asyncStackTraceId.debuggerId)),!this._lastFrameThread){this._asyncStackTraceId=void 0;break}r&&this._lastFrameThread.cdp().DotnetDebugger.setEvaluationOptions({options:{noFuncEval:r},type:"stackFrame"});let i=await this._lastFrameThread.cdp().Debugger.getStackTrace({stackTraceId:this._asyncStackTraceId});this._asyncStackTraceId=void 0,i&&this._appendStackTrace(this._lastFrameThread,i.stackTrace)}return this.frames}frame(e){return this._frameById.get(e)}_appendStackTrace(e,r){for(console.assert(!r||!this._asyncStackTraceId);r;){if(r.description==="async function"&&r.callFrames.length&&r.callFrames.shift(),r.callFrames.length){this._appendFrame(new cw(r.description||"async"));for(let i of r.callFrames)this._appendFrame(It.fromRuntime(e,i,!0))}r.parentId&&(this._asyncStackTraceId=r.parentId,console.assert(!r.parent)),r=r.parent}}_appendFrame(e){this.frames.push(e),e instanceof It&&this._frameById.set(e.frameId,e)}async formatAsNative(){return await this.formatWithMapper(e=>e.formatAsNative())}async format(){return await this.formatWithMapper(e=>e.format())}async formatWithMapper(e){let r=await this.loadFrames(50);for(let n=r.length-1;n>=0;n--){let s=r[n];if(s instanceof It&&s.isReplEval){r=r.slice(0,n+1);break}}let i=r.map(e);return(await Promise.all(i)).join(`
`)+`
`}async toDap(e){let r=e.startFrame||0,i=(e.levels||50)+r,n=await this.loadFrames(i,e.noFuncEval);i=Math.min(n.length,e.levels?i:n.length);let s=[];for(let o=r;o<i;o++)s.push(n[o].toDap(e.format));return{stackFrames:await Promise.all(s),totalFrames:this._asyncStackTraceId?1e6:n.length}}},Fk=nh(),cw=class{constructor(e="async"){this.label=e;this.frameId=Fk()}async toDap(){return{name:this.label,id:0,line:0,column:0,presentationHint:"label"}}async formatAsNative(){return`    --- ${this.label} ---`}async format(){return`\u25C0 ${this.label} \u25B6`}},It=class{constructor(e,r,i,n=!1){this.callFrame=r;this.isAsync=n;this.frameId=Fk();this.completions=Pe(async()=>{if(!this._scope)return[];let e=this._thread.pausedVariables();if(!e)return[];let r=[];for(let n=0;n<this._scope.chain.length;n++){let s=this._scopeVariable(n,this._scope);s&&r.push(e.getVariableNames({variablesReference:s.id}).then(o=>o.map(a=>({label:a,type:"property"}))))}let i=await Promise.all(r);return[].concat(...i)});this._name=r.functionName||"<anonymous>",this._rawLocation=i,this.uiLocation=Pe(()=>e.rawLocationToUiLocation(i)),this._thread=e;let s=i.scriptId?e.getScriptById(i.scriptId):void 0;this.isReplEval=s?s.url.endsWith(".repl"):!1}get rawPosition(){return new Mu(this._rawLocation.lineNumber,this._rawLocation.columnNumber)}static fromRuntime(e,r,i){return new It(e,r,e.rawLocation(r),i)}static fromDebugger(e,r){let i=new It(e,r,e.rawLocation(r));return i._scope={chain:r.scopeChain,thisObject:r.this,returnValue:r.returnValue,variables:new Array(r.scopeChain.length).fill(void 0),callFrameId:r.callFrameId},i}get canExplicitlyBeRestarted(){return!!this.callFrame.canBeRestarted}equivalentTo(e){return e instanceof It&&e._rawLocation.columnNumber===this._rawLocation.columnNumber&&e._rawLocation.lineNumber===this._rawLocation.lineNumber&&e._rawLocation.scriptId===this._rawLocation.scriptId}callFrameId(){return this._scope?this._scope.callFrameId:void 0}async scopes(){let e=this._scope;if(!e)throw new te(ET());return{scopes:(await Promise.all(e.chain.map(async(i,n)=>{let s="",o;switch(i.type){case"global":s=qr.t("Global");break;case"local":s=qr.t("Local"),o="locals";break;case"with":s=qr.t("With Block"),o="locals";break;case"closure":s=qr.t("Closure"),o="arguments";break;case"catch":s=qr.t("Catch Block"),o="locals";break;case"block":s=qr.t("Block"),o="locals";break;case"script":s=qr.t("Script");break;case"eval":s=qr.t("Eval");break;case"module":s=qr.t("Module");break;default:s=i.type.substr(0,1).toUpperCase()+i.type.substr(1);break}i.name&&i.type==="closure"?s=qr.t("Closure ({0})",i.name):i.name&&(s=`${s}: ${i.name}`);let a=this._scopeVariable(n,e);if(!a)return;let u={name:s,presentationHint:o,expensive:i.type==="global",variablesReference:a.id};if(i.startLocation){let c=this._thread.rawLocation(i.startLocation),l=await this._thread.rawLocationToUiLocation(c);if(u.line=(l||c).lineNumber,u.column=(l||c).columnNumber,l&&(u.source=await l.source.toDap()),i.endLocation){let p=this._thread.rawLocation(i.endLocation),f=await this._thread.rawLocationToUiLocation(p);u.endLine=(f||p).lineNumber,u.endColumn=(f||p).columnNumber}}return u}))).filter(ur)}}async toDap(e){let r=await this.uiLocation(),i=r?await r.source.toDap():void 0,n=await uw(this),s=n?"deemphasize":"normal";n&&i&&(i.origin=n===1?qr.t("Skipped by smartStep"):qr.t("Skipped by skipFiles"));let o=(r||this._rawLocation).lineNumber,a=(r||this._rawLocation).columnNumber,u=this._name;return i&&e&&(e.module&&(u+=` [${i.name}]`),e.line&&(u+=` Line ${o}`)),{id:this.frameId,name:u,line:o,column:a,source:i,presentationHint:s,canRestart:this.callFrame.canBeRestarted??!this.isAsync}}async formatAsNative(){let e=await this.uiLocation(),r=await(e==null?void 0:e.source.existingAbsolutePath())||await(e==null?void 0:e.source.prettyName())||this.callFrame.url,{lineNumber:i,columnNumber:n}=e||this._rawLocation;return`    at ${this._name} (${r}:${i}:${n})`}async format(){let e=await this.uiLocation(),r=await(e==null?void 0:e.source.prettyName())||"<unknown>",i=e||this._rawLocation,n=`${this._name} @ ${r}:${i.lineNumber}`;return i.columnNumber>1&&(n+=`:${i.columnNumber}`),n}_scopeVariable(e,r){let i=r.variables[e];if(i)return i;let n={stackFrame:this,callFrameId:r.callFrameId,scopeNumber:e},s=[];e===0&&(r.thisObject&&s.push({name:"this",value:r.thisObject}),r.returnValue&&s.push({name:qr.t("Return value"),value:r.returnValue}));let o=this._thread.pausedVariables();if(!o)return;let a=o.createScope(r.chain[e].object,n,s);return r.variables[e]=a}};var Uk=U(xt());var Ka=class{constructor(e){this.event=e;this.stackTrace=Pe(e=>this.event.stackTrace?ii.fromRuntime(e,this.event.stackTrace):void 0);this.getUiLocation=Pe(async e=>{let r=this.stackTrace(e);if(!r)return;let i;for(let n of r.frames){if(!(n instanceof It))continue;let s=await n.uiLocation();if(s&&(i||(i=s),!s.source.blackboxed()))return{source:await s.source.toDap(),line:s.lineNumber,column:s.columnNumber}}if(i)return{source:await i.source.toDap(),line:i.lineNumber,column:i.columnNumber}})}formatDefaultString(e,r,i=!1){let s=r.length>1&&r[0].type==="string"?F0(r[0].value,r.slice(1),W0):F0("",r,W0),o=s.result+`
`;return s.usedAllSubs&&!r.some(ja)?{output:o}:this.formatComplexStringOutput(e,o,r,i)}async formatComplexStringOutput(e,r,i,n){(i.some(o=>o.subtype==="error")||Eo.isStackLike(r))&&(await this.getUiLocation(e),r=await e.replacePathsInStackTrace(r),n=!0);let s=e.replVariables.createVariableForOutput(r,i,n?this.stackTrace(e):void 0);return{output:r,variablesReference:s.id}}},OH=class extends Ka{async toDap(e){var r;return((r=this.event.args[0])==null?void 0:r.value)==="console.assert"&&(this.event.args[0].value=Uk.t("Assertion failed")),{category:"stderr",...await this.formatDefaultString(e,this.event.args,!0),...await this.getUiLocation(e)}}},za=class extends Ka{constructor(r,i,n){super(r);this.includeStack=i;this.category=n}async toDap(r){return{category:this.category,...await this.formatDefaultString(r,this.event.args,this.includeStack),...await this.getUiLocation(r)}}},To=class extends za{constructor(e){super(e,!1,"stdout")}},NH=class extends za{constructor(e){super(e,!0,"stdout")}},BH=class extends za{constructor(e){super(e,!0,"stderr")}},FH=class extends za{constructor(e){super(e,!0,"stderr")}},UH=class extends Ka{async toDap(e){return{category:"stdout",group:this.event.type==="startGroupCollapsed"?"startCollapsed":"start",...await this.formatDefaultString(e,this.event.args),...await this.getUiLocation(e)}}},jH=class extends za{constructor(e){super(e,!1,"stdout")}async toDap(e){var r;return(r=this.event.args[0])!=null&&r.preview?{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput("",this.event.args,void 0,this.event.type).id,...await this.getUiLocation(e)}:super.toDap(e)}};var Of=class extends Ka{constructor(){super(...arguments);this.stackTrace=Pe(r=>{if(this.event.stackTrace)return ii.fromRuntime(r,this.event.stackTrace);if(this.event.scriptId)return ii.fromRuntime(r,{callFrames:[{functionName:"(program)",lineNumber:this.event.lineNumber,columnNumber:this.event.columnNumber,scriptId:this.event.scriptId,url:this.event.url||""}]})})}async toDap(r){var a;let i=this.event.exception?Wa(this.event.exception):{title:""},n=i.title;n.startsWith("Uncaught")||(n=`Uncaught ${((a=this.event.exception)==null?void 0:a.className)??"Error"} `+n);let s=this.stackTrace(r),o=this.event.exception&&!i.stackTrace?[this.event.exception]:[];return Eo.isStackLike(n)?n=await r.replacePathsInStackTrace(n):s&&(n+=`
`+await s.formatAsNative()),{category:"stderr",output:n,variablesReference:s||o.length?r.replVariables.createVariableForOutput(n,o,s).id:void 0,...await this.getUiLocation(r)}}};var qH=Symbol("IConsole");var Xa=U(pe()),Wk=w("os"),Vk=w("path");var lw=w("path"),jk=(0,lw.join)(__dirname,"diagnosticTool.js"),qk=(0,lw.join)(__dirname,"diagnosticTool.css");var Xn=Symbol("ITarget"),Pr=Symbol("ILauncher");var $o=class{constructor(e,r,i,n){this.fs=e;this.sources=r;this.breakpoints=i;this.target=n}async generateObject(){let[e]=await Promise.all([this.dumpSources()]);return{breakpoints:this.dumpBreakpoints(),sources:e,config:this.target.launchConfig}}async generateHtml(e=(0,Vk.join)((0,Wk.tmpdir)(),"js-debug-diagnostics.html")){return await this.fs.writeFile(e,`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>${await this.fs.readFile(qk,"utf-8")}<</style>
      </head>
      <body>
        <script>window.DUMP=${JSON.stringify(await this.generateObject())}</script>
        <script>${await this.fs.readFile(jk,"utf-8")}</script>
      </body>
      </html>`),e}dumpBreakpoints(){let e=[];for(let r of[this.breakpoints.appliedByPath,this.breakpoints.appliedByRef])for(let i of r.values())for(let n of i){let s=n.diagnosticDump();e.push({source:s.source,params:s.params,cdp:s.cdp.map(o=>o.state===1?{...o,uiLocations:o.uiLocations.map(a=>this.dumpUiLocation(a))}:{...o,done:void 0})})}return e}dumpSources(){let e=[],r=0;for(let i of this.sources.sources)e.push((async()=>({uniqueId:r++,url:i.url,sourceReference:i.sourceReference,absolutePath:i.absolutePath,actualAbsolutePath:await i.existingAbsolutePath(),scriptIds:i.scripts.map(n=>n.scriptId),prettyName:await i.prettyName(),compiledSourceRefToUrl:i instanceof Nt?[...i.compiledToSourceUrl.entries()].map(([n,s])=>[n.sourceReference,s]):void 0,sourceMap:i.sourceMap&&{url:i.sourceMap.url,metadata:i.sourceMap.metadata,sources:ls(Object.fromEntries(i.sourceMap.sourceByUrl),n=>n.sourceReference)}}))());return Promise.all(e)}dumpUiLocation(e){return{lineNumber:e.lineNumber,columnNumber:e.columnNumber,sourceReference:e.source.sourceReference}}};$o=z([(0,Xa.injectable)(),x(0,(0,Xa.inject)(it)),x(1,(0,Xa.inject)(Xt)),x(2,(0,Xa.inject)(Ai)),x(3,(0,Xa.inject)(Xn))],$o);var Mo=U(pe());var tl=Symbol("IExceptionPauseService");var el=class{constructor(e,r,i,n,s){this.evaluator=e;this.scriptSkipper=r;this.dap=i;this.sourceContainer=s;this.state={cdp:"none"};this.blocker=je();this.noDebug=!!n.noDebug,this.breakOnError=n.__breakOnConditionalError,this.blocker.resolve()}get launchBlocker(){return this.blocker.promise}async setBreakpoints(e){if(!this.noDebug){try{this.state=this.parseBreakpointRequest(e)}catch(r){if(!(r instanceof te))throw r;this.dap.output({category:"stderr",output:r.message});return}this.cdp?await this.sendToCdp(this.cdp):this.state.cdp!=="none"&&this.blocker.hasSettled()&&(this.blocker=je())}}async shouldPauseAt(e){var i;if(e.reason!=="exception"&&e.reason!=="promiseRejection"||this.state.cdp==="none"||this.shouldScriptSkip(e))return!1;let r=this.state.condition;if((i=e.data)!=null&&i.uncaught){if(r.uncaught&&!await this.evalCondition(e,r.uncaught))return!1}else if(r.caught&&!await this.evalCondition(e,r.caught))return!1;return!0}async apply(e){this.cdp=e,this.state.cdp!=="none"&&await this.sendToCdp(e)}async sendToCdp(e){await e.Debugger.setPauseOnExceptions({state:this.state.cdp}),this.blocker.resolve()}async evalCondition(e,r){let i=await r({callFrameId:e.callFrames[0].callFrameId},{error:e.data});return!!(i!=null&&i.result.value)}shouldScriptSkip(e){var i;if((i=e.data)!=null&&i.uncaught||!e.callFrames.length)return!1;let r=this.sourceContainer.getScriptById(e.callFrames[0].location.scriptId);return!!r&&this.scriptSkipper.isScriptSkipped(r.url)}parseBreakpointRequest(e){let r=(e.filterOptions??[]).concat(e.filters.map(a=>({filterId:a}))),i="none",n=[],s=[];for(let{filterId:a,condition:u}of r)a==="all"?(i="all",u&&n.push(a)):a==="uncaught"&&(i==="none"&&(i="uncaught"),u&&s.push(a));let o=a=>{if(a.length===0)return;let u="!!("+r.map(p=>p.condition).filter(ur).join(") || !!(")+")",c=ao(u);if(c)throw new te(fo({line:0,condition:u},c.message));let l=this.breakOnError?z_(u):u;return this.evaluator.prepare(l,{hoist:["error"]}).invoke};return i==="none"?{cdp:i}:{cdp:i,condition:{caught:o(n),uncaught:o(s)}}}};el=z([(0,Mo.injectable)(),x(0,(0,Mo.inject)(_i)),x(1,(0,Mo.inject)(Ho)),x(2,(0,Mo.inject)(bi)),x(3,(0,Mo.inject)(Ve)),x(4,(0,Mo.inject)(Xt))],el);var GH=U(pe());var WH=class{constructor(){this.didEnable=new WeakSet}async retrieve(e){this.didEnable.has(e)||(this.didEnable.add(e),await e.Performance.enable({}));let r=await e.Performance.getMetrics({});if(!r)return{error:"Error in CDP"};let i={};for(let n of r.metrics)i[n.name]=n.value;return{metrics:i}}};var VH=class{async retrieve(e){let r=await e.Runtime.evaluate({expression:`({
        memory: process.memoryUsage(),
        cpu: process.cpuUsage(),
        timestamp: Date.now(),
        resourceUsage: process.resourceUsage && process.resourceUsage(),
      })${Dt()}`,returnByValue:!0});return r?r.exceptionDetails?{error:r.exceptionDetails.text}:{metrics:r.result.value}:{error:"No response from CDP"}}};var KH=Symbol("IPerformanceProvider"),Ja=class{constructor(e){this.target=e}create(){return this.target.type()==="node"?new VH:new WH}};Ja=z([(0,GH.injectable)(),x(0,(0,GH.inject)(Xn))],Ja);var Hw=U(xt()),Xk=w("crypto"),ko=U(pe()),Jk=w("os"),Yk=w("path");var JH=U(pe());var pw=U(xt()),Ya=U(pe()),zH=w("path");var rl=class{constructor(e){this.sources=e;this.locationIdCounter=0;this.locationsByRef=new Map}getLocationIdFor(e){let r=[e.functionName,e.url,e.scriptId,e.lineNumber,e.columnNumber].join(":"),i=this.locationsByRef.get(r);if(i)return i.id;let n=this.locationIdCounter++;return this.locationsByRef.set(r,{id:n,callFrame:e,locations:(async()=>{var o;let s=await((o=this.sources.getScriptById(e.scriptId))==null?void 0:o.source);return s?Promise.all(this.sources.currentSiblingUiLocations({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1,source:s}).map(async a=>({...a,source:await a.source.toDapShallow()}))):[]})()}),n}getLocations(){return Promise.all([...this.locationsByRef.values()].sort((e,r)=>e.id-r.id).map(async e=>({callFrame:e.callFrame,locations:await e.locations})))}};var Zt=class{constructor(e,r,i,n){this.cdp=e;this.fs=r;this.sources=i;this.launchConfig=n}static canApplyTo(){return!0}async start(e,r){if(!await this.cdp.Profiler.start({}))throw new te(gc());return new fw(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}async save(e,r){let i=await Gk(e,this.sources,this.launchConfig.__workspaceFolder);(0,zH.isAbsolute)(r)||(r=(0,zH.join)(this.launchConfig.__workspaceFolder,r)),await this.fs.writeFile(r,JSON.stringify(i))}};Zt.type="cpu",Zt.extension=".cpuprofile",Zt.label=pw.t("CPU Profile"),Zt.description=pw.t("Generates a .cpuprofile file you can open in the Chrome devtools"),Zt.editable=!0,Zt=z([(0,Ya.injectable)(),x(0,(0,Ya.inject)(ft)),x(1,(0,Ya.inject)(it)),x(2,(0,Ya.inject)(Xt)),x(3,(0,Ya.inject)(Ve))],Zt);var fw=class{constructor(e,r,i,n,s){this.cdp=e;this.fs=r;this.sources=i;this.workspaceFolder=n;this.file=s;this.stopEmitter=new J;this.disposed=!1;this.onUpdate=new J().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,this.stopEmitter.fire())}async stop(){let e=await this.cdp.Profiler.stop({});if(!e)throw new te(gc());await this.dispose();let r=await Gk(e.profile,this.sources,this.workspaceFolder);await this.fs.writeFile(this.file,JSON.stringify(r))}};async function Gk(t,e,r){let i=new rl(e),n=t.nodes.map(s=>{var o;return{...s,locationId:i.getLocationIdFor(s.callFrame),positionTicks:(o=s.positionTicks)==null?void 0:o.map(a=>({...a,startLocationId:i.getLocationIdFor({...s.callFrame,lineNumber:a.line-1,columnNumber:0}),endLocationId:i.getLocationIdFor({...s.callFrame,lineNumber:a.line,columnNumber:0})}))}});return{...t,nodes:n,$vscode:{rootPath:r,locations:await i.getLocations()}}}var dw=U(xt()),Qa=U(pe());var ni=class{constructor(e,r,i,n){this.cdp=e;this.fs=r;this.sources=i;this.launchConfig=n}static canApplyTo(){return!0}async start(e,r){if(await this.cdp.HeapProfiler.enable({}),!await this.cdp.HeapProfiler.startSampling({}))throw new te(gc());return new hw(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}};ni.type="heap",ni.extension=".heapprofile",ni.label=dw.t("Heap Profile"),ni.description=dw.t("Generates a .heapprofile file you can open in the Chrome devtools"),ni.editable=!0,ni=z([(0,Qa.injectable)(),x(0,(0,Qa.inject)(ft)),x(1,(0,Qa.inject)(it)),x(2,(0,Qa.inject)(Xt)),x(3,(0,Qa.inject)(Ve))],ni);var hw=class{constructor(e,r,i,n,s){this.cdp=e;this.fs=r;this.sources=i;this.workspaceFolder=n;this.file=s;this.stopEmitter=new J;this.disposed=!1;this.onUpdate=new J().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.HeapProfiler.disable({}),this.stopEmitter.fire())}async stop(){let e=await this.cdp.HeapProfiler.stopSampling({});if(!e)throw new te(gc());await this.dispose();let r=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(r))}async annotateSources(e){let r=new rl(this.sources),i=(s,o)=>{o.locationId=r.getLocationIdFor(s.callFrame);for(let a of s.children){let u={...a,children:[]};o.children.push(u),i(a,u)}},n={...e.head,children:[]};return i(e.head,n),{...e,head:n,$vscode:{rootPath:this.workspaceFolder,locations:await r.getLocations()}}}};var mw=U(xt()),Kk=w("fs"),XH=U(pe());var si=class{constructor(e){this.cdp=e;this.cdp.HeapProfiler.on("addHeapSnapshotChunk",({chunk:r})=>{var i;return(i=this.currentWriter)==null?void 0:i.stream.write(r)})}static canApplyTo(){return!0}async start(e,r){return{onStop:new J().event,onUpdate:new J().event,dispose:()=>{},stop:async()=>{await this.cdp.HeapProfiler.enable({}),await this.dumpToFile(r),await this.cdp.HeapProfiler.disable({})}}}async dumpToFile(e){let{stream:r,promise:i}=this.currentWriter={stream:(0,Kk.createWriteStream)(e),promise:this.cdp.HeapProfiler.takeHeapSnapshot({})};await i,r.end(),this.currentWriter=void 0}};si.type="memory",si.extension=".heapsnapshot",si.label=mw.t("Heap Snapshot"),si.description=mw.t("Generates a .heapsnapshot file you can open in the Chrome devtools"),si.instant=!0,si=z([(0,XH.injectable)(),x(0,(0,XH.inject)(ft))],si);var YH=Symbol("IProfilerFactory"),zk=()=>{let t=new Date;return["vscode-profile",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].map(e=>String(e).padStart(2,"0")).join("-")},Ss=class{constructor(e){this.container=e}get(e){let r=Ss.ctors.find(i=>i.type===e);if(!r)throw new Error(`Invalid profilter type ${e}`);return this.container.get(r)}};Ss.ctors=[Zt,ni,si],Ss=z([(0,JH.injectable)(),x(0,(0,JH.inject)(vc))],Ss);var QH=Symbol("IProfileController"),il=class{constructor(e,r,i,n,s){this.cdp=e;this.factory=r;this.basicCpuProfiler=i;this.breakpoints=n;this.shutdown=s;this.seenConsoleProfileNames=Object.create(null)}connect(e,r){e.on("startProfile",async i=>(await this.start(e,r,i),{})),e.on("stopProfile",()=>this.stopProfiling(e)),this.cdp.Profiler.on("consoleProfileStarted",()=>{e.output({output:Hw.t("Console profile started")+`
`,category:"console"})}),this.cdp.Profiler.on("consoleProfileFinished",async i=>{let n=this.saveConsoleProfile(e,i),s=this.shutdown.register(0,()=>n);await n,s.dispose()}),r.onPaused(()=>this.stopProfiling(e))}async start(e,r,i){if(this.profile)throw new te(IT());this.profile=this.startProfileInner(e,r,i).catch(n=>{throw this.profile=void 0,n}),await this.profile}async saveConsoleProfile(e,r){var n;let i;if(r.title){i=(n=r.title)==null?void 0:n.replace(/[\/\\]/g,"-");let s=this.seenConsoleProfileNames[r.title]||0;this.seenConsoleProfileNames[r.title]=s+1,s>0&&(i+=`-${s}`)}else i=zk();i+=Zt.extension,await this.basicCpuProfiler.save(r.profile,i),e.output({output:Hw.t('CPU profile saved as "{0}" in your workspace folder',i)+`
`,category:"console"})}async startProfileInner(e,r,i){var l;let n=!1,s;if((l=i.stopAtBreakpoint)!=null&&l.length){let p=new Set(i.stopAtBreakpoint);n=!0,s=f=>!(f instanceof wi)||p.has(f.dapId)}else s=()=>!1;await this.breakpoints.applyEnabledFilter(s);let o=(0,Yk.join)((0,Jk.tmpdir)(),`vscode-js-profile-${(0,Xk.randomBytes)(4).toString("hex")}`),a=await this.factory.get(i.type).start(i,o),u={file:o,profile:a,enableFilter:s,keptDebuggerOn:n};a.onUpdate(p=>e.profilerStateUpdate({label:p,running:!0})),a.onStop(()=>this.disposeProfile(u));let c=!!r.pausedDetails();return n?await r.resume():c&&(await this.cdp.Debugger.disable({}),c&&r.onResumed()),e.profileStarted({file:u.file,type:i.type}),u}async stopProfiling(e){var i;let r=await((i=this.profile)==null?void 0:i.catch(()=>{}));return!r||!this.profile?{}:(this.profile=void 0,await(r==null?void 0:r.profile.stop()),e.profilerStateUpdate({label:"",running:!1}),{})}async disposeProfile({profile:e,enableFilter:r,keptDebuggerOn:i}){i||await this.cdp.Debugger.enable({}),await this.breakpoints.applyEnabledFilter(void 0,r),e.dispose()}};il=z([(0,ko.injectable)(),x(0,(0,ko.inject)(ft)),x(1,(0,ko.inject)(YH)),x(2,(0,ko.inject)(Zt)),x(3,(0,ko.inject)(Ai)),x(4,(0,ko.inject)(bo))],il);var Es=class{constructor(e,r,i,n){this.asyncStackPolicy=r;this.launchConfig=i;this._services=n;this._disposables=new Ye;this._customBreakpoints=new Set;this._threadDeferred=je();this.breakpointIdCounter=nh();this._cdpProxyProvider=this._services.get(_H);this._configurationDoneDeferred=je(),this.sourceContainer=n.get(Xt),this.breakpointManager=n.get(Ai);let s=n.get(KH),o=n.get(xr);o.onFlush(()=>{o.report("breakpointStats",this.breakpointManager.statisticsForTelemetry()),o.report("statistics",this.sourceContainer.statistics())}),this.dap=e,this.dap.on("initialize",a=>this.onInitialize(a)),this.dap.on("setBreakpoints",a=>this._onSetBreakpoints(a)),this.dap.on("setExceptionBreakpoints",a=>this.setExceptionBreakpoints(a)),this.dap.on("configurationDone",()=>this.configurationDone()),this.dap.on("loadedSources",()=>this._onLoadedSources()),this.dap.on("disableSourcemap",a=>this._onDisableSourcemap(a)),this.dap.on("source",a=>this._onSource(a)),this.dap.on("threads",()=>this._onThreads()),this.dap.on("stackTrace",a=>this._withThread(u=>u.stackTrace(a))),this.dap.on("variables",a=>this._onVariables(a)),this.dap.on("readMemory",a=>this._onReadMemory(a)),this.dap.on("writeMemory",a=>this._onWriteMemory(a)),this.dap.on("setVariable",a=>this._onSetVariable(a)),this.dap.on("setExpression",a=>this._onSetExpression(a)),this.dap.on("continue",()=>this._withThread(a=>a.resume())),this.dap.on("pause",()=>this._withThread(a=>a.pause())),this.dap.on("next",()=>this._withThread(a=>a.stepOver())),this.dap.on("stepIn",a=>this._withThread(u=>u.stepInto(a.targetId))),this.dap.on("stepOut",()=>this._withThread(a=>a.stepOut())),this.dap.on("restartFrame",a=>this._withThread(u=>u.restartFrame(a))),this.dap.on("scopes",a=>this._withThread(u=>u.scopes(a))),this.dap.on("evaluate",a=>this.onEvaluate(a)),this.dap.on("completions",a=>this._withThread(u=>u.completions(a))),this.dap.on("exceptionInfo",()=>this._withThread(a=>a.exceptionInfo())),this.dap.on("enableCustomBreakpoints",a=>this.enableCustomBreakpoints(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("disableCustomBreakpoints",a=>this._disableCustomBreakpoints(a)),this.dap.on("prettyPrintSource",a=>this._prettyPrintSource(a)),this.dap.on("revealPage",()=>this._withThread(a=>a.revealPage())),this.dap.on("getPerformance",()=>this._withThread(a=>s.retrieve(a.cdp()))),this.dap.on("breakpointLocations",a=>this._breakpointLocations(a)),this.dap.on("createDiagnostics",a=>this._dumpDiagnostics(a)),this.dap.on("requestCDPProxy",()=>this._requestCDPProxy()),this.dap.on("setExcludedCallers",a=>this._onSetExcludedCallers(a)),this.dap.on("saveDiagnosticLogs",({toFile:a})=>this._saveDiagnosticLogs(a)),this.dap.on("setSourceMapStepping",a=>this._setSourceMapStepping(a)),this.dap.on("stepInTargets",a=>this._stepInTargets(a)),this.dap.on("setDebuggerProperty",a=>this._setDebuggerProperty(a)),this.dap.on("setSymbolOptions",a=>this._setSymbolOptions(a))}_setDebuggerProperty(e){var r;return(r=this._thread)==null||r.cdp().DotnetDebugger.setDebuggerProperty(e),Promise.resolve({})}_setSymbolOptions(e){var r;return(r=this._thread)==null||r.cdp().DotnetDebugger.setSymbolOptions(e),Promise.resolve({})}_breakpointLocations(e){return this._withThread(async r=>{let i=this.sourceContainer.source(e.source);return i?{breakpoints:(await this.breakpointManager.getBreakpointLocations(r,i,new zr(e.line,e.column||1),new zr(e.endLine||e.line+1,e.endColumn||e.column||1))).map(s=>s.uiLocations.find(o=>o.source===i)).filter(ur).map(s=>({line:s.lineNumber,column:s.columnNumber}))}:{breakpoints:[]}})}_stepInTargets(e){return this._withThread(async r=>({targets:await r.getStepInTargets(e.frameId)}))}_setSourceMapStepping({enabled:e}){return this.sourceContainer.doSourceMappedStepping=e,Promise.resolve({})}async _saveDiagnosticLogs(e){let r=this._services.get(le).getRecentLogs();return await this._services.get(it).writeFile(e,r.map(i=>JSON.stringify(i)).join(`
`)),{}}async launchBlocker(){await this._configurationDoneDeferred.promise,await this._services.get(tl).launchBlocker,await this.breakpointManager.launchBlocker()}async _onSetExcludedCallers({callers:e}){return(await this._threadDeferred.promise).setExcludedCallers(e),{}}async onInitialize(e){console.assert(e.linesStartAt1),console.assert(e.columnsStartAt1);let r=Es.capabilities(!0);return setTimeout(()=>this.dap.initialized({}),0),setTimeout(()=>{var i;return(i=this._thread)==null?void 0:i.dapInitialized()},0),r}static capabilities(e=!1){return{supportsConfigurationDoneRequest:!0,supportsFunctionBreakpoints:!1,supportsConditionalBreakpoints:!0,supportsHitConditionalBreakpoints:!0,supportsEvaluateForHovers:!0,supportsReadMemoryRequest:!0,supportsWriteMemoryRequest:!0,exceptionBreakpointFilters:[{filter:"all",label:xi.t("Caught Exceptions"),default:!1,supportsCondition:!0,description:xi.t("Breaks on all throw errors, even if they're caught later."),conditionDescription:'error.name == "MyError"'},{filter:"uncaught",label:xi.t("Uncaught Exceptions"),default:!1,supportsCondition:!0,description:xi.t("Breaks only on errors or promise rejections that are not handled."),conditionDescription:'error.name == "MyError"'}],supportsStepBack:!1,supportsSetVariable:!0,supportsRestartFrame:!0,supportsGotoTargetsRequest:!1,supportsStepInTargetsRequest:!0,supportsCompletionsRequest:!0,supportsModulesRequest:!1,additionalModuleColumns:[],supportedChecksumAlgorithms:[],supportsRestartRequest:!0,supportsExceptionOptions:!1,supportsValueFormattingOptions:!0,supportsExceptionInfoRequest:!0,supportTerminateDebuggee:!0,supportsDelayedStackTraceLoading:!0,supportsLoadedSourcesRequest:!0,supportsLogPoints:!0,supportsTerminateThreadsRequest:!1,supportsSetExpression:!0,supportsTerminateRequest:!1,completionTriggerCharacters:[".","[",'"',"'"],supportsBreakpointLocationsRequest:!0,supportsClipboardContext:!0,supportsExceptionFilterOptions:!0,supportsEvaluationOptions:!!e,supportsDebuggerProperties:!!e,supportsSetSymbolOptions:!!e}}async _onSetBreakpoints(e){var r;return this.breakpointManager.setBreakpoints(e,((r=e.breakpoints)==null?void 0:r.map(()=>this.breakpointIdCounter()))??[])}async setExceptionBreakpoints(e){return await this._services.get(tl).setBreakpoints(e),{}}async configurationDone(){return this._configurationDoneDeferred.resolve(),{}}async _onLoadedSources(){return{sources:await this.sourceContainer.loadedSources()}}async _onDisableSourcemap(e){var i;let r=this.sourceContainer.source(e.source);if(!r)return Ze(xi.t("Source not found"));if(!(r instanceof Nt))return Ze(xi.t("Source not a source map"));for(let n of r.compiledToSourceUrl.keys())this.sourceContainer.disableSourceMapForSource(n,!0);return await((i=this._thread)==null?void 0:i.refreshStackTrace()),{}}async _onSource(e){e.source||(e.source={sourceReference:e.sourceReference}),e.source.path=zi(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Ze(xi.t("Source not found"));let i=await r.content();return i===void 0?(r instanceof Nt&&this.dap.suggestDisableSourcemap({source:e.source}),Ze(xi.t("Unable to retrieve source content"))):{content:i,mimeType:r.getSuggestedMimeType}}async _onThreads(){let e=[];return this._thread&&e.push({id:this._thread.id,name:this._thread.name()}),{threads:e}}findVariableStore(e){if(!this._thread)return;let r=this._thread.pausedVariables();if(r&&e(r))return r;if(e(this._thread.replVariables))return this._thread.replVariables}async _onVariables(e){let r=this.findVariableStore(i=>i.hasVariable(e.variablesReference));return{variables:await(r==null?void 0:r.getVariables(e))??[]}}async _onReadMemory(e){var n;let r=e.memoryReference,i=await((n=this.findVariableStore(s=>s.hasMemory(r)))==null?void 0:n.readMemory(r,e.offset??0,e.count));return i?{address:"0",data:i.toString("base64"),unreadableBytes:e.count-i.length}:{address:"0",unreadableBytes:e.count}}async _onWriteMemory(e){var n;let r=e.memoryReference;return{bytesWritten:await((n=this.findVariableStore(s=>s.hasMemory(r)))==null?void 0:n.writeMemory(r,e.offset??0,Buffer.from(e.data,"base64")))}}async _onSetExpression(e){if(!this._thread)throw new te(R_());let r=await this._thread.evaluate({expression:`${e.expression} = ${Kp(e.value)}`,context:"repl",frameId:e.frameId});return{value:r.result,variablesReference:r.variablesReference,indexedVariables:r.indexedVariables,namedVariables:r.namedVariables,presentationHint:r.presentationHint,type:r.type}}async _onSetVariable(e){let r=this.findVariableStore(i=>i.hasVariable(e.variablesReference));return r?(e.value=Kp(e.value.trim()),r.setVariable(e)):Ze(xi.t("Variable not found"))}_withThread(e){if(!this._thread)throw new te(R_());return e(this._thread)}async _refreshStackTrace(){if(!this._thread)return;this._thread.pausedDetails()&&await this._thread.refreshStackTrace()}createThread(e,r){this._thread=new Po(this.sourceContainer,e,this.dap,r,this._services.get(yo),this._services.get(le),this._services.get(_i),this._services.get(wH),this.launchConfig,this.breakpointManager,this._services.get(qH),this._services.get(tl),this._services.get(Do),this._services.get(bo));let i=this._services.get(QH);i.connect(this.dap,this._thread),"profileStartup"in this.launchConfig&&this.launchConfig.profileStartup&&i.start(this.dap,this._thread,{type:Zt.type});for(let n of this._customBreakpoints)this._thread.updateCustomBreakpoint(n,!0);return this.asyncStackPolicy.connect(e).then(n=>this._disposables.push(n)).catch(n=>this._services.get(le).error("internal","Error enabling async stacks",n)),this.breakpointManager.setThread(this._thread),this._services.get(ht).attach(e),this._threadDeferred.resolve(this._thread),this._thread}async enableCustomBreakpoints(e){let r=[];for(let i of e.ids)this._customBreakpoints.add(i),this._thread&&r.push(this._thread.updateCustomBreakpoint(i,!0));return await Promise.all(r),{}}async _disableCustomBreakpoints(e){let r=[];for(let i of e.ids)this._customBreakpoints.delete(i),this._thread&&r.push(this._thread.updateCustomBreakpoint(i,!1));return await Promise.all(r),{}}async _toggleSkipFileStatus(e){return await this._services.get(Ho).toggleSkippingFile(e),await this._refreshStackTrace(),{}}async _prettyPrintSource(e){if(!e.source)return{canPrettyPrint:!1};e.source.path=zi(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Ze(xi.t("Source not found"));let i=await r.prettyPrint();if(!i)return Ze(xi.t("Unable to pretty print"));let{map:n,source:s}=i;return this.breakpointManager.moveBreakpoints(r,n,s),this.sourceContainer.clearDisabledSourceMaps(r),await this._refreshStackTrace(),{}}onEvaluate(e){return e.expression===".scripts"?this._dumpDiagnostics({fromSuggestion:!1}).then(this.dap.openDiagnosticTool).then(()=>({result:"Opening diagnostic tool...",variablesReference:0})):this._withThread(r=>r.evaluate(e))}async _dumpDiagnostics(e){let r={file:await this._services.get($o).generateHtml()};return e.fromSuggestion&&this._services.get(xr).report("diagnosticPrompt",{event:"opened"}),r}async _requestCDPProxy(){return await this._cdpProxyProvider.proxy()}dispose(){this._disposables.dispose(),Wm(this._services)}};var K8=U(xt()),Lb=U(w("os"));var uQ={connect:async()=>$u},Zk=t=>({async connect(e){return await e.Debugger.setAsyncCallStackDepth({maxDepth:t}),$u}}),cQ=t=>{let e=new J,r=!1,i=()=>{r||(r=!0,e.fire())};return{async connect(n){if(r)return await n.Debugger.setAsyncCallStackDepth({maxDepth:t}),$u;let s=new Ye;return s.push(e.event(()=>{s.dispose(),n.Debugger.setAsyncCallStackDepth({maxDepth:t})}),n.Debugger.on("breakpointResolved",i),n.Debugger.on("paused",o=>{o.reason!=="instrumentation"&&i()})),s}}},Qk=Zk(32),eR=t=>t===!1?uQ:t===!0?Qk:"onAttach"in t?Zk(t.onAttach):"onceBreakpointResolved"in t?cQ(t.onceBreakpointResolved):Qk;var tR=w("inspector"),rR=w("fs"),ZH=class{constructor(e){this.file=e;this.session=new tR.Session;this.session.connect()}async start(){try{await this.post("Profiler.enable")}catch{}await this.post("Profiler.start")}async stop(){let{profile:e}=await this.post("Profiler.stop");await rR.promises.writeFile(this.file,JSON.stringify(e))}dispose(){this.session.disconnect()}post(e,r){return new Promise((i,n)=>this.session.post(e,r,(s,o)=>{s?n(s):i(o)}))}};var Bf=Symbol("MutableLaunchConfig"),iR=t=>{let e=new J;return new Proxy({},{ownKeys(){return Object.keys(t)},get(r,i){switch(i){case"update":return n=>{t=n,e.fire()};case"onChange":return e.event;default:return t[i]}}})};var Sb=U(Cw()),N8=U(h_()),Ab=w("fs"),Eb=U(pe());var Uf=U(pe());var Ff=class{toDap(){return{category:"console",output:"\x1B[2J"}}},ug=class{toDap(){return{category:"stdout",output:"",group:"end"}}};var cg=class{constructor(e){this.sink=e;this.q=[];this.disposed=!1;this.onDrainedEmitter=new J;this.onDrained=this.onDrainedEmitter.event}get length(){return this.q.length}enqueue(e){this.disposed||(this.q.push(new Lw(e)),this.q.length===1&&this.process())}dispose(){this.disposed=!0,this.q=[]}async process(){let e=this.q.findIndex(r=>r.value===hR);e===0?await this.q[0].wait:e===-1?(this.sink(dR(this.q)),this.q=[]):(this.sink(dR(this.q.slice(0,e))),this.q=this.q.slice(e)),this.q.length?this.process():this.onDrainedEmitter.fire()}},dR=t=>t.map(e=>e.value).filter(e=>e!==mR),hR=Symbol("unsettled"),mR=Symbol("unsettled"),Lw=class{constructor(e){this.value=hR;e instanceof Promise?this.wait=e.then(r=>{this.value=r},()=>{this.value=mR}):(this.value=e,this.wait=Promise.resolve())}};var MQ=new Set(["group","assert","count"]),sl=class{constructor(e,r){this.dap=e;this.isDirty=!1;this.queue=new cg(e=>{for(let r of e)this.dap.output(r)});this.onDrained=this.queue.onDrained;r.register(0,async()=>{this.length&&await new Promise(i=>this.onDrained(i)),this.dispose()})}get length(){return this.queue.length}dispose(){this.queue.dispose()}dispatch(e,r){let i=this.parse(r);i&&this.enqueue(e,i)}enqueue(e,r){if(!(r instanceof Ff))this.isDirty=!0;else if(this.isDirty)this.isDirty=!1;else return;this.queue.enqueue(r.toDap(e))}parse(e){var r;if(e.type==="log"){let i=(r=e.stackTrace)==null?void 0:r.callFrames[0];if(i&&i.url==="internal/console/constructor.js"&&MQ.has(i.functionName))return}switch(e.type){case"clear":return new Ff;case"endGroup":return new ug;case"assert":return new OH(e);case"table":return new jH(e);case"startGroup":case"startGroupCollapsed":return new UH(e);case"debug":case"log":case"info":return new To(e);case"trace":return new NH(e);case"error":return new FH(e);case"warning":return new BH(e);case"dir":case"dirxml":return new To(e);case"count":return new To(e);case"profile":case"profileEnd":return new To(e);case"timeEnd":return new To(e);default:try{rh(e.type,"unknown console message type")}catch{}}}};sl=z([(0,Uf.injectable)(),x(0,(0,Uf.inject)(bi)),x(1,(0,Uf.inject)(bo))],sl);var Di=U(pe());var FN=U(gR()),UN=w("dns"),Bg=U(BN()),ru=U(pe());var Ng=Symbol("IRequestOptionsProvider");var Fo=class{constructor(e,r){this.fs=e;this.options=r;this.autoLocalhostPortFallbacks={}}async fetch(e,r=Cr,i){try{let s=(0,FN.default)(e);return{ok:!0,url:e,body:s.toString("utf-8"),statusCode:200}}catch{}let n=dr(e)?e:Ht(e);if(n)try{return{ok:!0,url:e,body:await this.fs.readFile(n,"utf-8"),statusCode:200}}catch(s){return{ok:!1,url:e,error:s,statusCode:200}}return this.fetchHttp(e,r,i)}async fetchJson(e,r,i){let n=await this.fetch(e,r,{Accept:"application/json",...i});if(!n.ok)return n;try{return{...n,body:JSON.parse(n.body)}}catch(s){return{...n,ok:!1,url:e,error:s}}}async fetchHttp(e,r,i){var p;let n=new URL(e),s=n.protocol!=="http:",o=Number(n.port)??(s?443:80),a={headers:i,followRedirect:!0};s&&await dc(e)&&(a.rejectUnauthorized=!1),(p=this.options)==null||p.provideOptions(a,e);let u=n.hostname==="localhost";if(u&&this.autoLocalhostPortFallbacks[o]){let f=await this.requestHttp(n.toString(),a,r);return f.statusCode!==503?f:(delete this.autoLocalhostPortFallbacks[o],this.requestHttp(e,a,r))}let l=await this.requestHttp(e,a,r);if(l.statusCode===503&&u){let f;try{f=await UN.promises.lookup(n.hostname)}catch{return l}n.hostname=f.family===6?"127.0.0.1":"[::1]",l=await this.requestHttp(n.toString(),a,r),l.statusCode!==503&&(this.autoLocalhostPortFallbacks[o]=n.hostname)}return l}async requestHttp(e,r,i){var s,o,a;(s=this.options)==null||s.provideOptions(r,e);let n=new Ye;try{let u=(0,Bg.default)(e,r);n.push(i.onCancellationRequested(()=>u.cancel()));let c=await u;return{ok:!0,url:e,body:c.body,statusCode:c.statusCode}}catch(u){if(!(u instanceof Bg.RequestError))throw u;let c=u.response?String((o=u.response)==null?void 0:o.body):u.message,l=((a=u.response)==null?void 0:a.statusCode)??503;return{ok:!1,body:c,statusCode:l,url:e,error:new Bm(l,e,c)}}finally{n.dispose()}}};Fo=z([(0,ru.injectable)(),x(0,(0,ru.inject)(it)),x(1,(0,ru.optional)()),x(1,(0,ru.inject)(Ng))],Fo);var iu=class extends Fo{constructor(r,i,n,s,o){super(r,o);this.logger=i;this.target=n;this.cdp=s;this.disposables=new Ye}dispose(){this.disposables.dispose()}async fetchHttp(r,i,n={}){let s=await super.fetchHttp(r,i,n);return s.ok?s:(this.logger.info("runtime","Network load failed, falling back to CDP",{url:r,res:s}),this.fetchOverBrowserNetwork(r,s))}async fetchOverBrowserNetwork(r,i){var u,c;if(!this.cdp)return i;let n=await this.cdp.Network.loadNetworkResource({frameId:(u=this.target)==null?void 0:u.targetInfo.targetId,url:r,options:{includeCredentials:!0,disableCache:!0}});if(!n||!n.resource.success||!n.resource.httpStatusCode||n.resource.httpStatusCode>=400||!n.resource.stream)return i;let s=Number((c=n.resource.headers)==null?void 0:c["Content-Length"]);isNaN(s)&&(s=1/0);let o=[],a=0;for(;;){let l=await this.cdp.IO.read({handle:n.resource.stream,offset:a});if(!l)return this.logger.info("runtime","Stream error encountered in middle, falling back",{url:r}),i;let p=l.base64Encoded?Buffer.from(l.data,"base64"):l.data;if(a+=p.length,o.push(p.toString()),a>=s){this.cdp.IO.close({handle:n.resource.stream});break}if(l.eof)break}return{ok:!0,body:o.join(""),statusCode:n.resource.httpStatusCode,url:r}}};iu=z([(0,Di.injectable)(),x(0,(0,Di.inject)(it)),x(1,(0,Di.inject)(le)),x(2,(0,Di.optional)()),x(2,(0,Di.inject)(Xn)),x(3,(0,Di.optional)()),x(3,(0,Di.inject)(ft)),x(4,(0,Di.optional)()),x(4,(0,Di.inject)(Ng))],iu);var jo=U(pe()),WN=U(gf());var Uo="node:";function qN(t){let e=[];for(let r=0;r<t.length;r++){let i=t[r];if(i.startsWith("!")){let n=jN(i.slice(1));for(let s=0;s<e.length;s++)e[s]=`^(?!${n.slice(1)})${e[s].slice(1)}`}else e.push(jN(i))}return e.map(r=>new RegExp(r,"i"))}function jN(t){let e=t.split("/"),r=[];for(let i=0;i<e.length;i++){let n=e[i];if(n==="**")i===0?r.push("(.+/)?"):i===e.length-1||r.push(".*/");else{if(n.includes("*")){let s=n.split("*");r.push(s.map(o=>Ar(o)).join("[^\\/]*"))}else r.push(Ar(n));r.push(i<e.length-1?"\\/":"$")}}return`^${r.join("")}`}function Nte(t){let e=/^<node_internals>[\/\\](.*)$/,r=t.map(i=>{i=i.trim();let n=e.exec(i);return n?n[1]:null}).filter(ur);return r.length>0?r:void 0}function Bte(t,e){return e.filter(i=>!i.includes("<node_internals>")).map(i=>dr(i)?hc(t.rebaseLocalToRemote(i)):pt(i)).map(xm)}var Yn=class{constructor({skipFiles:e},r,i,n,s){this.logger=i;this.cdp=n;this._regexForAuthored=$E(qN);this._scriptsWithSkipping=new Set;this._targetId=s.id(),this._rootTargetId=VN(s).id(),this._isUrlFromSourceMapSkipped=new Tn(o=>this._normalizeUrl(o)),this._authoredGlobs=Bte(r,e),this._nodeInternalsGlobs=Nte(e),this._initNodeInternals(s),this._updateSkippedDebounce=kE(500,()=>this._updateGeneratedSkippedSources()),e.length&&this._updateGeneratedSkippedSources(),Yn.sharedSkipsEmitter.event(o=>{o.rootTargetId===this._rootTargetId&&o.targetId!==this._targetId&&this._toggleSkippingFile(o.params)})}setSourceContainer(e){this._sourceContainer=e}_testSkipNodeInternal(e){return this._nodeInternalsGlobs?(e.startsWith(Uo)&&(e=e.slice(Uo.length)),(0,WN.default)([e],this._nodeInternalsGlobs).length>0):!1}_testSkipAuthored(e){return this._regexForAuthored(this._authoredGlobs).some(r=>r.test(e))}_isNodeInternal(e,r){return e.startsWith(Uo)?!0:(r==null?void 0:r.has(e))||/^internal\/.+\.js$/.test(e)}async _updateGeneratedSkippedSources(){var i;let e=this._regexForAuthored(this._authoredGlobs).map(n=>n.source),r=(i=this._allNodeInternals)==null?void 0:i.settledValue;if(r){e.push(`^(${Uo})?internal\\/`);for(let n of r)this._testSkipNodeInternal(n)&&e.push(`^(${Uo})?${Ar(n)}$`)}await this.cdp.Debugger.setBlackboxPatterns({patterns:e})}_normalizeUrl(e){return pt(e.toLowerCase())}isScriptSkipped(e){var r;return this._isNodeInternal(e,(r=this._allNodeInternals)==null?void 0:r.settledValue)?this._testSkipNodeInternal(e):(e=this._normalizeUrl(e),this._isUrlFromSourceMapSkipped.get(e)===!0?!0:this._testSkipAuthored(e))}async _updateSourceWithSkippedSourceMappedSources(e,r){let i=this.isScriptSkipped(e.url),n=[],s=i;Array.from(e.sourceMap.sourceByUrl.values()).forEach(a=>{let u=this.isScriptSkipped(a.url);if(typeof u>"u"&&(u=i),u!==s){let c=this._sourceContainer.currentSiblingUiLocations({source:a,lineNumber:1,columnNumber:1},e);c[0]?(n.push({lineNumber:c[0].lineNumber-1,columnNumber:c[0].columnNumber-1}),s=!s):this.logger.error("internal","Could not map script beginning for "+a.sourceReference)}});let o=r;n.length||(o=o.filter(a=>this._scriptsWithSkipping.has(a.scriptId)),o.forEach(a=>this._scriptsWithSkipping.delete(a.scriptId))),await Promise.all(o.map(({scriptId:a})=>this.cdp.Debugger.setBlackboxedRanges({scriptId:a,positions:n})))}initializeSkippingValueForSource(e){this._initializeSkippingValueForSource(e)}_initializeSkippingValueForSource(e,r=e.scripts){let i=e.url,n=this.isScriptSkipped(i);if(!n&&e.absolutePath&&this._testSkipAuthored(We(e.absolutePath))&&(this.setIsUrlBlackboxSkipped(i,!0),n=!0,this._updateSkippedDebounce()),Er(e)){if(n)for(let s of e.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(s.url,!0);for(let s of e.sourceMap.sourceByUrl.values())this._initializeSkippingValueForSource(s,r);this._updateSourceWithSkippedSourceMappedSources(e,r)}}async _initNodeInternals(e){if(e.type()!=="node"||!this._nodeInternalsGlobs||this._allNodeInternals)return;let r=this._allNodeInternals=je(),i=await this.cdp.Runtime.evaluate({expression:"require('module').builtinModules"+Dt(),returnByValue:!0,includeCommandLineAPI:!0});i&&!i.exceptionDetails?r.resolve(new Set(i.result.value.map(n=>n+".js"))):r.resolve(new Set),await this._updateGeneratedSkippedSources()}async _toggleSkippingFile(e){let r;e.resource&&dr(e.resource)&&(r=e.resource);let i={path:r,sourceReference:e.sourceReference},n=this._sourceContainer.source(i);if(!n)return{};let s=!this.isScriptSkipped(n.url);if(n instanceof Nt){this._isUrlFromSourceMapSkipped.set(n.url,s);let o=Array.from(n.compiledToSourceUrl.keys());await Promise.all(o.map(a=>this._updateSourceWithSkippedSourceMappedSources(a,a.scripts)))}else{if(Er(n))for(let o of n.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(o.url,s);this.setIsUrlBlackboxSkipped(n.url,s),await this._updateGeneratedSkippedSources()}return{}}setIsUrlBlackboxSkipped(e,r){let i=e,n=`!${i}`,s=this._authoredGlobs.filter(o=>o!==i&&o!==n);this._regexForAuthored(s).some(o=>o.test(e))!==r&&(s.push(r?i:n),this._regexForAuthored.clear()),this._authoredGlobs=s}async toggleSkippingFile(e){let r=await this._toggleSkippingFile(e);return Yn.sharedSkipsEmitter.fire({params:e,rootTargetId:this._rootTargetId,targetId:this._targetId}),r}};Yn.sharedSkipsEmitter=new J,Yn=z([(0,jo.injectable)(),x(0,(0,jo.inject)(Ve)),x(1,(0,jo.inject)(et)),x(2,(0,jo.inject)(le)),x(3,(0,jo.inject)(ft)),x(4,(0,jo.inject)(Xn))],Yn);function VN(t){let e=t.parent();return e?VN(e):t}var Qf=U(pe());var KN=w("path");var GN=/^webpack:\/{3}([^/]+?\.vue)(\?[0-9a-z]*)?$/i,Fte=/^webpack:\/{3}\.\/.+\.vue\?[0-9a-z]+$/i,bl=Symbol("IVueFileMapper");var yl=class{constructor(e,r){this.files=e;this.search=r;this.getMapping=Pe(async()=>{let e=new Map;return await this.search.streamAllChildren(this.files,r=>e.set((0,KN.basename)(r),r)),e})}async lookup(e){let r=GN.exec(e);return r?(await this.getMapping()).get(r[1]):void 0}getVueHandling(e){return this.files.empty?0:GN.test(e)?1:Fte.test(e)?2:0}};yl=z([(0,Qf.injectable)(),x(0,(0,Qf.inject)(bs)),x(1,(0,Qf.inject)(Ec))],yl);var Qn=class{constructor(){this.changeEmitter=new J;this.addEmitter=new J;this.removeEmitter=new J;this.targetMap=new Map;this.onChanged=this.changeEmitter.event;this.onAdd=this.addEmitter.event;this.onRemove=this.removeEmitter.event}get size(){return this.targetMap.size}add(e,r){this.targetMap.set(e,r),this.addEmitter.fire([e,r]),this.changeEmitter.fire()}get(e){return this.targetMap.get(e)}remove(e){let r=this.targetMap.get(e);return r===void 0?!1:(this.targetMap.delete(e),this.removeEmitter.fire([e,r]),this.changeEmitter.fire(),!0)}value(){return this.targetMap.values()}};var bF=U(HF()),Kg=U(pe());var gF=w("child_process"),Ts=class extends Error{constructor(r,i,n,s,o){super(`${r} exited with code ${s||-1}: ${i}`);this.command=r;this.stderr=i;this.stdout=n;this.code=s;this.innerError=o}static fromExeca(r){return new Ts(r.command,r.stderr.toString(),r.stdout.toString(),r.exitCode)}};function Gg(t,e,r){return new Promise((i,n)=>{let s=(0,gF.spawn)(t,e,{...r,stdio:"pipe"}),o=[],a=[];s.stderr.on("data",c=>o.push(c)),s.stdout.on("data",c=>a.push(c));let u=(c,l)=>n(new Ts(t,Buffer.concat(o).toString(),Buffer.concat(a).toString(),c,l));s.on("error",c=>u(void 0,c)),s.on("close",c=>c?u(c):i({stdout:Buffer.concat(a).toString(),stderr:Buffer.concat(o).toString()}))})}var Wre=new Map([["chrome",0],["safari",1],["firefox",2],["msedge",3],["microsoft edge",3],["appxq0fevzme2pys62n3e0fbqa7peapykr8v",4],["ie.http",5]]),yF=t=>{t=t.toLowerCase();for(let[e,r]of Wre.entries())if(t.includes(e))return r},vF=Symbol("IDefaultBrowserProvider"),wl=class{constructor(e,r=process.platform){this.execa=e;this.platform=r;this.lookup=Pe(()=>this.platform==="win32"?this.lookupWindows():this.lookupUnix())}async lookupUnix(){let{name:e}=await(0,bF.default)();return yF(e)}async lookupWindows(){let e=await this.execa("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]);if(e.failed)throw Ts.fromExeca(e);let r=/ProgId\s*REG_SZ\s*(\S+)/.exec(e.stdout);if(r)return yF(r[1])}};wl=z([(0,Kg.injectable)(),x(0,(0,Kg.inject)(of))],wl);var wF=U(pe()),Xg=U(w("os"));var zg=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var ZI=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},Ti=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new ZI}static async test(){let e=new Ti;return e.setup({sinks:[new zg],showWelcome:!1}),e}info(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:1})}verbose(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:0})}warn(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:2})}error(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:3})}fatal(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:4})}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let r of this.logTarget.sinks)r.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(i=>i.setup())),e.showWelcome!==!1){let i=Vre();for(let n of e.sinks)n.write(i)}let r=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in r?r.sinks.forEach(i=>i.dispose()):r.queue.forEach(i=>this.log(i))}};Ti.null=(()=>{let e=new Ti;return e.setup({sinks:[]}),e})(),Ti=z([(0,wF.injectable)()],Ti);var Vre=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${qm} v${sf} started`,metadata:{os:`${Xg.platform()} ${Xg.arch()}`,nodeVersion:process.version,adapterVersion:sf}});var Xj=U(Kj()),Uy=U(pe());var yu=Symbol("touched"),ta;(u=>{function t(){return{children:{},[yu]:1}}u.root=t;function e(c,l){return c[yu]=1,a(c,o(l),0)}u.getPath=e;function r(c){c[yu]=1}u.touch=r;function i(c){c[yu]=2}u.touchAll=i;function n(c,l){let p=c.children[l]??={children:{}};return p[yu]=1,p}u.getOrMakeChild=n;function s(c){if(c[yu]){for(let[l,p]of Object.entries(c.children))switch(p[yu]){case 1:s(p);break;case 2:break;default:delete c.children[l]}return c}}u.prune=s;function o(c){let l=c.split(/\/|\\/);return l[0]===""&&l.unshift(),l}function a(c,l,p){let f=n(c,l[p]);return p===l.length-1?f:a(f,l,p+1)}})(ta||={});var JS=w("fs"),YS=U(gf()),bu=w("path"),zj=U(zS());var Mce=/\//g,Fy=class{constructor(e){this.stat=ya(e=>JS.promises.lstat(e));this.readdir=ya(e=>JS.promises.readdir(e,{withFileTypes:!0}));this.alreadyProcessedFiles=new Set;this.fileEmitter=new J;this.onFile=this.fileEmitter.event;this.errorEmitter=new J;this.onError=this.errorEmitter.event;this.processor=e.fileProcessor,this.filter=e.filter,this.ignore=e.ignore.map(n=>YS.default.matcher((0,zj.default)(pt(n),{cwd:e.cwd})));let r=(0,bu.isAbsolute)(e.pattern)?(0,bu.relative)(e.cwd,e.pattern):e.pattern,i=YS.default.parse(pt(r),{ignore:e.ignore,cwd:e.cwd,expand:!0});this.done=Promise.all(i.map(n=>{let s=[];for(let c=1;c<n.tokens.length;){let l=c+1;for(;l<n.tokens.length&&n.tokens[l].type!=="slash";)l++;let p=n.tokens[c];p.type==="globstar"?s.push("**"):l===c+1&&p.type==="text"?s.push(p.value):s.push(new RegExp("^"+n.tokens.slice(c,l).map(f=>f.output||f.value).join("")+"$")),c=l+1}let o=s[0]==="**"?[0,1]:[0],a=ta.getPath(e.cache,e.cwd),u={elements:s,seen:new Set};return Promise.all(o.map(c=>this.readSomething(u,c,e.cwd,[],a)))})).then(()=>{})}async readSomething(e,r,i,n,s){if(this.alreadyProcessedFiles.has(s))return;let o=`${r}:${i}`;if(e.seen.has(o))return;e.seen.add(o);let a;try{a=await this.stat(i)}catch(c){this.errorEmitter.fire({path:i,error:c});return}if(this.alreadyProcessedFiles.has(s))return;let u=s.data;if(u&&a.mtimeMs===u.mtime){if(u.type===0){let c=[],p=Object.entries(s.children).filter(([,f])=>{var H;return((H=f.data)==null?void 0:H.type)!==0}).map(([f])=>f);for(let[f,H]of Object.entries(s.children))c.push(H.data!==void 0?this.handleDirectoryEntry(e,r,i,{name:f,type:H.data.type},p,s):this.stat(i).then(m=>this.handleDirectoryEntry(e,r,i,{name:f,type:m.isFile()?1:0},p,s),()=>{}));await Promise.all(c)}else u.type===1&&(this.alreadyProcessedFiles.add(s),this.fileEmitter.fire(u.extracted));return}a.isDirectory()?await this.handleDir(e,r,a.mtimeMs,i,s):(this.alreadyProcessedFiles.add(s),await this.handleFile(a.mtimeMs,i,n,s))}applyFilterToFile(e,r,i){var o;let n=i.children[e];if(this.alreadyProcessedFiles.has(n))return!1;if(!this.filter)return!0;let s=((o=n.data)==null?void 0:o.type)===1?n.data.extracted:void 0;return ta.touch(n),this.filter(r,s)}handleDirectoryEntry(e,r,i,n,s,o){let a=i+"/"+n.name,u=this.getDirectoryReadDescends(e,r,i,n);if(u===void 0)return;let c=ta.getOrMakeChild(o,n.name);if(!(n.type===1&&!this.applyFilterToFile(n.name,a,o)))return typeof u=="number"?this.readSomething(e,r+u,a,s,c):Promise.all(u.map(l=>this.readSomething(e,r+l,a,s,c)))}getDirectoryReadDescends(e,r,i,n){let s=i+"/"+n.name;if(this.ignore.some(u=>u(s)))return;let o=r===e.elements.length-1,a=e.elements[r];if(a==="**")return n.type===1?o?0:this.getDirectoryReadDescends(e,r+1,i,n):o?0:[0,1];if((a instanceof RegExp&&a.test(n.name)||a===n.name)&&(n.type===0?!o:o))return 1}async handleFile(e,r,i,n){let s=bu.sep==="/"?r:r.replace(Mce,bu.sep),o;try{o=await this.processor(s,{siblings:i,mtime:e})}catch(a){this.errorEmitter.fire({path:s,error:a});return}n.data={type:1,mtime:e,extracted:o},this.fileEmitter.fire(o)}async handleDir(e,r,i,n,s){let o;try{o=await this.readdir(n)}catch(c){this.errorEmitter.fire({path:n,error:c});return}let a=[],u=o.filter(c=>c.isFile()).map(c=>c.name);for(let c of o){if(c.name.startsWith("."))continue;let l;if(c.isDirectory())l=0;else if(c.isFile())l=1;else continue;a.push(this.handleDirectoryEntry(e,r,n,{name:c.name,type:l},u,s))}await Promise.all(a),s.data={type:0,mtime:i}}};var Bl=class{constructor(e){this.logger=e}async streamAllChildren(e,r){let i=[];return await this.globForFiles(e,s=>i.push(r(vt(s.path)))),(await Promise.all(i)).filter(s=>s!==void 0)}async streamChildrenWithSourcemaps(e){let r=[],i=e.lastState||{},n={};return await Promise.all([...e.files.explode()].map(async o=>{let a=JSON.stringify(o),u=i[a]||ta.root();await this._streamChildrenWithSourcemaps(u,e,r,o);let c=ta.prune(u);c&&(n[a]=c)})),this.logger.info("sourcemap.parsing",`turboGlobStream search found ${r.length} files`),{values:(await Promise.all(r)).filter(ur),state:n}}async _streamChildrenWithSourcemaps(e,r,i,n){let s=new Fy({pattern:n.pattern,ignore:n.negations,cwd:n.cwd,cache:e,filter:r.filter,fileProcessor:(o,a)=>r$(o,a).then(u=>u&&r.processMap(u))});s.onError(({path:o,error:a})=>{this.logger.warn("sourcemap.parsing","Error parsing source map",{error:a,path:o})}),s.onFile(o=>o&&i.push(r.onProcessedMap(o))),await s.done}async globForFiles(e,r){await Promise.all([...e.explode()].map(i=>new Promise((n,s)=>(0,Xj.default)([i.pattern,"!**/*.asar/**"],{ignore:i.negations,matchBase:!0,cwd:i.cwd}).on("data",r).on("finish",n).on("error",s))))}};Bl=z([(0,Uy.injectable)(),x(0,(0,Uy.inject)(le))],Bl);var Qy=U(xt()),sa=U(pe());var Jj=w("url"),Yj=U(w("path"));var jy=class{constructor(){this._onFrameAddedEmitter=new J;this._onFrameRemovedEmitter=new J;this._onFrameNavigatedEmitter=new J;this.onFrameAdded=this._onFrameAddedEmitter.event;this.onFrameRemoved=this._onFrameRemovedEmitter.event;this.onFrameNavigated=this._onFrameNavigatedEmitter.event;this._frames=new Map}attached(e,r){e.Page.enable({}),e.Page.getResourceTree({}).then(i=>{this._processCachedResources(e,i?i.frameTree:void 0,r)})}mainFrame(){return this._mainFrame}_processCachedResources(e,r,i){r&&this._addFramesRecursively(e,r,r.frame.parentId,i),e.Page.on("frameAttached",n=>{this._frameAttached(e,i,n.frameId,n.parentFrameId)}),e.Page.on("frameNavigated",n=>{this._frameNavigated(e,i,n.frame)}),e.Page.on("frameDetached",n=>{this._frameDetached(e,i,n.frameId)})}_addFrame(e,r,i){let n=new ZS(this,e,r,i);return this._frames.set(n.id,n),n.isMainFrame()&&(this._mainFrame=n),this._onFrameAddedEmitter.fire(n),n}_frameAttached(e,r,i,n){let s=this._frames.get(i);return s||(s=this._addFrame(e,i,n)),s._ref(r),s}_frameNavigated(e,r,i){let n=this._frames.get(i.id);n||(n=this._frameAttached(e,r,i.id,i.parentId)),n._navigate(i,r),this._onFrameNavigatedEmitter.fire(n)}_frameDetached(e,r,i){let n=this._frames.get(i);n&&n._unref(r)}frameForId(e){return this._frames.get(e)}frames(){return Array.from(this._frames.values())}_addFramesRecursively(e,r,i,n){let s=r.frame,o=this._frames.get(s.id);o?(o._navigate(s,n),this._onFrameNavigatedEmitter.fire(o)):(o=this._addFrame(e,s.id,i),o._navigate(s,n));for(let a=0;r.childFrames&&a<r.childFrames.length;++a)this._addFramesRecursively(e,r.childFrames[a],o.id,n)}},ZS=class{constructor(e,r,i,n){this._targets=new Set;this.cdp=r,this.model=e,this._parentFrameId=n,this.id=i,this._url=""}_ref(e){this._targets.add(e)}_navigate(e,r){this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._unreachableUrl=e.unreachableUrl||"",this._ref(r),this._unrefChildFrames(r)}name(){return this._name||""}url(){return this._url}securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}isMainFrame(){return!this._parentFrameId}parentFrame(){return this._parentFrameId?this.model.frameForId(this._parentFrameId):void 0}childFrames(){return this.model.frames().filter(e=>e._parentFrameId===this.id)}_unrefChildFrames(e){for(let r of this.childFrames())r._unref(e)}_unref(e){this._targets.delete(e),!this._targets.size&&(this._unrefChildFrames(e),this.model._frames.delete(this.id),this.model._onFrameRemovedEmitter.fire(this))}displayName(){return this._name?this._name:kce(this._url)||`<iframe ${this.id}>`}};function QS(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function kce(t){let e;try{e=new Jj.URL(t)}catch{return QS(t,20)}if(e.protocol==="data")return QS(t,20);if(e.protocol==="blob"||t==="about:blank")return t;let r=Yj.basename(e.pathname);return r||(r=(e.host||"")+"/"),r==="/"&&(r=QS(t,20)),r}var Qj=w("url"),eE=class{constructor(e){this.versions=new Map;this.id=e.registrationId,this.scopeURL=e.scopeURL}},tE=class{constructor(e,r){this.revisions=[];this.registration=e,this.id=r.versionId,this.scriptURL=r.scriptURL,this._targetId=r.targetId,this._status=r.status,this._runningStatus=r.runningStatus}addRevision(e){this._targetId&&e.targetId&&this._targetId!==e.targetId&&console.error(`${this._targetId} !== ${e.targetId}`),e.targetId&&(this._targetId=e.targetId),this._status=e.status,this._runningStatus=e.runningStatus,this.revisions.unshift(e)}status(){return this._status}runningStatus(){return this._runningStatus}targetId(){return this._targetId}label(){let e=new Qj.URL(this.registration.scopeURL),r=e.pathname.substr(1);r.endsWith("/")&&(r=r.substring(0,r.length-1));let i=r||`${e.host}`,n=this._status==="activated"?"":` ${this._status}`,s=this._runningStatus==="running"?"":` ${this._runningStatus}`;return`${i} #${this.id}${n}${s}`}},ra=class{constructor(e){this._registrations=new Map;this._versions=new Map;this._onDidChangeUpdater=new J;this.onDidChange=this._onDidChangeUpdater.event;this._targets=new Set;this._frameModel=e,ra._instances.add(this)}dispose(){ra._instances.delete(this)}attached(e){this._targets.add(e),!this._cdp&&(this._cdp=e,e.ServiceWorker.enable({}),e.ServiceWorker.on("workerRegistrationUpdated",r=>this._workerRegistrationsUpdated(r.registrations)),e.ServiceWorker.on("workerVersionUpdated",r=>this._workerVersionsUpdated(r.versions)),ra._mode!=="normal"&&this.setMode(ra._mode))}async detached(e){this._targets.delete(e)}version(e){return this._versions.get(e)}registrations(){let e=[],r=this._frameModel.frames().map(i=>i.url());for(let i of this._registrations.values())for(let n of r)if(n.startsWith(i.scopeURL)){e.push(i);break}return e}registration(e){return this._registrations.get(e)}_workerVersionsUpdated(e){for(let r of e){let i=this._registrations.get(r.registrationId);if(!i)continue;let n=i.versions.get(r.versionId);n||(n=new tE(i,r),i.versions.set(r.versionId,n)),r.targetId&&this._versions.set(r.targetId,n),n.addRevision(r),n.status()==="redundant"&&n.runningStatus()==="stopped"&&(r.targetId&&this._versions.delete(r.targetId),i.versions.delete(n.id))}this._onDidChangeUpdater.fire()}_workerRegistrationsUpdated(e){for(let r of e)if(r.isDeleted){if(!this._registrations.has(r.registrationId))debugger;this._registrations.delete(r.registrationId)}else{if(this._registrations.has(r.registrationId))return;this._registrations.set(r.registrationId,new eE(r))}this._onDidChangeUpdater.fire()}static setModeForAll(e){ra._mode=e;for(let r of ra._instances)r.setMode(e)}setMode(e){if(this._cdp){this._cdp.ServiceWorker.setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e==="force"});for(let r of this._targets.values())e==="bypass"?(r.Network.enable({}),r.Network.setBypassServiceWorker({bypass:!0})):r.Network.disable({})}}async stopWorker(e){if(!this._cdp)return;let r=this.version(e);r&&await this._cdp.ServiceWorker.stopWorker({versionId:r.id})}},Ud=ra;Ud._instances=new Set;var ia=class{constructor(e,r,i,n,s,o,a,u){this.process=r;this.logger=s;this.telemetry=o;this.launchParams=a;this._targets=new Map;this._detachedTargets=new Set;this.frameModel=new jy;this.serviceWorkerModel=new Ud(this.frameModel);this._lifecycleQueue=Promise.resolve();this._onTargetAddedEmitter=new J;this._onTargetRemovedEmitter=new J;this.onTargetAdded=this._onTargetAddedEmitter.event;this.onTargetRemoved=this._onTargetRemovedEmitter.event;this._connection=e,this._sourcePathResolver=n,this._browser=i,this._targetOrigin=u,this.serviceWorkerModel.onDidChange(()=>{for(let c of this._targets.values())c.type()==="service_worker"&&c._onNameChangedEmitter.fire()})}static async connect(e,r,i,n,s,o,a){let c=await e.rootSession().Target.attachToBrowserTarget({});if(!c)return;let l=e.createSession(c.sessionId);return new this(e,r,l,i,s,o,n,a)}dispose(){this.serviceWorkerModel.dispose()}targetList(){return Array.from(this._targets.values()).filter(e=>Xp.has(e.type()))}async getCandiateInfo(e){let r=await this._browser.Target.getTargets({});return r?e?r.targetInfos.filter(e):r.targetInfos:[]}async closeBrowser(){var e;if(this.launchParams.request==="launch"){if(this.launchParams.cleanUp==="wholeBrowser")await this._browser.Browser.close({}),(e=this.process)==null||e.kill();else for(let r of this._targets.values())await this._browser.Target.closeTarget({targetId:r.targetId}),this._connection.close();this.process=void 0}}waitForMainTarget(e){let r,i=new Promise(s=>r=s),n=async s=>{if([...this._targets.values()].some(u=>u.targetId===s.targetId)||this._detachedTargets.has(s.targetId)||e&&!e(s))return;let o=this._browser.Target.on("targetInfoChanged",u=>{u.targetInfo.targetId===s.targetId&&(s=u.targetInfo)}),a;try{a=await this._browser.Target.attachToTarget({targetId:s.targetId,flatten:!0})}finally{o.dispose()}if(!a){r(void 0);return}r(this.attachedToTarget(s,a.sessionId,!0))};return this._browser.Target.setDiscoverTargets({discover:!0}),this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(s=>n(s.targetInfo))),this._browser.Target.on("targetInfoChanged",s=>this._targetInfoChanged(s.targetInfo,this.enqueueLifecycleFn(n))),this._browser.Target.on("detachedFromTarget",this.enqueueLifecycleFn(async s=>{s.targetId&&await this._detachedFromTarget(s.sessionId,!1)})),i}enqueueLifecycleFn(e){return r=>this._lifecycleQueue=this._lifecycleQueue.then(()=>e(r))}attachedToTarget(e,r,i,n,s=!0){let o=this._targets.get(r);if(o)return o;let a=this._connection.createSession(r),u=new pc(this,e,a,n,i,this.launchParams,r,this.logger,()=>{this._connection.disposeSession(r),this._detachedFromTarget(r)});this._targets.set(r,u),n&&n._children.set(e.targetId,u),a.Target.on("attachedToTarget",async l=>{this.attachedToTarget(l.targetInfo,l.sessionId,l.waitingForDebugger,u)}),a.Target.on("detachedFromTarget",async l=>{l.targetId&&this._detachedFromTarget(l.sessionId,!1)}),a.Target.setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:s,flatten:!0}),a.Network.setCacheDisabled({cacheDisabled:this.launchParams.disableNetworkCache}).catch(l=>this.logger.info("runtime.target","Error setting network cache state",l)),n||this.retrieveBrowserTelemetry(a);let c=e.type;return A_.has(c)&&this.frameModel.attached(a,e.targetId),this.serviceWorkerModel.attached(a),this._onTargetAddedEmitter.fire(u),!Xp.has(c)||c==="service_worker"?u.runIfWaitingForDebugger():c==="page"&&s&&a.Page.waitForDebugger({}),u}async retrieveBrowserTelemetry(e){try{let r=await e.Browser.getVersion({});if(!r)throw new Error("Undefined return from getVersion()");let i={targetCRDPVersion:r.protocolVersion,targetRevision:r.revision,targetUserAgent:r.userAgent,targetV8:r.jsVersion,targetVersion:"",targetProject:"",targetProduct:""};this.logger.verbose("runtime.target","Retrieved browser information",r);let n=(r.product||"").split("/");n.length===2?(i.targetProject=n[0],i.targetVersion=n[1]):i.targetProduct=r.product,this.telemetry.report("browserVersion",i)}catch(r){this.logger.warn("runtime.target","Error getting browser telemetry",r)}}async _detachedFromTarget(e,r=!0){var n;let i=this._targets.get(e);if(i){this._targets.delete(e),(n=i.parentTarget)==null||n._children.delete(e);try{await i._detached()}catch{}if(this._onTargetRemovedEmitter.fire(i),r&&(this._detachedTargets.add(i.targetId),await this._browser.Target.detachFromTarget({sessionId:e})),!this._targets.size&&this.launchParams.request==="launch")try{this.launchParams.cleanUp==="wholeBrowser"?await this._browser.Browser.close({}):(await this._browser.Target.closeTarget({targetId:i.id()}),this._connection.close())}catch{}}}async _targetInfoChanged(e,r){let i=[...this._targets.values()].filter(n=>n.targetId===e.targetId);if(!e.attached||!i.length)return i.length&&await Promise.all(i.map(n=>this._detachedFromTarget(n.sessionId,!1))),r(e);for(let n of i)n._updateFromInfo(e);for(let n of this._targets.values())n.targetId!==e.targetId&&n._onNameChangedEmitter.fire()}};var hq=U(w("child_process")),mq=w("fs");var Rce=50,Tr=class{constructor(e){this.messageEmitter=new J;this.endEmitter=new J;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",r=>{this.messageEmitter.fire([r.data.toString("utf-8"),new Lr])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,r,i){let n=!e.startsWith("ws://"),s=await dc(e);for(;;){let o=Date.now()+Rce;try{let a={headers:{host:i??"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(n&&s),followRedirects:!0},u=new DM(e,[],a);return await Vn(new Promise((c,l)=>{u.addEventListener("open",()=>c(new Tr(u))),u.addEventListener("error",p=>{let f=e===u.url?e:u.url.replace(/^http(s?):/,"ws$1:");if(f===e){l(p.error);return}this.create(f,r,i).then(c,l)})}),Yt.withTimeout(2e3,r).token,`Could not open ${e}`).catch(c=>{throw u.close(),c})}catch(a){if(r.isCancellationRequested)throw a;let u=o-Date.now();u>0&&await ke(u)}}}send(e){var r;(r=this._ws)==null||r.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var qy=U(w("path"));function Oce(t){let e=[/^APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL$/i,/^ELECTRON_.+$/i,/^GOOGLE_API_KEY$/i,/^VSCODE_.+$/i,/^SNAP(|_.*)$/i,/^GDK_PIXBUF_.+$/i];return new St(t).map((r,i)=>e.some(n=>n.test(r))?void 0:i)}var ki=class{constructor(e){this.defined=Pe(()=>Tu(this.value));this.value=e?LE(e):{}}lookup(e){return ki.platform==="win32"?TE(this.value,e):this.value[e]}addToPath(e,r="append",i=!1){let n=ki.platform==="win32"?"Path":"PATH",s=ki.platform==="win32"?qy.win32.delimiter:qy.posix.delimiter,o=this.lookup(n);return i&&!o&&(o=`\${env:${n}}`),o?r==="append"?o=o+s+e:o=e+s+o:o=e,this.update(n,o)}addNodeOption(e){let r=this.lookup("NODE_OPTIONS");return this.update("NODE_OPTIONS",r?`${r} ${e}`:e)}update(e,r){return ki.merge(this,{[e]:r})}merge(...e){return ki.merge(this,...e)}map(e){return new ki(ls(this.value,(r,i)=>e(i,r)))}static merge(...e){let r=e.map(n=>n instanceof ki?n.value:n),i=ki.platform==="win32"?DE(...r):Object.assign({},...r);return new ki(i)}},St=ki;St.platform=process.platform,St.empty=new ki({}),St.processEnv=Pe(()=>Oce(process.env));var Zj="--remote-debugging-port",eq="--remote-debugging-pipe",tq=t=>{let e={};for(let r of t){let i=r.indexOf("=");i===-1?e[r]=null:e[r.slice(0,i)]=r.slice(i+1)}return e},Wy=t=>{let e=[];for(let r of Object.keys(t)){let i=t[r];i!==void 0&&e.push(i===null?r:`${r}=${i}`)}return e},js=class{constructor(e=[]){this.args=e;this.argMap=Pe(()=>tq(this.args))}add(e,r=null){return new js(Wy({...this.argMap(),[e]:r}))}remove(e){return new js(Wy({...this.argMap(),[e]:void 0}))}merge(e){return new js(Wy({...this.argMap(),...e instanceof js?e.argMap():tq(e)}))}setConnection(e){return new js(Wy({...this.argMap(),[eq]:e==="pipe"?null:void 0,[Zj]:e!=="pipe"?String(e):void 0}))}getSuggestedConnection(){let e=this.argMap();if(e.hasOwnProperty(eq))return"pipe";let r=e[Zj];if(r!==void 0)return r&&Number(r)||0}filter(e){let r=this.argMap(),i=[];for(let n of Object.keys(r)){let s=r[n];e(n,s)&&i.push(s===null?n:`${n}=${s}`)}return new js(i)}toArray(){return this.args.slice()}},qs=js;qs.default=new js(["--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-renderer-backgrounding","--disable-sync","--metrics-recording-only","--no-first-run","--no-default-browser-check"]);var rE=w("url");function Vy(t,e,r){let i=ya(o=>{if(o)return new rE.URL(o);throw new Error(`A valid url wasn't supplied: <${o}>`)}),n={"url.hostname":()=>i(e).hostname,"url.port":()=>i(e).port,browserInspectUri:()=>encodeURIComponent(r),browserInspectUriPath:()=>new rE.URL(r).pathname,wsProtocol:()=>i(e).protocol==="https:"?"wss":"ws"};return t.replace(/{([^\}]+)}/g,(o,a)=>n.hasOwnProperty(a)?n[a]():o)}var lq=U(w("readline"));var sq=U(Ky());var Ri=class{constructor(e,r,i){this.logger=e;this.pipeWrite=r;this.pipeRead=i;this.messageEmitter=new J;this.endEmitter=new J;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=Pe(()=>{var e;this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),(e=this.pipeRead)==null||e.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let n=i||r;this.streams={read:n.on("error",s=>this.logger.error("internal","pipeRead error",{error:s})).pipe((0,sq.default)("\0")).on("data",s=>this.messageEmitter.fire([s,new Lr])).on("end",this.onceEnded),write:r.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){var r;(r=this.streams)==null||r.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var zy=w("child_process"),iE=w("path");function on(t,e,r="forceful"){if(r==="none")return!0;if(process.platform==="win32"){let i=process.env.WINDIR||"C:\\Windows",n=(0,iE.join)(i,"System32","taskkill.exe");try{return(0,zy.execSync)(`${n} ${r==="forceful"?"/F":""} /T /PID ${t}`,{stdio:"pipe"}),!0}catch(s){return e.error("runtime.exception","Error running taskkill.exe",s),!1}}else try{let i=(0,iE.join)(__dirname,"./targets/node/terminateProcess.sh"),n=(0,zy.spawnSync)("sh",[i,t.toString(),r==="forceful"?"9":"15"]);return n.stderr&&n.status?(e.error("runtime.exception","Error running terminateProcess",n),!1):!0}catch(i){return e.error("runtime.exception","Error running terminateProcess",i),!1}}var uq=w("fs");async function nE(t,e,r,i){let n=new Fo(uq.promises),[s,o]=await Promise.all([oq(n,new URL("/json/version",t),e),i?oq(n,new URL("/json/list",t),e):Promise.resolve(void 0)]);if(!s.ok)r.verbose("runtime.launch","Error looking up /json/version",s);else if(s.body.webSocketDebuggerUrl){let a=aq(s.url,s.body.webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/version",{url:s.body.webSocketDebuggerUrl,fixed:a}),a}if(o)if(!o.ok)r.verbose("runtime.launch","Error looking up /json/list",o);else{let a=aq(o.url,o.body[0].webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/list",{url:o.body[0].webSocketDebuggerUrl,fixed:a}),a}throw new Error("Could not find any debuggable target")}async function oq(t,e,r){if(e.hostname!=="localhost")return t.fetchJson(e.toString(),r,{host:"localhost"});let i=e.toString();e.hostname="127.0.0.1";let n=e.toString(),s=new Yt(r);try{let o;return await Ru([i,n].map(async u=>(o=await t.fetchJson(u,s.token),o.ok&&o)))||o}finally{s.cancel()}}var cq=t=>async(e,r,i)=>{for(;;)try{return await nE(e,r,i,t)}catch(n){if(r.isCancellationRequested)throw new Error(`Could not connect to debug target at ${e}: ${n.message}`);await ke(200)}},Fl=cq(!0),Xy=cq(!1);function aq(t,e){let r=new URL(t),i=new URL(e);return i.host=r.host,i.toString()}var pq=async(t,e,r,i)=>{let n=r.connection===0?await Wce(e,i):await Xy(`http://localhost:${r.connection}`,i,t),s=r.inspectUri?Vy(r.inspectUri,r.url,n):n;for(;;)try{return await Tr.create(s,i)}catch(o){if(i.isCancellationRequested)throw o;await ke(200)}},Jy=class{constructor(e){this.logger=e;this.pid=void 0;this.onExit=new J().event;this.onError=new J().event}async transport(e,r){return pq(this.logger,this,e,r)}kill(){}},Yy=class{constructor(e,r){this.cp=e;this.logger=r;this.pid=void 0;this.exitEmitter=new J;this.onExit=this.exitEmitter.event;this.errorEmitter=new J;this.onError=this.errorEmitter.event;e.on("exit",i=>this.exitEmitter.fire(i||0)),e.on("error",i=>this.errorEmitter.fire(i))}get stderr(){return this.cp.stderr}get stdio(){return this.cp.stdio}async transport(e,r){return e.connection==="pipe"?new Ri(this.logger,this.cp.stdio[3],this.cp.stdio[4]):pq(this.logger,this,e,r)}kill(){on(this.cp.pid,this.logger)}};function Wce(t,e){if(!t.stderr)throw new Error("Cannot wait for a websocket for a target that lacks stderr");return new Promise((r,i)=>{let n=lq.createInterface({input:t.stderr}),s="",o=()=>c();n.on("line",l),n.on("close",o);let a=new Ye([t.onExit(()=>c()),t.onError(c)]),u=e.onCancellationRequested(()=>{p(),i(new Wn(`Timed out after ${u} ms while trying to connect to the browser!`))});function c(f){p(),i(new Error(["Failed to launch browser!"+(f?" "+f.message:""),s,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join(`
`)))}function l(f){s+=f+`
`;let H=f.match(/^DevTools listening on (ws:\/\/.*)$/);H&&(p(),r(H[1]))}function p(){u.dispose(),n.removeListener("line",l),n.removeListener("close",o),a.dispose()}})}async function fq(t,e,r,i){let n=t.launchUnelevatedRequest({process:e,args:r});await Vn(n,i,"Could not launch browser unelevated")}var dq=()=>{};async function Hq(t,e,r,i,n,s,o={}){var W,N,M,O;let{onStderr:a=dq,onStdout:u=dq,args:c=[],dumpio:l=!1,cwd:p=process.cwd(),env:f=St.empty,connection:H="pipe",cleanUp:m="wholeBrowser",url:y,inspectUri:b}=o,I=new qs(c),B=I.getSuggestedConnection();o.includeLaunchArgs!==!1?(I=sE(I,o),B===void 0&&(I=I.setConnection(H),B=H)):B===void 0&&(B="pipe");let q=["pipe","pipe","pipe"];B==="pipe"&&(l?q=["ignore","pipe","pipe","pipe","pipe"]:q=["ignore","ignore","ignore","pipe","pipe"]);let C;if(!!(n.supportsLaunchUnelevatedProcessRequest&&o.launchUnelevated)&&typeof B=="number"&&B!==0)await fq(t,e,I.toArray(),s),C=new Jy(r);else{r.info("runtime.launch",`Launching Chrome from ${e}`);let S=hq.spawn(e,I.toArray(),{detached:!0,env:f.defined(),cwd:await ac(mq.promises,p)?p:process.cwd(),stdio:q});if(S.pid===void 0)throw await Promise.race([ke(1e3).then(()=>new Error("Unable to launch the executable (undefined pid)")),new Promise($=>S.once("error",$))]);C=new Yy(S,r)}l?((W=C.stderr)==null||W.on("data",S=>a(S.toString())),(N=C.stdout)==null||N.on("data",S=>u(S.toString()))):((M=C.stderr)==null||M.resume(),(O=C.stdout)==null||O.resume());let G=()=>{m==="wholeBrowser"&&C.kill()};process.on("exit",G),C.onExit(()=>process.removeListener("exit",G));try{if(o.promisedPort){let R;B=await Promise.race([o.promisedPort,new Promise((X,L)=>{R=C.onExit(P=>{L(new te(DT(P)))})})]).finally(()=>R.dispose())}let S=await C.transport({connection:B,inspectUri:b||void 0,url:y||void 0},s),$=new Tt(S,r,i);return G=async()=>{m==="wholeBrowser"?(await $.rootSession().Browser.close({}),C.kill()):$.close()},{cdp:$,process:C}}catch(S){throw G(),S}}function sE(t,e={}){let{userDataDir:r=null,ignoreDefaultArgs:i=!1}=e,n=i===!0?new qs:qs.default;return i instanceof Array&&(n=n.filter(s=>!i.includes(s))),r&&(n=n.add("--user-data-dir",r)),n=n.merge(t),t.toArray().every(s=>s.startsWith("-"))&&e.hasUserNavigation&&(n=n.add("about:blank")),n}async function gq(t,e,r,i){let{browserWSEndpoint:n,browserURL:s}=t;if(n){let o=await Tr.create(n,e);return new Tt(o,r,i)}else if(s){let o=await Xy(s,e,r),a=t.inspectUri?Vy(t.inspectUri,t.pageURL,o):o,u=await Tr.create(a,e);return new Tt(u,r,i)}throw new Error("Either browserURL or browserWSEndpoint needs to be specified")}var Oi=class{constructor(e,r,i){this.logger=e;this.pathResolver=r;this.vscode=i;this._disposables=[];this._onTerminatedEmitter=new J;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new J;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[],this._attemptTimer&&clearTimeout(this._attemptTimer),this._targetManager&&this._targetManager.dispose()}resolveParams(e){return e.request==="attach"&&(e.type==="pwa-chrome"||e.type==="pwa-msedge"&&typeof e.useWebView!="object")&&e.browserAttachLocation==="workspace"}async launch(e,r){return this.resolveParams(e)?(this._lastLaunchParams={...e,timeout:1/0},await this.attemptToAttach(this._lastLaunchParams,r),{blockSessionTermination:!0}):{blockSessionTermination:!1}}_scheduleAttach(e,r){this._attemptTimer=setTimeout(()=>{this._attemptTimer=void 0,this.attemptToAttach(e,{...r,cancellationToken:Cr})},1e3)}createTargetManager(e,r,i){return ia.connect(e,void 0,this.pathResolver,r,this.logger,i.telemetryReporter,i.targetOrigin)}async attemptToAttach(e,r){let i=await this.acquireConnectionForBrowser(r,e);this._connection=i,i.onDisconnected(()=>{this._connection=void 0,this._targetManager&&(this._targetManager.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire()),this._lastLaunchParams===e&&e.restart?this._scheduleAttach(e,r):this._onTerminatedEmitter.fire({killed:!0,code:0})},void 0,this._disposables);let n=this._targetManager=await this.createTargetManager(i,e,r);if(!n)return;n.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),n.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),n.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),n.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire(),n.targetList().length||this._onTerminatedEmitter.fire({killed:!0,code:0})});let s=await Promise.race([n.waitForMainTarget(await this.getTargetFilter(n,e)),ke(e.timeout).then(()=>{throw new te(Um())})]);return typeof s=="string"?s:void 0}async getTargetFilter(e,r){let i=po(r),n=mc(i);if(r.targetSelection!=="pick")return n;let s=await e.getCandiateInfo(n);if(s.length===0)return n;if(s.length===1||!this.vscode)return u=>u.targetId===s[0].targetId;let o=Qy.t("Select a tab"),a=await this.vscode.window.showQuickPick(s.map(u=>({label:u.title,detail:u.url,targetId:u.targetId})),{matchOnDescription:!0,matchOnDetail:!0,placeHolder:o});return a?u=>u.targetId===a.targetId:n}async acquireConnectionForBrowser({telemetryReporter:e,cancellationToken:r},i){for(;this._lastLaunchParams===i;)try{return await this.acquireConnectionInner(e,i,r)}catch(n){if(r.isCancellationRequested)throw new te(Zp(Qy.t("Cannot connect to the target at {0}: {1}",`${i.address}:${i.port}`,n.message)));await ke(1e3)}throw new te(Zp(Qy.t("Cannot connect to the target at {0}: {1}",`${i.address}:${i.port}`,"Cancelled")))}async acquireConnectionInner(e,r,i){let n=`http://${r.address}:${r.port}`;return await gq({browserURL:n,inspectUri:r.inspectUri,pageURL:r.url},i,this.logger,e)}async terminate(){var e;this._lastLaunchParams=void 0,(e=this._connection)==null||e.close()}async restart(){if(this._targetManager)for(let e of this._targetManager.targetList())e.type()==="page"&&!e.name().startsWith("devtools://")&&e.restart()}targetList(){let e=this._targetManager;return e?e.targetList():[]}};Oi=z([(0,sa.injectable)(),x(0,(0,sa.inject)(le)),x(1,(0,sa.inject)(et)),x(2,(0,sa.optional)()),x(2,(0,sa.inject)(mo))],Oi);var an=U(pe());var bq=U(Cw()),jd=U(w("fs")),oa=U(pe()),Ul=U(w("path"));var ns=class{constructor(e,r,i,n,s){this.storagePath=e;this.logger=r;this.pathResolver=i;this.initializeParams=n;this.fs=s;this._disposables=new Ye;this._terminated=!1;this._onTerminatedEmitter=new J;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new J;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){this._disposables.dispose()}async launchBrowser({runtimeExecutable:e,trace:r,includeDefaultArgs:i,includeLaunchArgs:n,runtimeArgs:s,userDataDir:o,env:a,cwd:u,port:c,url:l,file:p,inspectUri:f,webRoot:H,cleanUp:m,launchUnelevated:y},b,I,B,q){let C=await this.findBrowserPath(e||"stable"),D;return typeof o=="string"?D=Ul.resolve(o):o&&(D=Ul.resolve(Ul.join(this.storagePath,s!=null&&s.includes("--headless")?".headless-profile":".profile"))),jd.mkdirSync(this.storagePath,{recursive:!0}),D&&(jd.mkdirSync(D,{recursive:!0}),D=jd.realpathSync(D)),await Hq(b,C,this.logger,B,this.initializeParams,I,{onStdout:G=>b.output({category:"stdout",output:G}),onStderr:G=>b.output({category:"stderr",output:G}),dumpio:typeof r=="boolean"?r:r.stdio,cleanUp:m,hasUserNavigation:!!(l||p),cwd:u||H||void 0,env:St.merge(St.processEnv(),a),args:s||[],userDataDir:D,connection:c||(f?0:"pipe"),launchUnelevated:y,ignoreDefaultArgs:!i,includeLaunchArgs:n,url:l,inspectUri:f,promisedPort:q})}getFilterForTarget(e){return mc(po(e,["about:blank"]))}async prepareLaunch(e,{dap:r,targetOrigin:i,cancellationToken:n,telemetryReporter:s}){let o;try{o=await this.launchBrowser(e,r,n,s)}catch(c){throw new te(ST(c))}if(this._disposables.push(o.cdp.onDisconnected(()=>this.fireTerminatedEvent())),this._connectionForTest=o.cdp,this._launchParams=e,this._targetManager=await ia.connect(o.cdp,o.process,this.pathResolver,this._launchParams,this.logger,s,i),!this._targetManager)throw o.process.kill(),new te(Zp());this._targetManager.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),this._targetManager.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),this._disposables.push(this._targetManager),this._targetManager.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),this._targetManager.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire()});let a=this.getFilterForTarget(e),u=await Vn(this._targetManager.waitForMainTarget(a),n,"Could not attach to main target");if(!u)throw o.process.kill(),new te(Um());return u}async finishLaunch(e,r){if("skipNavigateForTest"in r)return;let i;if(r.file){let n=Ul.resolve(r.webRoot||r.rootPath||"",r.file),s=Math.min(n.includes("#")?n.indexOf("#"):1/0,n.includes("?")?n.indexOf("?"):1/0);isFinite(s)&&!await so(this.fs,n)?i=We(n.slice(0,s))+n.slice(s):i=We(n)}else i=r.url;i&&await e.cdp().Page.navigate({url:i})}async launch(e,r){let i=this.resolveParams(e);if(!i)return{blockSessionTermination:!1};let n=await this.prepareLaunch(i,r);return await this.finishLaunch(n,i),{blockSessionTermination:!0}}async terminate(){var e;await((e=this._targetManager)==null?void 0:e.closeBrowser())}async restart(){for(let e of this.targetList())e.type()==="page"&&e.restart()}async findBrowserByExe(e,r){var i;if(r==="*"){let n=await e.findWhere(s=>s.quality==="stable")||(await e.findAll())[0];return n==null?void 0:n.path}else return(0,bq.isQuality)(r)?(i=await e.findWhere(n=>n.quality===r))==null?void 0:i.path:r}targetList(){let e=this._targetManager;return e?e.targetList():[]}connectionForTest(){return this._connectionForTest}fireTerminatedEvent(){this._terminated||(this._terminated=!0,this._onTerminatedEmitter.fire({code:0,killed:!0}))}};ns=z([(0,oa.injectable)(),x(0,(0,oa.inject)(On)),x(1,(0,oa.inject)(le)),x(2,(0,oa.inject)(et)),x(3,(0,oa.inject)(hr)),x(4,(0,oa.inject)(it))],ns);var vu=class extends ns{constructor(r,i,n,s,o,a){super(r,i,o,a,s);this.browserFinder=n}resolveParams(r){return r.type==="pwa-chrome"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}async findBrowserPath(r){let i=await this.findBrowserByExe(this.browserFinder,r);if(!i||!await ac(this.fs,i))throw new te(Fm("Chrome",r,(await this.browserFinder.findAll()).map(n=>n.quality)));return i}};vu=z([(0,an.injectable)(),x(0,(0,an.inject)(On)),x(1,(0,an.inject)(le)),x(2,(0,an.inject)($a)),x(2,(0,an.tagged)("browser","chrome")),x(3,(0,an.inject)(it)),x(4,(0,an.inject)(et)),x(5,(0,an.inject)(hr))],vu);var vq=w("crypto"),un=U(pe()),_q=w("net"),wq=w("os"),Iq=w("path");var Vce=["--do-not-de-elevate"],jl=class extends ns{constructor(r,i,n,s,o,a){super(r,i,o,a,s);this.browserFinder=n}resolveParams(r){return r.type==="pwa-msedge"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}launchBrowser(r,i,n,s){return super.launchBrowser({...r,runtimeArgs:r.runtimeArgs??Vce},i,n,s,r.useWebView?this.getWebviewPort(r,s):void 0)}getFilterForTarget(r){return r.useWebView&&r.urlFilter?mc(po(r)):super.getFilterForTarget(r)}async getWebviewPort(r,i){let n=je();if(!r.runtimeExecutable)return n.resolve(r.port),n.promise;let s=r.runtimeExecutable.split(/\\|\//).pop(),o=`VSCode_${(0,vq.randomBytes)(12).toString("base64")}`,a=`\\\\.\\pipe\\WebView2\\Debugger\\${s}\\${o}`,u=(0,_q.createServer)(c=>{c.on("data",async l=>{let p=JSON.parse(l.toString()),f=p.devtoolsActivePort||"",H=parseInt(f.split(`
`).shift()||""),m=r.port||H;n.resolve(m);let y=`ws://${r.address}:${m}/devtools/${p.type}/${p.id}`,b=await Tr.create(y,Cr),I=new Tt(b,this.logger,i);await I.rootSession().Runtime.runIfWaitingForDebugger({}),I.close()})});return u.on("error",n.reject),u.on("close",()=>n.resolve(r.port)),u.listen(a),r.userDataDir=r.userDataDir||(0,Iq.join)((0,wq.tmpdir)(),`vscode-js-debug-userdatadir_${r.port}`),r.env=r.env||{},r.env.WEBVIEW2_USER_DATA_FOLDER=r.userDataDir.toString(),r.env.WEBVIEW2_ADDITIONAL_BROWSER_ARGUMENTS=`--remote-debugging-port=${r.port}`,r.env.WEBVIEW2_WAIT_FOR_SCRIPT_DEBUGGER="true",r.env.WEBVIEW2_PIPE_FOR_SCRIPT_DEBUGGER=o,n.promise}async findBrowserPath(r){let i=await this.findBrowserByExe(this.browserFinder,r);if(!i||!await ac(this.fs,i))throw new te(Fm("Edge",r,(await this.browserFinder.findAll()).map(n=>n.quality)));return i}};jl=z([(0,un.injectable)(),x(0,(0,un.inject)(On)),x(1,(0,un.inject)(le)),x(2,(0,un.inject)($a)),x(2,(0,un.tagged)("browser","edge")),x(3,(0,un.inject)(it)),x(4,(0,un.inject)(et)),x(5,(0,un.inject)(hr))],jl);var Ws=U(pe());var Aq=w("crypto"),Zy=U(pe());var Gce=0,ss=class{constructor(e){this.portLeaseTracker=e;this.teardown=new WeakMap}async launch(e,r,i){this.server&&this.server.close();let n=`/${(0,Aq.randomBytes)(20).toString("hex")}`,s=this.server=await vH(this.portLeaseTracker,{perMessageDeflate:!0,host:"127.0.0.1",path:n}),o=++Gce;e.launchBrowserInCompanion({...i,serverPort:s.address().port,path:n,launchId:o});let a=await Vn(new Promise((c,l)=>{s.once("connection",c),s.once("error",l)}),r,"Timed out waiting for browser connection"),u=new Tr(a);return this.teardown.set(u,()=>e.killCompanionBrowser({launchId:o})),u}close(e){var r;(r=this.teardown.get(e))==null||r()}dispose(){var e;(e=this.server)==null||e.close(),this.server=void 0}};ss=z([(0,Zy.injectable)(),x(0,(0,Zy.inject)(Ei))],ss);var ql=class extends Oi{constructor(r,i,n,s){super(i,n,s);this.helper=r}resolveParams(r){return r.request==="attach"&&(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.browserAttachLocation==="ui"}async acquireConnectionForBrowser(r,i){let n=await this.helper.launch(r.dap,r.cancellationToken,{type:i.type==="pwa-chrome"?"chrome":"edge",params:i,attach:{host:i.address,port:i.port}});return new Tt(n,this.logger,r.telemetryReporter)}};ql=z([(0,Ws.injectable)(),x(0,(0,Ws.inject)(ss)),x(1,(0,Ws.inject)(le)),x(2,(0,Ws.inject)(et)),x(3,(0,Ws.optional)()),x(3,(0,Ws.inject)(mo))],ql);var Vs=U(pe());var Wl=class extends ns{constructor(r,i,n,s,o,a){super(r,i,n,s,o);this.helper=a}resolveParams(r){return(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.request==="launch"&&r.browserLaunchLocation==="ui"?r:void 0}async launchBrowser(r,i,n,s){let o=await this.helper.launch(i,n,{type:r.type==="pwa-chrome"?"chrome":"edge",browserArgs:sE(new qs(r.runtimeArgs||[]),{hasUserNavigation:!!r.url,ignoreDefaultArgs:!r.includeDefaultArgs}).setConnection(r.port||"pipe").toArray(),params:r});return{cdp:new Tt(o,this.logger,s),process:{onExit:new J().event,onError:new J().event,transport:()=>Promise.resolve(o),kill:()=>this.helper.close(o)}}}async findBrowserPath(){throw new Error("not implemented")}};Wl=z([(0,Vs.injectable)(),x(0,(0,Vs.inject)(On)),x(1,(0,Vs.inject)(le)),x(2,(0,Vs.inject)(et)),x(3,(0,Vs.inject)(hr)),x(4,(0,Vs.inject)(it)),x(5,(0,Vs.inject)(ss))],Wl);var aa=U(pe()),Dq=w("net");var Vl=class extends Oi{constructor(e,r,i){super(e,r,i)}resolveParams(e){return e.request==="attach"&&e.type==="pwa-msedge"&&typeof e.useWebView=="object"}async acquireConnectionForBrowser(e,r){let{getAppContainerProcessTokens:i}=await Promise.resolve().then(()=>U(Pq())),n=i(r.useWebView.pipeName);if(!n)throw new te(xT());let s=n.map(u=>(0,Dq.connect)(u)),o;try{o=await Vn(Ru(s.map(u=>new Promise(c=>u.on("error",()=>c(void 0)).on("connect",()=>c(u))))),e.cancellationToken)}finally{for(let u of s)u!==o&&u.destroy()}if(!o)throw new te(CT());let a=new Ri(this.logger,o);return new Tt(a,this.logger,e.telemetryReporter)}};Vl=z([(0,aa.injectable)(),x(0,(0,aa.inject)(le)),x(1,(0,aa.inject)(et)),x(2,(0,aa.optional)()),x(2,(0,aa.inject)(mo))],Vl);var Jl=U(pe()),Vq=w("net");var ci=U(pe());var oE=Symbol("ILinkedBreakpointLocation");var Bq=U(w("path"));var Wd=U(pe()),ca=U(w("path")),Nq=w("url");var Tq=w("fs"),Gs=U(w("path")),aE=w("url");function tb(t,e){return t?(t.endsWith("/")||(t+="/"),t+e):e}async function rb(t,e,r,i,n){e=Ht(e)||e;let s;if(t){if(yi(t))s=Ht(t);else if(dr(t))s=await i(t,r,n)||t;else if(Gs.isAbsolute(e))s=Zce(e,t);else{let o=new aE.URL(e).pathname,a=await i(o,r,n),u=Gs.dirname(a);s=oo(u,t)}n.verbose("sourcemap.parsing","resolved sourceRoot",{sourceRoot:t,absSourceRoot:s})}else if(Gs.isAbsolute(e))s=Gs.dirname(e),n.verbose("sourcemap.parsing","no sourceRoot specified, using script dirname",{absSourceRoot:s});else{let o=new aE.URL(e).pathname||"/placeholder.js",a=await i(o,r,n);s=a?Gs.dirname(a):"",n.verbose("sourcemap.parsing","no sourceRoot specified, using webRoot + script path dirname",{absSourceRoot:s})}return s=XD(s),s=vt(s),s}var qd=async(t,e,r)=>{if(!t||!t.startsWith("/"))return"";let i=Object.keys(e).sort((n,s)=>s.length-n.length);for(let n of i){if(!n)continue;let s=e[n];if(n[0]!=="/"&&(r.verbose("sourcemap.parsing",`Keys should be absolute: ${n}`),n="/"+n),Yce(n,t))return Qce(n,s,t)}return""},$q=(t,e)=>async(r,i,n)=>{if(process.platform==="win32"&&/^[a-z]:/i.test(r))return r;let s=await Lm(t,Gs.dirname(e),"package.json");if(!s)return qd(r,i,n);let o=await qd(r,PE(i,a=>a.length>=s.length),n);if(process.platform!=="win32"&&r!=="/"&&!o){let a=await Tq.promises.stat(r).catch(()=>{});if(a!=null&&a.isDirectory())return r}return o||s};function Yce(t,e){return t===e?!0:(t.endsWith("/")||(t+="/"),e.startsWith(t))}function Qce(t,e,r){let i=decodeURIComponent(r.substring(t.length));return i?oo(e,i):e}function Zce(t,e){return Jr(Gs.dirname(t),e)}var Oq=U(gf()),Kl=U(w("path"));var sb="*",Mq=new RegExp(Ar(sb),"g"),ib="?:"+sb,ele=new RegExp(Ar(ib),"g"),uE=(t,e)=>{let r=e.match(t);return t.lastIndex=0,r?r.length:0},kq=new RegExp(`${Ar(ib)}|${Ar(sb)}`,"g"),nb=class{constructor(e,r){this.logger=r;this.replacers=[];let i=Object.keys(e).sort((n,s)=>s.replace(ib,"*").length-n.replace(ib,"*").length);for(let n of i){let s=e[n];if(!s.includes("*")&&/\$[0-9'`&]/.test(s)){this.replacers.push([new RegExp(`^${n}$`,"i"),s]);continue}let o=pt(n),a=`"${o}": "${s}"`,u=uE(Mq,o)-uE(ele,o);if(u>1){r.warn("runtime.sourcemap",`Warning: only one asterisk allowed in a sourceMapPathOverrides entry - ${a}`);continue}if(uE(Mq,s)>u){r.warn("runtime.sourcemap",`The right side of a sourceMapPathOverrides entry must have 0 or 1 asterisks - ${a}}`);continue}let c="^",l=0;for(kq.lastIndex=0;;){let p=kq.exec(o);if(c+=Ar(o.slice(l,p==null?void 0:p.index),"/"),!p)break;p[0]===sb?c+="(.*?)":c+=".*?",l=p.index+p[0].length}u===0&&(c+="([\\/\\\\].*)?",s+="*"),this.replacers.push([new RegExp(c+"$","i"),s.replace(/\$/g,"$$$$").replace(/\*/,"$1")])}}apply(e){let r=pt(e);for(let[i,n]of this.replacers){let s=r.replace(i,n);if(s!==r)return this.logger.verbose("runtime.sourcemap",`SourceMap: mapping ${e} => ${s}, via sourceMapPathOverrides entry - ${i.toString()}`),oo(s)}return e}};var tle=/\x00/,Rq,Gl=class{constructor(e,r){this.options=e;this.logger=r;this.sourceMapOverrides=new nb(this.options.sourceMapOverrides,this.logger);this.resolvePatterns=(Rq=this.options.resolveSourceMapLocations)==null?void 0:Rq.map(e=>{let r=e.startsWith("!")?"!":"",i=e.slice(r.length).replace(/\.[a-z0-9]+$/,".*");if(!dr(i))return pt(e);i=pt(Jr(i));let n=H_(this.options.workspaceFolder),s=H_(i),o=0;for(let a=0;a<n.length&&a<s.length&&s[a].toLowerCase()===n[a].toLowerCase();a++)o+=n[a].length+1;return i=i.slice(0,o).replace(/[\[\]\(\)\{\}\!\*]/g,"\\$&")+i.slice(o),r+i})}shouldResolveSourceMap({sourceMapUrl:e,compiledPath:r}){if(r.startsWith(Uo)||r==="")return!1;if(!this.resolvePatterns||this.resolvePatterns.length===0)return!0;let i=Ht(e)||rr(e)&&r||e;if(i.startsWith("webpack-internal:///"))return!0;let n=_m(e)?!1:x_(),s=this.rebaseRemoteToLocal(i);return(0,Oq.default)((s!==i?[i,s]:[i]).map(pt),this.resolvePatterns,{dot:!0,nocase:!n}).length>0}rebaseRemoteToLocal(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return Kl.resolve(e);let r=Vp(this.options.remoteRoot,e);if(r.startsWith(".."))return"";let i=oo(this.options.localRoot,r);return i=g_(i),this.logger.verbose("runtime.sourcemap",`Mapped remoteToLocal: ${e} -> ${i}`),Jr(i)}rebaseLocalToRemote(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return e;let r=Vp(this.options.localRoot,e),i=oo(this.options.remoteRoot,r);return i=vt(i,!0),this.logger.verbose("runtime.sourcemap",`Mapped localToRemote: ${e} -> ${i}`),i}normalizeSourceMapUrl(e){e=e.replace(tle,"");let r=e.lastIndexOf("?");return r!==-1&&e.slice(r-4,r)!==".vue"&&(e=e.slice(0,r)),e}canMapPath(e){return Kl.posix.isAbsolute(e)||Kl.win32.isAbsolute(e)||yi(e)}};var cE="https?:\\/\\/[^\\/]+\\/",ua=class extends Gl{constructor(r,i,n,s){super(n,s);this.vueMapper=r;this.fsUtils=i}absolutePathToUrlPath(r){r=ca.normalize(r);let{baseUrl:i,pathMapping:n}=this.options,s=["/",n["/"]],o=Object.entries(n).sort(([c,l],[p,f])=>f.length-l.length||p.length-c.length).find(([,c])=>MD(c,r))||s;if(!o)return{url:We(r),needsWildcard:!1};if(i&&yi(i))return{url:hc(r),needsWildcard:!1};let a=lo(ca.relative(o[1],r)),u=o[0].replace(/\/$|^\//g,"");return u&&(a=u+"/"+a),!i&&!Pm(a)?{url:a,needsWildcard:!0}:{url:wm(i,a),needsWildcard:!1}}async urlToAbsolutePath({url:r,map:i}){let n=r.indexOf("?");return n!==-1&&r.slice(n-4,n)!==".vue"&&(r=r.slice(0,n)),i?this.sourceMapSourceToAbsolute(r,i):this.simpleUrlToAbsolute(r)}async simpleUrlToAbsolute(r){if(!r)return;if(yi(r)){let o=Ht(r);if(await this.fsUtils.exists(o))return o;let a=JD(r);if(await this.fsUtils.exists(a))return a}let i;try{let o=new Nq.URL(r);if(!o.pathname||o.pathname==="/"?i="index.html":i=o.pathname,o.protocol==="webpack-internal:")return}catch{i=r}let n=ca.extname(i),s=i.replace(/^\//,"").split(/[\/\\]/);for(;s.length>0;){let o="/"+s.join("/"),a=await qd(o,this.options.pathMapping,this.logger);if(a){if(!n&&await this.fsUtils.exists(a+".html"))return a+".html";if(await this.fsUtils.exists(a))return a}s.shift()}}async sourceMapSourceToAbsolute(r,i){if(!this.shouldResolveSourceMap(i.metadata))return;switch(this.vueMapper.getVueHandling(r)){case 2:return;case 1:let a=await this.vueMapper.lookup(r);if(a)return vt(a);break;default:}r=this.normalizeSourceMapUrl(r);let{pathMapping:n}=this.options,s=tb(i.sourceRoot,r),o=this.sourceMapOverrides.apply(s);if(o!==s){o=vt(o);let a=Jr(n["/"],"..","ClientApp",Vp(n["/"],o));return this.options.clientID==="visualstudio"&&s.startsWith("webpack:///")&&!await this.fsUtils.exists(o)&&await this.fsUtils.exists(a)?a:o}return yi(r)?Ht(r):ca.isAbsolute(r)?vt(r):Jr(await rb(i.sourceRoot,i.metadata.compiledPath,n,qd,this.logger),r)}absolutePathToUrlRegexp(r){let i=this.absolutePathToUrlPath(r),n=i.url,s=n.length;n.endsWith("index.html")?(s=n.length-10-1,n=n.slice(0,s)+"\\/?($|index(\\.html)?)"):n.endsWith(".html")&&(s=n.length-5,n=n.slice(0,s)+"(\\.html)?");let o=0;i.needsWildcard&&(n=cE+n,o=cE.length,s+=cE.length);let a=Fr(n,[o,s]);return i.needsWildcard?`${Fr(We(r))}|${a}`:a}};ua=z([(0,Wd.injectable)(),x(0,(0,Wd.inject)(bl)),x(1,(0,Wd.inject)(Br))],ua);var ob=class extends ua{constructor(r,i,n,s){super(r,i,n,s);this.blazorInCodespacesRegexpSubstitution="$1:\\$2";if(this.options.remoteFilePrefix){let o=`\\${Bq.default.sep}`,a=this.options.remoteFilePrefix.replace(new RegExp(o,"g"),o);this.blazorInCodespacesRegexp=new RegExp(`^${a}${o}([A-z])\\$${o}(.*)$`)}else this.blazorInCodespacesRegexp=new RegExp("")}absolutePathToUrlRegexp(r){if(this.options.remoteFilePrefix){let i=r.replace(this.blazorInCodespacesRegexp,this.blazorInCodespacesRegexpSubstitution),s=lo(i).replace(/^(\w):(.*)$/,"$1$2"),o=Fr(s);if(o){let a=`dotnet://.*\\.dll/${o}`;return this.logger.verbose("runtime.breakpoints","absolutePathToUrlRegexp.blazor.remoteFs",{absolutePath:r,dotnetUrlRegexp:a}),a}}else{let i=We(r),n=Fr(i),s=super.absolutePathToUrlRegexp(r);return n.includes(s)?n:`${n}|${s}`}return super.absolutePathToUrlRegexp(r)}};var Fq=w("url");function Uq(t){if("file"in t&&t.file)return hc(t.file);if(t.url)try{let e=new Fq.URL(t.url);return e.pathname="/",e.search="",e.hash="",e.protocol==="data:"?void 0:e.href}catch{}}var _u=U(w("path")),qq=w("url");var jq="node:",cn=class extends Gl{constructor(r,i,n,s){super(n,s);this.fsUtils=r;this.linkedBp=i;this.options=n;this.logger=s}static shouldWarnAboutSymlinks(r){var i;return"runtimeArgs"in r&&!((i=r.runtimeArgs)!=null&&i.includes("--preserve-symlinks"))}static getOptions(r){return{workspaceFolder:r.__workspaceFolder,resolveSourceMapLocations:r.resolveSourceMapLocations,basePath:r.cwd,sourceMapOverrides:r.sourceMapPathOverrides,remoteRoot:r.remoteRoot,localRoot:r.localRoot}}derive(r){return new cn(this.fsUtils,this.linkedBp,{...this.options,...r},this.logger)}get resolutionOptions(){return this.options}async urlToAbsolutePath({url:r,map:i}){if(r=this.normalizeSourceMapUrl(r),r.startsWith(jq)&&this.options.basePath)return r=_u.join(this.options.basePath,"lib",r.slice(jq.length)),r.endsWith(".js")||(r+=".js"),r;if(i)return this.sourceMapSourceToAbsolute(r,i);let n=Ht(r);if(n)return this.rebaseRemoteToLocal(n);if(Pm(r)){let o=this.sourceMapOverrides.apply(r);r=o===r?new qq.URL(r).pathname.slice(1):o}else if(_u.isAbsolute(r))r=this.sourceMapOverrides.apply(r);else return`<node_internals>/${r}`;let s=Jr(this.options.basePath??"",r);return this.rebaseRemoteToLocal(s)}absolutePathToUrl(r){return We(this.rebaseLocalToRemote(_u.normalize(r)))}async absolutePathToUrlRegexp(r){var n;let i=r;try{i=await this.fsUtils.realPath(r)}catch{}return Cm(i,r)?Fr(this.absolutePathToUrl(r)):((n=this.linkedBp)==null||n.warn(),Fr(this.absolutePathToUrl(r))+"|"+Fr(this.absolutePathToUrl(i)))}async sourceMapSourceToAbsolute(r,i){if(!this.shouldResolveSourceMap(i.metadata))return;let n=tb(i.sourceRoot,r),s=this.sourceMapOverrides.apply(n);return s!==n?vt(s):yi(r)?Ht(r):!_u.isAbsolute(r)&&this.options.basePath?Jr(await rb(this.options.remoteRoot&&dr(i.sourceRoot)&&this.rebaseRemoteToLocal(i.sourceRoot)||i.sourceRoot,i.metadata.compiledPath,{"/":this.options.basePath},$q(this.fsUtils,i.metadata.compiledPath),this.logger),r):this.rebaseRemoteToLocal(r)||r}};var ln=Symbol("ISourcePathResolverFactory"),zl=class{constructor(e,r){this.fsUtils=e;this.linkedBp=r}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new cn(this.fsUtils,cn.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,cn.getOptions(e),r);throw new Error(`Not usable for type ${e.type}`)}};zl=z([(0,ci.injectable)(),x(0,(0,ci.inject)(Br)),x(1,(0,ci.optional)()),x(1,(0,ci.inject)(oE))],zl);var Xl=class{constructor(e,r,i,n){this.initializeParams=e;this.vueMapper=r;this.fsUtils=i;this.linkedBp=n}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new cn(this.fsUtils,cn.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,cn.getOptions(e),r);{let i=!!e.inspectUri;return new(i?ob:ua)(this.vueMapper,this.fsUtils,{workspaceFolder:e.__workspaceFolder,resolveSourceMapLocations:e.resolveSourceMapLocations,baseUrl:Uq(e),localRoot:null,remoteRoot:null,pathMapping:{"/":e.webRoot,...e.pathMapping},sourceMapOverrides:e.sourceMapPathOverrides,clientID:this.initializeParams.clientID,remoteFilePrefix:e.__remoteFilePrefix},r)}}};Xl=z([(0,ci.injectable)(),x(0,(0,ci.inject)(hr)),x(1,(0,ci.inject)(bl)),x(2,(0,ci.inject)(Br)),x(3,(0,ci.optional)()),x(3,(0,ci.inject)(oE))],Xl);var Wq=w("url");var ab=class extends ia{constructor(){super(...arguments);this.baseFilter=po(this.launchParams);this.filter=r=>{let{debugWebWorkerExtHost:i,debugWebviews:n}=this.launchParams;return!!(i&&(r.type==="worker"&&r.title==="DebugWorkerExtensionHost"||r.type==="page"&&r.title.includes("[Extension Development Host]"))||n&&r.type==="iframe"&&this.baseFilter(r))}}static async connectRenderer(r,i,n,s,o,a){let c=await r.rootSession().Target.attachToBrowserTarget({});if(!c)return;let l=r.createSession(c.sessionId);return new this(r,void 0,l,i,s,o,n,a)}waitForMainTarget(r){let i=this.launchParams;return i.debugWebWorkerExtHost&&this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(async({targetInfo:n})=>{if(!n.url.includes(i.__sessionId))return;let s=await this._browser.Target.attachToTarget({targetId:n.targetId,flatten:!0});s&&this.attachedToTarget(n,s.sessionId,!1)})),super.waitForMainTarget(r)}attachedToTarget(r,i,n,s){let o=super.attachedToTarget(r,i,n||this.filter(r),s,!1);return r.type==="iframe"&&o.setComputeNameFn(rle),o}},rle=t=>{let e;try{e=new Wq.URL(t.targetInfo.url)}catch{return}switch(e.searchParams.get("purpose")){case"customEditor":return`${e.searchParams.get("extensionId")} editor: ${e.host}`;case"notebookRenderer":return`Notebook Renderer: ${e.host}`;default:let r=e.searchParams.get("extensionId");return`Webview: ${r?r+" ":""} ${e.host}`}};var pn=class extends Oi{constructor(r,i,n){super(r,i);this.pathResolverFactory=n}async launch(r,i){if(r.type!=="pwa-extensionHost"||r.request!=="attach")return{blockSessionTermination:!1};let n=pn.debugIdToRendererDebugPort.get(r.__sessionId);if(!n)return{blockSessionTermination:!1};let s=bc({name:"Webview",type:"pwa-chrome",request:"attach",port:n,__workspaceFolder:r.__workspaceFolder,urlFilter:"",...r.rendererDebugOptions});return s.__sessionId=r.__sessionId,s.debugWebWorkerExtHost=r.debugWebWorkerHost,s.debugWebviews=r.debugWebviews,super.launch(s,i).catch(o=>this.logger.error("runtime.exception","Error in webview attach",{err:o})),{blockSessionTermination:!1}}async acquireConnectionInner(r,i,n){let s=new Ye,o=await new Promise((a,u)=>{let c=(0,Vq.createConnection)({port:i.port},()=>a(c));c.on("error",u),s.push(n.onCancellationRequested(()=>{c.destroy(),u(new Error("connection timed out"))}))}).finally(()=>s.dispose());return new Tt(new Ri(this.logger,o),this.logger,r)}async getTargetFilter(r){return r.filter}async createTargetManager(r,i,n){return new ab(r,void 0,r.rootSession(),this.pathResolverFactory.create(i,this.logger),this.logger,n.telemetryReporter,i,n.targetOrigin)}};pn.debugIdToRendererDebugPort=new Map,pn=z([(0,Jl.injectable)(),x(0,(0,Jl.inject)(le)),x(1,(0,Jl.inject)(et)),x(2,(0,Jl.inject)(ln))],pn);var la=class{constructor(){this.target={queue:[]}}connectTo(e){this.target={logger:e}}info(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:1})}verbose(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:0})}warn(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:2})}error(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:3})}fatal(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:4})}log(e){this.target&&("queue"in this.target?this.target.queue.push(e):this.target.logger.log(e))}getRecentLogs(){return this.target?"queue"in this.target?this.target.queue:this.target.logger.getRecentLogs():[]}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}setup(){throw new Error("A ProxyLogger cannot be setup()")}dispose(){this.target=void 0}forTarget(){return new la}};var Gq=Symbol("ITargetOrigin"),ub=class{constructor(e){this.id=e}},cb=class{constructor(e){this.id=e}};var lb=class{constructor(e,r){this.parentList=e;this.logger=r;this.targets=new Qn;this.onTerminatedEmitter=new J;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;e.onAdd(([,i])=>{i.parent&&this.targets.get(i.parent.id)&&this.targets.add(i.id,i.target)}),e.onRemove(([i])=>{this.targets.remove(i)&&!this.targets.size&&this.onTerminatedEmitter.fire({killed:!0,code:0})})}async launch(e,r){if(e.type!=="node-terminal"||e.request!=="attach")return{blockSessionTermination:!1};let i=this.parentList.get(e.delegateId);if(i===void 0)return setTimeout(()=>this.onTerminatedEmitter.fire({killed:!0,code:0}),1),{blockSessionTermination:!0};let n=i.target.targetOrigin();if(!(n instanceof cb))throw new Error("Expected delegate session to have a mutable target origin");let s=i.target.logger;if(!(s instanceof la))throw new Error("Expected delegate session to have a proxy logger");return n.id=r.targetOrigin.id,s.connectTo(this.logger),setTimeout(()=>{this.targets.add(e.delegateId,i.target),i.dap.connect(r.dap)},0),{blockSessionTermination:!0}}terminate(){for(let e of this.targets.value())e.stop();return Promise.resolve()}restart(){for(let e of this.targets.value())e.restart();return Promise.resolve()}targetList(){return[...this.targets.value()]}dispose(){this.terminate()}};var Kq=U(pe());var ile=0,wu=class{constructor(){this.delegateSessions=new Qn;this.refsByTarget=new WeakMap}createLauncher(e){return new lb(this.delegateSessions,e)}addDelegate(e,r,i){let n={id:ile++,target:e,dap:r,parent:i&&this.refsByTarget.get(i)};return this.refsByTarget.set(e,n),this.delegateSessions.add(n.id,n),n.id}removeDelegate(e){let r=this.refsByTarget.get(e);r&&this.delegateSessions.remove(r.id)}};wu=z([(0,Kq.injectable)()],wu);var c8=U(pe());var ze=class{constructor(e,r,i){this.major=e;this.minor=r;this.patch=i}static parse(e){let r=e.split(".").map(Number);if(r.length!==3||r.some(isNaN))throw new SyntaxError(`Input string '${e}' is not a semver`);return new ze(r[0],r[1],r[2])}static min(e,r){return e.lt(r)?e:r}compare(e){return this.major-e.major||this.minor-e.minor||this.patch-e.patch}gt(e){return this.compare(e)>0}gte(e){return this.compare(e)>=0}lt(e){return this.compare(e)<0}lte(e){return this.compare(e)<=0}toString(){return`${this.major}.${this.minor}.${this.patch}`}};var s8=U(pe());var i8=U(Xq()),us=U(w("fs")),Au=U(pe()),n8=U(w("net")),dE=U(w("os")),hE=U(w("path"));var db=class{constructor(e,r){this.sessionId=e;this.sink=r;this.onMessageEmitter=new J;this.onEndEmitter=new J;this.disposables=new Ye;this.onMessage=this.onMessageEmitter.event;this.onEnd=this.onEndEmitter.event;this.disposables.push(r.NodeWorker.on("detachedFromWorker",i=>{i.sessionId===e&&(this.onEndEmitter.fire(),this.dispose())}),r.NodeWorker.on("receivedMessageFromWorker",i=>{i.sessionId===e&&this.onMessageEmitter.fire([i.message,new Lr])}))}send(e){this.sink.NodeWorker.sendMessageToWorker({message:e,sessionId:this.sessionId})}dispose(){this.disposables.isDisposed||(this.disposables.dispose(),this.onEndEmitter.fire())}};var Jq=":::";var pE=w("path"),w$e=(0,pE.join)(__dirname,"watchdog.js"),Yq=(0,pE.join)(__dirname,"bootloader.js");var zd=U(xt()),Ni=U(pe()),os=w("path");var Vd=U(pe()),Qq=w("path");var Iu=Symbol("IPackageJsonProvider");var Yl=class{constructor(e,r){this.fs=e;this.config=r;this.getPath=Pe(async()=>{if(this.config.type!=="pwa-node"||this.config.request!=="launch")return;let e=await Lm(this.fs,this.config.cwd,"package.json");return e?(0,Qq.join)(e,"package.json"):void 0});this.getContents=Pe(async()=>{let e=await this.getPath();if(e)try{let r=await this.fs.readFile(e);return JSON.parse(r.toString())}catch{return}})}};Yl=z([(0,Vd.injectable)(),x(0,(0,Vd.inject)(Br)),x(1,(0,Vd.inject)(Ve))],Yl);var pa=Symbol("INodeBinaryProvider");function Zq(t,e){return t.has(1)?e.addNodeOption("--inspect-publish-uid=http"):e}var lle=new Set(["npm","yarn","pnpm","tnpm","cnpm"]),e8=t=>lle.has((0,os.basename)(t,(0,os.extname)(t))),t8=(t,e)=>{if(!(!t||!e8(t)))return e.find(r=>!r.startsWith("-")&&r!=="run"&&r!=="run-script")},fE=new ze(12,0,0),ple=new ze(8,0,0),fle=[{inclusiveMin:new ze(16,0,0),inclusiveMax:new ze(16,3,99),message:zd.t("Some breakpoints might not work in your version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes. Details: https://aka.ms/AAcsvqm")},{inclusiveMin:new ze(7,0,0),inclusiveMax:new ze(8,99,99),message:zd.t("You're running an outdated version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes.")}],li=class{constructor(e,r){this.path=e;this.version=r;this.capabilities=new Set;r===void 0&&(r=fE),r.gte(new ze(12,0,0))&&this.capabilities.add(0),r.gte(new ze(12,6,0))&&this.capabilities.add(1)}get isPreciselyKnown(){return this.version!==void 0}get warning(){if(this.version){for(let e of fle)if(e.inclusiveMax.gte(this.version)&&e.inclusiveMin.lte(this.version))return e}}has(e,r){return!this.isPreciselyKnown&&r!==void 0?r:this.capabilities.has(e)}},Kd=class extends te{constructor(r,i){super(_T(r.toString(),i));this.version=r;this.location=i}},dle=["node","node64","electron"],hle=new Map([[11,new ze(12,0,0)],[10,new ze(12,0,0)],[9,new ze(12,0,0)],[8,new ze(12,0,0)],[7,new ze(12,0,0)],[6,new ze(12,0,0)],[5,new ze(10,0,0)],[4,new ze(10,0,0)],[3,new ze(10,0,0)],[2,new ze(8,0,0)],[1,new ze(8,0,0)]]),Gd=class{constructor(e,r,i){this.logger=e;this.fs=r;this.packageJson=i;this.knownGoodMappings=new Map}async resolveAndValidate(e,r="node",i,n){try{return await this.resolveAndValidateInner(e,r,i,n)}catch(s){if(!(s instanceof Kd))throw s;if(await this.shouldTryDebuggingAnyway(s))return new li(s.location,s.version instanceof ze?s.version:void 0);throw s}}shouldTryDebuggingAnyway(e){return Promise.resolve(!1)}async resolveAndValidateInner(e,r,i,n){let s=await this.resolveBinaryLocation(r,e);if(this.logger.info("runtime.launch","Using binary at",{location:s,executable:r}),!s)throw new te(k_(r,zd.t("path does not exist")));if(i)return new li(s,new ze(i,0,0));let o=zD(s);if(!dle.includes(o)){if(e8(s)){let y=await this.packageJson.getPath();y&&(e=e.addToPath((0,os.resolve)((0,os.dirname)(y),"node_modules/.bin"),"prepend"))}try{let y=await this.resolveAndValidateInner(e,"node",void 0,n);return new li(s,y.version)}catch(y){if(PT(y,9230))throw y;return new li(s,void 0)}}if(s.startsWith("/snap/"))return new li(s,void 0);let a=this.knownGoodMappings.get(s);if(a)return a;let u=await this.getVersionText(s,n);if(!u)return new li(s,void 0);this.logger.info("runtime.launch","Discovered version",{version:u});let c=/v([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(u);if(!c)throw new Kd(u,s);let[,l,p,f]=c.map(Number),H=new ze(l,p,f);if(o==="electron"){let y=await this.resolveAndValidate(e);H=ze.min(hle.get(H.major)??fE,y.version??fE)}if(H.lt(ple))throw new Kd(H,s);let m=new li(s,H);return this.knownGoodMappings.set(s,m),m}async resolveBinaryLocation(e,r){return e&&(0,os.isAbsolute)(e)?await PD(this.fs,e,r):await vm(this.fs,e,r.value)}async getVersionText(e,r){var i;try{let{stdout:n}=await Gg(e,["--version"],{env:St.processEnv().defined(),cwd:r});return n.trim()}catch(n){throw r&&!((i=await so(this.fs,r))!=null&&i.isDirectory())?new te(vT(r)):new te(k_(e,n.message))}}};Gd=z([(0,Ni.injectable)(),x(0,(0,Ni.inject)(le)),x(1,(0,Ni.inject)(it)),x(2,(0,Ni.inject)(Iu))],Gd);var Ql=class extends Gd{constructor(r,i,n,s){super(r,i,n);this.vscode=s}async shouldTryDebuggingAnyway({message:r}){if(!this.vscode)return!1;let i=zd.t("Yes");return await this.vscode.window.showErrorMessage(r,i)===i}};Ql=z([x(0,(0,Ni.inject)(le)),x(1,(0,Ni.inject)(it)),x(2,(0,Ni.inject)(Iu)),x(3,(0,Ni.optional)()),x(3,(0,Ni.inject)(mo))],Ql);var r8=w("path");var hb=class{constructor(e,r,i,n,s,o,a={},u){this.launchConfig=e;this.targetOriginValue=r;this.connection=i;this.targetInfo=s;this.logger=o;this.lifecycle=a;this._parent=u;this._serialize=Promise.resolve(void 0);this._attached=!1;this._onNameChangedEmitter=new J;this._onDisconnectEmitter=new J;this.entryBreakpoint=void 0;this.onDisconnect=this._onDisconnectEmitter.event;this.onNameChanged=this._onNameChangedEmitter.event;this.connection=i,this._cdp=n,n.pause(),this._waitingForDebugger=s.type==="waitingForDebugger",s.title?this._targetName=`${(0,r8.basename)(s.title)} [${s.processId}]`:this._targetName=`[${s.processId}]`,n.Target.on("targetDestroyed",()=>this.connection.close()),i.onDisconnected(()=>this._disconnected())}id(){return this.targetInfo.targetId}processId(){return this.targetInfo.processId}name(){return this._targetName}fileName(){return this.targetInfo.title}type(){return"node"}targetOrigin(){return this.targetOriginValue}parent(){return this._parent}async initialize(){this.lifecycle.initialized&&(this.entryBreakpoint=await this.lifecycle.initialized(this)||void 0)}waitingForDebugger(){return this._waitingForDebugger}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?We(e):e}supportsCustomBreakpoints(){return!1}executionContextName(){return this._targetName}hasParent(){return!!this._parent}async runIfWaitingForDebugger(){await this._cdp.Runtime.runIfWaitingForDebugger({})}async _disconnected(){this._onDisconnectEmitter.fire()}canAttach(){return!this._attached}async attach(){return this._serialize=this._serialize.then(async()=>{if(!this._attached)return this._doAttach()}),this._serialize}async _doAttach(){this._waitingForDebugger=!1,this._attached=!0;let e=await this._cdp.Target.attachToTarget({targetId:this.targetInfo.targetId});if(!e){this.logger.info("runtime.launch","Failed to attach to target",{targetId:this.targetInfo.targetId});return}this._cdp.NodeWorker.enable({waitForDebuggerOnStart:!0}),e&&"__dynamicAttach"in e&&(await this._cdp.Runtime.enable({}),await this._cdp.Debugger.enable({}));let r;return this._cdp.Runtime.on("executionContextCreated",i=>{i.context.auxData&&i.context.auxData.isDefault&&(r=i.context.id)}),this._cdp.Runtime.on("executionContextDestroyed",i=>{i.executionContextId===r&&this.connection.close()}),this._cdp}async afterBind(){this._cdp.resume()}canDetach(){return this._attached}async detach(){this._serialize=this._serialize.then(async()=>{if(this._waitingForDebugger){let e=await this._doAttach();await(e==null?void 0:e.Runtime.runIfWaitingForDebugger({}))}this._attached&&this._doDetach()})}async _doDetach(){await Promise.all([this._cdp.Target.detachFromTarget({targetId:this.targetInfo.targetId}),this._cdp.NodeWorker.disable({})]),this.connection.close(),this._attached=!1}canRestart(){return!1}restart(){}canStop(){return!0}stop(){try{this.lifecycle.close&&this.lifecycle.close(this)}finally{this.connection.close()}}};var as=class{constructor(e,r,i,n){this.pathProvider=e;this.logger=r;this.portLeaseTracker=i;this.pathResolverFactory=n;this.serverConnections=new Set;this.targets=new Qn;this.onTerminatedEmitter=new J;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;this.bootloaderFile=Pe(this.getBootloaderFile.bind(this))}async launch(e,r){let i=this.resolveParams(e);if(!i)return{blockSessionTermination:!1};this._stopServer();let{server:n,pipe:s}=await this._startServer(r.telemetryReporter),o=this.logger.forTarget(),a=this.run={server:n,serverAddress:s,params:i,context:r,logger:o,pathResolver:this.pathResolverFactory.create(i,this.logger)};return await this.launchProgram(a),{blockSessionTermination:!0}}async terminate(){this.program?await this.program.stop():this.onProgramTerminated({code:0,killed:!0})}async restart(e){if(!this.run)return;let r=this.program;r&&(this.program=void 0,await r.stop(),await Promise.race([ke(2e3).then(()=>!1),Promise.all([...this.serverConnections].map(n=>new Promise(s=>n.onDisconnected(s))))])||(this.logger.warn("runtime.launch","Timeout waiting for server connections to close"),this.closeAllConnections())),await this.launchProgram({...this.run,params:e?this.resolveParams(e)??this.run.params:this.run.params,context:{...this.run.context,cancellationToken:this.run.params.timeout>0?Yt.withTimeout(this.run.params.timeout).token:Cr}})}targetList(){return[...this.targets.value()]}dispose(){this._stopServer()}onProgramTerminated(e){this.onTerminatedEmitter.fire(e),this._stopServer(),this.program=void 0}resolveNodePath(e,r="node"){return this.pathProvider.resolveAndValidate(St.merge(St.processEnv(),this.getConfiguredEnvironment(e)),r,e.nodeVersionHint,e.cwd)}getConfiguredEnvironment(e){let r=St.empty;if(e.envFile)try{r=r.merge(mle(e.envFile))}catch(i){throw new te(bT(i.message))}return r.merge(e.env)}async resolveEnvironment({params:e,serverAddress:r},i,n){let s=this.getConfiguredEnvironment(e),o=await this.bootloaderFile(e.cwd,i),a={inspectorIpc:r,deferredMode:!1,waitForDebugger:"",execPath:await vm(us.promises,"node",process.env),onlyEntrypoint:!e.autoAttachChildProcesses,verbose:e.trace===!0||typeof e.trace=="object"&&e.trace.stdio?!0:void 0,autoAttachMode:"always",mandatePortTracking:this.portLeaseTracker.isMandated?!0:void 0,...n},u={NODE_OPTIONS:` --require ${o.interpolatedPath} `,VSCODE_INSPECTOR_OPTIONS:Jq+JSON.stringify(a),ELECTRON_RUN_AS_NODE:null},c=s.lookup("NODE_OPTIONS");c&&(u.NODE_OPTIONS+=` ${c}`);let l=St.processEnv().lookup("NODE_OPTIONS");return l&&(u.NODE_OPTIONS+=` ${l}`),s.merge({...u})}createLifecycle(e,r,i){return{}}async _startServer(e){let r=LD(),i=await new Promise((n,s)=>{let o=n8.createServer(a=>this._startSession(a,e)).on("error",s).listen(r,()=>n(o))});return{pipe:r,server:i}}_stopServer(){var e,r;(e=this.run)==null||e.server.close(),this.run=void 0,(r=this.bootloaderFile.value)==null||r.then(i=>i.dispose()),this.bootloaderFile.forget(),this.closeAllConnections()}closeAllConnections(){this.serverConnections.forEach(e=>e.close()),this.serverConnections.clear()}async _startSession(e,r){if(!this.run)return;let{connection:i,cdp:n,targetInfo:s}=await this.acquireTarget(e,r,this.run.logger);if(!this.run){e.destroy();return}s.processId===void 0&&(s.processId=Number(s.targetId));let o=new hb(this.run.params,this.run.context.targetOrigin,i,n,s,this.run.logger,this.createLifecycle(n,this.run,s),s.openerId?this.targets.get(s.openerId):void 0);this.listenToWorkerDomain(n,r,o),this.targets.add(s.targetId,o),o.onDisconnect(()=>this.targets.remove(s.targetId))}async listenToWorkerDomain(e,r,i){e.NodeWorker.on("attachedToWorker",n=>{let s=new db(n.sessionId,e),o=new Qc(i.launchConfig,{attached:!0,canAccessOpener:!1,type:"node-worker",targetId:`${i.id()}-${n.sessionId}`,title:n.workerInfo.title,url:n.workerInfo.url,openerId:i.id()},i,i.targetOrigin(),new Tt(s,i.logger,r).rootSession(),i.logger),a=new Ye;a.push(s),a.push(i.onDisconnect(()=>a.dispose())),a.push(s.onEnd(()=>a.dispose())),a.callback(()=>this.targets.remove(o.id())),this.targets.add(o.id(),o)})}async acquireTarget(e,r,i){let n=new Tt(new Ri(i,e),i,r);this.serverConnections.add(n),n.onDisconnected(()=>this.serverConnections.delete(n));let s=n.rootSession(),{targetInfo:o}=await new Promise(c=>s.Target.on("targetCreated",c)),a=o,u=this.portLeaseTracker.register(a.processInspectorPort);return n.onDisconnected(()=>u.dispose()),{targetInfo:a,cdp:s,connection:n,logger:i}}async getBootloaderFile(e,r){let i=pt(Yq);if(!i.includes(" "))return{interpolatedPath:i,dispose:()=>{}};if(r.has(0))return{interpolatedPath:`"${i}"`,dispose:()=>{}};let n=`require(${JSON.stringify(i)})`;if(!dE.tmpdir().includes(" ")||!e){let a=hE.join(dE.tmpdir(),"vscode-js-debug-bootloader.js");return await us.promises.writeFile(a,n),{interpolatedPath:a,dispose:()=>{}}}let s=".vscode-js-debug-bootloader.js",o=hE.join(e,s);return await us.promises.writeFile(o,n),{interpolatedPath:`./${s}`,dispose:()=>us.unlinkSync(o)}}async gatherTelemetryFromCdp(e,r){for(let i=0;i<8;i++){let n=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:"typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : ({ processId: process.pid, nodeVersion: process.version, architecture: process.arch })"+Dt()});if(!this.program)return;if(!n||!n.result.value){this.logger.error("runtime.target","Undefined result getting telemetry");return}if(typeof n.result.value!="object"){this.logger.info("runtime.target","Process not yet defined, will retry"),await ke(50*2**i);continue}let s=n.result.value;return r.context.telemetryReporter.report("nodeRuntime",{version:s.nodeVersion,arch:s.architecture}),this.program.gotTelemetery(s),s}}};as=z([(0,Au.injectable)(),x(0,(0,Au.inject)(pa)),x(1,(0,Au.inject)(le)),x(2,(0,Au.inject)(Ei)),x(3,(0,Au.inject)(ln))],as);function mle(t){if(!us.existsSync(t))return{};let e=Hle(us.readFileSync(t,"utf8"));return i8.parse(Buffer.from(e))}function Hle(t){return t&&t[0]==="\uFEFF"&&(t=t.substr(1)),t}var fa=class extends as{async appendEnvironmentVariables(e,r){let i="typeof process==='undefined'||process.pid===undefined?'process not defined':(()=>{"+Object.entries(r.defined()).map(([n,s])=>{let o=JSON.stringify(n);return`process.env[${o}]=(process.env[${o}]||'')+${JSON.stringify(s)}`}).join(";")+"})()"+Dt();for(let n=0;n<5;n++){let s=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:i});if(!s){this.logger.error("runtime.target","Undefined result setting child environment vars");return}if(!s.exceptionDetails&&s.result.value!=="process not defined")return;this.logger.error("runtime.target","Error setting child environment vars",s),await ke(50)}}};fa=z([(0,s8.injectable)()],fa);var mb=class{constructor(e,r){this.a=e;this.b=r;this.stopped=Promise.race([this.a.stopped.then(async e=>await this.b.stop()&&e),this.b.stopped.then(async e=>await this.a.stop()&&e)])}gotTelemetery(e){this.a.gotTelemetery(e),this.b.gotTelemetery(e)}async stop(){return(await Promise.all([this.a.stop(),this.b.stop()]))[0]}},Hb=class{constructor(e,r,i){this.child=e;this.logger=r;this.killBehavior=i;this.killed=!1;this.stopped=new Promise((n,s)=>{e.once("exit",o=>n({killed:this.killed,code:o||0})),e.once("error",o=>s({killed:this.killed,code:1,error:o}))})}gotTelemetery(){}stop(){return this.killed=!0,on(this.child.pid,this.logger,this.killBehavior),this.stopped}},Su=class{constructor(){this.stopped=new Promise(e=>this.stopDefer=e)}gotTelemetery(e){this.telemetry=e}stop(){return this.stopDefer({code:0,killed:!0}),this.stopped}},ha=class extends Su{constructor(r){super();this.wd=r;r.onEnd(i=>{this.stopDefer(i),this.wd.dispose()})}stop(){return this.wd.dispose(),this.stopped}},Xd=class{constructor(e,r,i){this.terminalResult=e;this.logger=r;this.killBehavior=i;this.didStop=!1;this.stopped=new Promise(e=>this.onStopped=r=>{this.didStop=!0,e({code:0,killed:r})});e.processId&&this.startPollLoop(e.processId)}gotTelemetery({processId:e}){if(this.didStop){on(e,this.logger,this.killBehavior);return}this.loop||this.startPollLoop(e)}stop(){return this.didStop?this.stopped:(this.didStop=!0,this.loop?(on(this.loop.processId,this.logger,this.killBehavior),this.startPollLoop(this.loop.processId,Xd.killConfirmInterval)):this.terminalResult.shellProcessId?(on(this.terminalResult.shellProcessId,this.logger,this.killBehavior),this.startPollLoop(this.terminalResult.shellProcessId,Xd.killConfirmInterval)):this.onStopped(!0),this.stopped)}startPollLoop(e,r=Xd.terminationPollInterval){this.loop&&clearInterval(this.loop.timer);let i={processId:e,timer:setInterval(()=>{gle(e)||(clearInterval(i.timer),this.onStopped(!0))},r)};this.loop=i}},da=Xd;da.terminationPollInterval=1e3,da.killConfirmInterval=200;function gle(t){try{return process.kill(t,0),!0}catch{return!1}}var u8=U(w("net"));var o8=w("crypto"),a8=()=>(0,o8.randomBytes)(12).toString("hex");var Bi=class{constructor(e,r){this.info=e;this.server=r;this.onEndEmitter=new J;this.cts=new Yt;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:this.info.ownId??a8(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let r=await new Promise((n,s)=>{let o=u8.createConnection(e.ipcAddress,()=>n(o));o.on("error",s)}),i=new Ri(Ti.null,r);return new Bi(e,i)}listenToServer(){let{server:e,targetInfo:r}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:r}})),e.onMessage(async([i])=>{if(this.target&&!i.includes("Target.attachToTarget")&&!i.includes("Target.detachFromTarget")){this.target.send(i);return}let n=await this.execute(i);n&&e.send(JSON.stringify(n))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){var i;let r=JSON.parse(e);switch(r.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:r.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:r.id,result:{}};default:(i=this.target)==null||i.send(r);return}}async createTarget(){this.gracefulExit=!1;let e=await Tr.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([r])=>this.server.send(r)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var mE=class extends ha{constructor(r,i){super(r);this.logger=i;this.stopped.then(()=>{this.telemetry&&on(this.telemetry.processId,this.logger,"polite")})}},Zl=class extends fa{constructor(){super(...arguments);this.restarting=!1}async restart(){var r;this.restarting=!0,this.onProgramTerminated({code:0,killed:!0,restart:!0}),(r=this.program)==null||r.stop()}resolveParams(r){return r.type==="pwa-extensionHost"&&r.request==="attach"?r:void 0}async launchProgram(r){let i=await Fl(`http://localhost:${r.params.port}`,r.context.cancellationToken,this.logger),n=await Bi.attach({ipcAddress:r.serverAddress,scriptName:"Extension Host",inspectorURL:i,waitForDebugger:!0,dynamicAttach:!0}),s=this.program=new mE(n,this.logger);this.program.stopped.then(o=>{s===this.program&&this.onProgramTerminated(o)})}createLifecycle(r,i,n){return n.openerId?{}:{initialized:()=>this.onFirstInitialize(r,i,n)}}async onFirstInitialize(r,i,n){this.setEnvironmentVariables(r,i,n.targetId);let s=await this.gatherTelemetryFromCdp(r,i),o=this.program;if(s&&o){let a=new da({processId:s.processId},this.logger,"forceful");a.stopped.then(()=>o.stop()),o.stopped.then(()=>{this.restarting||a.stop()})}}async setEnvironmentVariables(r,i,n){if(!i.params.autoAttachChildProcesses)return;let s=await this.resolveEnvironment(i,new li("node",ze.parse(process.versions.node)),{openerId:n});return this.appendEnvironmentVariables(r,s.update("ELECTRON_RUN_AS_NODE",null))}};Zl=z([(0,c8.injectable)()],Zl);var Jd=w("fs"),l8=U(pe());var ep=class extends as{resolveParams(e){return e.type==="pwa-extensionHost"&&e.request==="launch"?e:void 0}async launchProgram(e){let r=e.params.port||await yH(),i=await e.context.dap.launchVSCodeRequest({args:yle(e.params,r),env:this.getConfiguredEnvironment(e.params).defined(),debugRenderer:e.params.debugWebviews||e.params.debugWebWorkerHost});i.rendererDebugPort&&pn.debugIdToRendererDebugPort.set(e.params.__sessionId,i.rendererDebugPort),this.program=new Su,this.program.stop()}};ep=z([(0,l8.injectable)()],ep);var yle=(t,e)=>{let r=t.args.map(i=>{if(i.startsWith("-")){let n=i.split("=",2);return n.length===2&&((0,Jd.existsSync)(n[1])||(0,Jd.existsSync)(n[1]+".js"))?{prefix:n[0]+"=",path:n[1]}:{prefix:i}}else{try{let n=(0,Jd.lstatSync)(i);if(n.isDirectory())return{prefix:"--folder-uri=",path:i};if(n.isFile())return{prefix:"--file-uri=",path:i}}catch{}return{path:i}}});return t.noDebug||r.unshift({prefix:`--inspect-brk-extensions=${e}`}),r.unshift({prefix:`--debugId=${t.__sessionId}`}),r};var A8=U(xt()),xu=U(pe());var p8=w("crypto"),Yd=w("fs"),f8=w("os"),d8=U(w("path")),gb=class{constructor(){this.disposed=!1;this.path=d8.join((0,f8.tmpdir)(),`node-debug-callback-${(0,p8.randomBytes)(8).toString("hex")}`);this.file=Yd.promises.open(this.path,"w")}static isValid(e){try{let r=(0,Yd.readFileSync)(e);return r.length?r.readDoubleBE()>Date.now()-gb.recencyDeadline:!1}catch{return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),gb.updateInterval))}async touch(e=()=>Date.now()){let r=await this.file,i=Buffer.alloc(8);i.writeDoubleBE(e()),await r.write(i,0,i.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await Yd.promises.unlink(this.path)}catch{}}}},tp=gb;tp.updateInterval=1e3,tp.recencyDeadline=2e3;var b8=w("fs");var H8=w("path");var h8=w("child_process"),m8=U(Ky()),rp=class{constructor(e=h8.spawn){this.spawn=e}lookup(e,r){return new Promise((i,n)=>{let s=this.createProcess(),o=this.createParser();s.on("error",n),s.stderr.on("error",a=>n(`Error finding processes: ${a.toString()}`)),s.stdout.pipe((0,m8.default)(/\r?\n/)).on("data",a=>{let u=o(a);u&&(r=e(u,r))}),s.on("close",(a,u)=>{a===0?i(r):u?n(new Error(`process terminated with signal: ${u}`)):a&&n(new Error(`process terminated with exit code: ${a}`))})})}};var ip=class extends rp{constructor(r){super();this.fsUtils=r}async getWorkingDirectory(r){try{let{stdout:i}=await Gg("lsof",["-a","-dcwd","-Fn",`-p${r}`]),n=i.trim().split(`
`).pop().slice(1);return n&&(0,H8.isAbsolute)(n)&&await this.fsUtils.exists(n)?n:void 0}catch(i){if(i instanceof Ts)return;throw i}}createProcess(){return this.spawn("ps",["-xo",`pid=PID,ppid=PPID,comm=${"a".repeat(256)},command=COMMAND`])}createParser(){let r;return i=>{if(!r){r=i.indexOf("COMMAND");return}let n=/^\W*([0-9]+)\W*([0-9]+)\W*/.exec(i);if(n)return{pid:Number(n[1]),ppid:Number(n[2]),command:i.slice(n[0].length,r).trim(),args:i.slice(r).trim()}}}};var yb=class extends ip{createProcess(){return this.spawn("ps",["-axo","pid=PID,ppid=PPID,comm:30,command=COMMAND"])}createParser(){let e=super.createParser();return r=>{let i=e(r);if(!i)return;let n=i.args.indexOf(i.command);if(n===-1)return i;for(n=n+i.command.length;n<i.args.length&&i.args[n]!==" ";)n++;return i.command=i.args.substr(0,n),i.args=i.args.substr(n+1),i}}};var g8=w("path");var bb=class extends rp{async getWorkingDirectory(){}createProcess(){let e=(0,g8.join)(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");return this.spawn(e,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"])}createParser(){let e=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/;return r=>{let i=e.exec(r.trim());if(!i||i.length!==5)return;let n=Number(i[4]),s=Number(i[3]),o=Number(i[2]),a=i[1].trim();if(!isNaN(n)&&!isNaN(s)&&a){let u=a;if(a[0]==='"'){let c=a.indexOf('"',1);c>0&&(u=a.substr(1,c-1),a=a.substr(c+2))}else{let c=a.indexOf(" ");c>0?(u=a.substr(0,c),a=a.substr(c+1)):a=""}return{pid:n,ppid:s,command:u,args:a,date:o}}}}};var y8=new Ki(b8.promises),v8=process.platform==="win32"?new bb:process.platform==="darwin"?new ip(y8):new yb(y8);function _8(t){let e=/--inspect(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/,r=/--inspect-port=(\d+)/,i,n,s=e.exec(t);return s&&s.length>=1&&(s.length>=5&&s[4]&&(i=s[4]),s.length>=6&&s[5]&&(n=parseInt(s[5]))),s=r.exec(t),s&&s.length===2&&(n=parseInt(s[1])),{address:i,port:n}}async function w8(t,e,r,i=Cr){let n=await ble(t.pid,r);if(!n)return[];let s=[],o=n.children.slice();for(;o.length;){let a=o.pop();o=o.concat(a.children);let{port:u}=_8(a.args);u&&s.push(nE(`http://${t.hostname}:${u}`,i,r,!0).then(c=>Bi.attach({ipcAddress:t.ipcAddress,scriptName:"Child Process",inspectorURL:c,waitForDebugger:!0,dynamicAttach:!0,pid:String(a.pid),openerId:e})).catch(c=>r.info("internal","Could not spawn WD for child process",{err:c,port:u,child:a})))}return(await Promise.all(s)).filter(a=>!!a)}async function ble(t,e){let r=new Map;r.set(0,{children:[],pid:0,ppid:0,command:"",args:""});try{await v8.lookup(({pid:n,ppid:s,command:o,args:a})=>(n!==s&&r.set(n,{pid:n,ppid:s,command:o,args:a,children:[]}),r),null)}catch(n){e.warn("internal","Error getting child process tree",n);return}let i=r.values();for(let n of i){let s=r.get(n.ppid);s&&s!==n&&s.children.push(n)}return!isNaN(t)&&t>0?r.get(t):r.get(0)}var I8=U(pe());var cs=class{create(e){return e===!1?new HE:e===!0?new Eu({maxAttempts:1/0,delay:1e3}):new Eu({maxAttempts:e.maxAttempts??1/0,delay:e.delay??1e3})}};cs=z([(0,I8.injectable)()],cs);var Eu=class{constructor(e,r=0){this.options=e;this.attempt=r}get delay(){return this.options.delay}next(){return this.attempt===this.options.maxAttempts?void 0:new Eu(this.options,this.attempt+1)}reset(){return this.attempt?new Eu(this.options):this}},HE=class{constructor(){this.delay=-1}next(){}reset(){return this}};var np=class extends fa{constructor(r,i,n,s,o=new cs){super(r,i,s,n);this.restarters=o}resolveParams(r){return r.type==="pwa-node"&&r.request==="attach"?r:void 0}async launchProgram(r){let i=async(s,o)=>{let a=this.program,u;try{r.params.websocketAddress?u=r.params.websocketAddress:u=await Fl(`http://${r.params.address}:${r.params.port}`,o&&r.params.timeout>0?Yt.withTimeout(r.params.timeout).token:r.context.cancellationToken,this.logger)}catch(p){if(a&&a===o)return n(s,a,{killed:!1,code:1});throw p}let c=await Bi.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:u,remoteHostHeader:r.params.remoteHostHeader,waitForDebugger:!0,dynamicAttach:!0}),l=this.program=new ha(c);l.stopped.then(p=>n(s.reset(),l,p))},n=async(s,o,a)=>{if(this.program!==o)return;if(a.killed){this.onProgramTerminated(a);return}let u=s.next();if(!u){this.onProgramTerminated(a);return}r.context.dap.output({output:A8.t(`Lost connection to debugee, reconnecting in {0}ms\r
`,u.delay)});let c=new Su;this.program=c;let l=await Promise.race([ke(u.delay),c.stopped]);this.program===c&&(l?this.onProgramTerminated(a):i(u,c))};return i(this.restarters.create(r.params.restart))}async terminate(r){await super.terminate(),r&&this.telemetry&&on(this.telemetry.processId,this.logger)}createLifecycle(r,i,n){if(n.openerId)return{};let s;return{initialized:async()=>{s=this.onFirstInitialize(r,i,n),await s},close:()=>{var o;this.targetList().length&&((o=this.program)==null||o.stop()),s==null||s.then(a=>a.dispose())}}}async onFirstInitialize(r,i,n){let s=new tp;await s.startTouchLoop();let o=new li("node",void 0);try{o=await this.resolveNodePath(i.params)}catch{}let[a]=await Promise.all([this.gatherTelemetryFromCdp(r,i),this.setEnvironmentVariables(r,i,s.path,n.targetId,o)]);return this.telemetry=a,a&&i.params.attachExistingChildren&&w8({pid:a.processId,nodePath:o.path,hostname:i.params.address,ipcAddress:i.serverAddress},n.targetId,this.logger).catch(u=>this.logger.warn("internal","Error watching child processes",{err:u})),s}async setEnvironmentVariables(r,i,n,s,o){if(!i.params.autoAttachChildProcesses)return;if(!await dc(i.params.address)){this.logger.warn("runtime.target","Cannot attach to children of remote process");return}let a=await this.resolveEnvironment(i,o,{requireLease:n,openerId:s});return this.appendEnvironmentVariables(r,a)}};np=z([(0,xu.injectable)(),x(0,(0,xu.inject)(pa)),x(1,(0,xu.inject)(le)),x(2,(0,xu.inject)(ln)),x(3,(0,xu.inject)(Ei))],np);var pi=U(pe()),ap=w("path");function S8(t){if(!t.runtimeArgs||t.attachSimplePort)return;let e=[];for(let r of t.runtimeArgs)/^--inspect-brk(=|$)/.test(r)?t.stopOnEntry=t.stopOnEntry||!0:e.push(r);t.runtimeArgs=e}var E8=w("os"),x8=U(w("path")),C8=w("crypto"),sp=w("fs"),gE=class{constructor(){this.path=x8.join((0,E8.tmpdir)(),`node-debug-callback-${(0,C8.randomBytes)(8).toString("hex")}`);this.disposed=!1}read(e=gE.pollInterval){return this.readPromise?this.readPromise:(this.readPromise=new Promise((r,i)=>{let n=setInterval(()=>{if(this.disposed){clearInterval(n),r(void 0);return}if((0,sp.existsSync)(this.path)){try{r(JSON.parse((0,sp.readFileSync)(this.path,"utf-8")))}catch(s){i(s)}finally{this.dispose()}clearInterval(n)}},e)}),this.readPromise)}dispose(){if(!this.disposed){this.disposed=!0;try{(0,sp.unlinkSync)(this.path)}catch{}}}},Qd=gE;Qd.pollInterval=200;var Cu=U(w("path"));var Zd=Symbol("IProgramLauncher"),vb=t=>{let e=t.program;if(e&&Cu.isAbsolute(e)){let r=Cu.relative(t.cwd,e);e=Cu.isAbsolute(r)?r:`.${Cu.sep}${r}`}return e?[...t.runtimeArgs,e,...Yp(t.args)]:[...t.runtimeArgs,...Yp(t.args)]};var vle=async(t,e)=>{if(typeof e.stopOnEntry=="string")return(0,ap.resolve)(e.cwd,e.stopOnEntry);if(e.program)return(0,ap.resolve)(e.cwd,e.program);for(let r of Yp(e.args)){if(r.startsWith("-"))continue;let i=(0,ap.resolve)(e.cwd,r);if(await t.exists(i))return i}},op=class extends as{constructor(r,i,n,s,o,a,u,c,l){super(r,i,l,c);this.bpPredictor=n;this.launchers=s;this.restarters=o;this.fsUtils=a;this.packageJson=u}resolveParams(r){let i;if(r.type==="pwa-node"&&r.request==="launch"?i={...r}:"server"in r&&r.server&&"program"in r.server&&(i={...r.server}),!!i)return S8(i),i}async launchProgram(r){r.params.program&&(r.params.program=await this.tryGetCompiledFile(r.params.program)),this.attachSimplePort=await this.getSimpleAttachPortIfAny(r.params);let i=async n=>{this.program&&this.program.stop();let s=await this.resolveNodePath(r.params,r.params.runtimeExecutable||void 0),o=s.warning;o&&r.context.dap.output({category:"stderr",output:o.message});let a=new Qd,u=await this.resolveEnvironment(r,s,{fileCallback:a.path});this.attachSimplePort?(r.params.attachSimplePort||r.context.dap.output({category:"stderr",output:"Using legacy attach mode for --inspect-brk in npm scripts. We recommend removing --inspect-brk, and using `stopOnEntry` in your launch.json if you need it."}),u=u.merge({NODE_OPTIONS:null})):u=Zq(s,u);let c={...r.params,env:u.value},l=this.launchers.find(f=>f.canLaunch(c));if(!l)throw new Error("Cannot find an appropriate launcher for the given set of options");let p=await l.launchProgram(s.path,c,r.context);if(this.attachSimplePort){let f=await Bi.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:await Fl(`http://127.0.0.1:${this.attachSimplePort}`,r.context.cancellationToken,this.logger),waitForDebugger:!0,dynamicAttach:!0});p=new mb(p,new ha(f))}else a.read().then(f=>{f&&p.gotTelemetery(f)});this.program=p,p.stopped.then(async f=>{if(a.dispose(),this.program!==p)return;if(f.killed||f.code===0){this.onProgramTerminated(f);return}let H=n.next();if(!H){this.onProgramTerminated(f);return}await ke(H.delay),this.program===p&&i(H)})};return i(this.restarters.create(r.params.restart))}async getSimpleAttachPortIfAny(r){var s,o;if(r.attachSimplePort)return r.attachSimplePort;let i=t8(r.runtimeExecutable,r.runtimeArgs);if(!i)return;let n=await this.packageJson.getContents();if((o=(s=n==null?void 0:n.scripts)==null?void 0:s[i])!=null&&o.includes("--inspect-brk"))return r.port??9229}createLifecycle(r,i,{targetId:n}){return{initialized:async()=>{if(this.attachSimplePort&&await this.gatherTelemetryFromCdp(r,i),!i.params.stopOnEntry)return;let s=await vle(this.fsUtils,i.params);if(!s){this.logger.warn("runtime","Could not resolve program entrypointfrom args");return}let o="(?:entryBreakpoint){0}",a=We(s),u=Fr(a)+o,c=await r.Debugger.setBreakpointByUrl({urlRegex:u,lineNumber:0,columnNumber:0});return c!=null&&c.breakpointId?{cdpId:c==null?void 0:c.breakpointId,path:a}:void 0},close:()=>{let s=Number(n);if(s>0)try{process.kill(s)}catch{}}}}async tryGetCompiledFile(r){r=vt(r);let i=(0,ap.extname)(r);if(!i||i===".js")return r;let n=await this.bpPredictor.getPredictionForSource(r);if(!n||n.size===0)return r;let s=n.values().next().value;return s?(this.logger.info("runtime.launch","Updating entrypoint to compiled file",{from:r,to:s.compiledPath,candidates:n.size}),s.compiledPath):r}};op=z([(0,pi.injectable)(),x(0,(0,pi.inject)(pa)),x(1,(0,pi.inject)(le)),x(2,(0,pi.inject)(Oa)),x(3,(0,pi.multiInject)(Zd)),x(4,(0,pi.inject)(cs)),x(5,(0,pi.inject)(Br)),x(6,(0,pi.inject)(Iu)),x(7,(0,pi.inject)(ln)),x(8,(0,pi.inject)(Ei))],op);var cp=U(w("fs")),L8=w("fs"),_b=U(pe()),P8=U(w("os")),kt=U(w("path"));var D8=Symbol("INvmResolver");var up=class{constructor(e=new Ki(L8.promises),r=process.env,i=process.arch,n=process.platform,s=P8.homedir()){this.fsUtils=e;this.env=r;this.arch=i;this.platform=n;this.homedir=s}async resolveNvmVersionPath(e){let r,i=[],n=this.parseVersionString(e),s=this.env["NVS_HOME"];if(!s){let o=this.platform==="win32"?kt.join(this.env.LOCALAPPDATA||"","nvs"):kt.join(this.env.HOME||"",".nvs");cp.existsSync(o)&&(s=o)}if(n.nvsFormat||s){if(r=await this.resolveNvs(s,n),!r&&n.nvsFormat)throw new te(M_(e,"nvs"));i.push("nvs")}if(!r)if(this.platform==="win32")this.env["NVM_HOME"]&&(r=await this.resolveWindowsNvm(e),i.push("nvm-windows"));else{let o=this.env["NVM_DIR"]||kt.join(this.homedir,".nvm");await this.fsUtils.exists(o)&&(r=await this.resolveUnixNvm(e),i.push("nvm"))}if(!r){let o=this.platform==="win32"?this.env["FNM_DIR"]||kt.join(this.env.APPDATA||"","fnm"):this.env["FNM_DIR"]||kt.join(this.homedir,".fnm");await this.fsUtils.exists(o)&&(r=await this.resolveFnm(e,o),i.push("fnm"))}if(!i.length)throw new te($_());if(!r||!await this.fsUtils.exists(r))throw new te(M_(e,i.join("/")));return{directory:r,binary:await this.getBinaryInFolder(r)}}async getBinaryInFolder(e){return await Ru(["node64.exe","node64"].map(r=>this.fsUtils.exists(kt.join(e,r))))?"node64":"node"}async resolveNvs(e,{remoteName:r,semanticVersion:i,arch:n}){if(!e)throw new te(HT());let s=this.findBinFolderForVersion(kt.join(e,r),i,o=>cp.existsSync(kt.join(o,n)));if(s)return this.platform!=="win32"?kt.join(s,n,"bin"):kt.join(s,n)}async resolveUnixNvm(e){let r=this.env["NVM_DIR"];if(!r){let n=kt.join(this.env.HOME||"",".nvm");await this.fsUtils.exists(n)&&(r=n)}if(!r)throw new te($_());let i=this.findBinFolderForVersion(kt.join(r,"versions","node"),`v${e}`);return i?kt.join(i,"bin"):void 0}async resolveWindowsNvm(e){let r=this.env["NVM_HOME"];if(!r)throw new te(gT());return this.findBinFolderForVersion(r,`v${e}`)}async resolveFnm(e,r){let i=this.findBinFolderForVersion(kt.join(r,"node-versions"),`v${e}`);if(i)return this.platform==="win32"?kt.join(i,"installation"):kt.join(i,"installation","bin")}findBinFolderForVersion(e,r,i){if(!cp.existsSync(e))return;let n=cp.readdirSync(e);if(n.includes(r))return kt.join(e,r);let s=n.filter(o=>o.startsWith(`${r}.`)).sort(_le).filter(o=>i?i(kt.join(e,o)):!0).pop();return s?kt.join(e,s):void 0}parseVersionString(e){let i=/^(([\w-]+)\/)?(v?(\d+(\.\d+(\.\d+)?)?))(\/((x86)|(32)|((x)?64)|(arm\w*)|(ppc\w*)))?$/i.exec(e);if(!i)throw new Error("Invalid version string: "+e);let n=!!(i[2]||i[8]),s=i[2]||"node",o=i[4]||"",a=wle(i[8]||this.arch);return{nvsFormat:n,remoteName:s,semanticVersion:o,arch:a}}};up=z([(0,_b.injectable)(),x(0,(0,_b.inject)(Br))],up);var _le=(t,e)=>{let r=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(t),i=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(e);if(!r||!i)return(i?-1:0)+(r?1:0);let[,n,s,o]=r,[,a,u,c]=i;return Number(n)-Number(a)||Number(s)-Number(u)||Number(o)-Number(c)};function wle(t){switch(t){case"32":case"x86":case"ia32":return"x86";case"64":case"x64":case"amd64":return"x64";case"arm":let e=process.config.variables.arm_version;return e?"armv"+e+"l":"arm";default:return t}}var T8=w("child_process"),wb=U(pe()),$8=U(Ky());var lp=class{constructor(e){this.logger=e}canLaunch(e){return e.console==="internalConsole"}async launchProgram(e,r,i){let{executable:n,args:s,shell:o,cwd:a}=Ile(e,vb(r),r.cwd);i.dap.output({category:"console",output:[n,...s].join(" ")+`
`});let u=(0,T8.spawn)(n,s,{shell:o,cwd:a,env:St.merge(St.processEnv(),r.env).defined()});return r.outputCapture==="console"?this.discardStdio(i.dap,u):this.captureStdio(i.dap,u),new Hb(u,this.logger,r.killBehavior)}captureStdio(e,r){r.stdout.pipe(pp.stream()).on("data",i=>e.output({category:"stdout",output:i})).resume(),r.stderr.pipe(pp.stream()).on("data",i=>e.output({category:"stderr",output:i})).resume()}discardStdio(e,r){let i=[],n=()=>{i&&e.output({category:"stderr",output:Buffer.concat(i).toString()})},s=Buffer.from("Debugger attached."),o=a=>{a.includes(s)?(i=void 0,r.stderr.removeListener("data",o)):i&&i.push(a)};r.stderr.on("data",o),r.on("error",a=>{n(),e.output({category:"stderr",output:a.stack||a.message})}),r.on("exit",a=>{a!==null&&a>0&&(n(),e.output({category:"stderr",output:`Process exited with code ${a}\r
`}))}),r.stdout.resume(),r.stderr.resume()}};lp=z([(0,wb.injectable)(),x(0,(0,wb.inject)(le))],lp);var Ile=(t,e,r)=>{if(process.platform==="win32"&&(t=zi(t),r=zi(r),t.endsWith(".ps1")&&(e=["-File",t,...e],t="powershell.exe")),process.platform!=="win32"||!t.includes(" "))return{executable:t,args:e,shell:!1,cwd:r};let i=!1,n=[];for(let s of e)s.includes(" ")?(n.push(`"${s}"`),i=!0):n.push(s);return i?{executable:`"${t}"`,args:n,shell:!0,cwd:r}:{executable:t,args:e,shell:!1,cwd:r}};var pp=class{constructor(){this.etxSpotted=!1}static stream(){return(0,$8.default)(new pp)}[Symbol.split](e){if(this.etxSpotted||=e.includes(""),!this.etxSpotted)return[e,""];let r=e.split("");return r.length>1?r.map((i,n)=>n<r.length-1?`${i}
`:i):r}};var Ib=U(pe());var fp=class{constructor(e){this.logger=e}canLaunch(e){return e.internalConsoleOptions,e.console!=="internalConsole"}async launchProgram(e,r,i){let n={kind:r.console==="integratedTerminal"?"integrated":"external",title:r.name,cwd:r.cwd,args:[e,...vb(r)],env:Tu(r.env),argsCanBeInterpretedByShell:!Array.isArray(r.args)},s;try{s=await this.sendLaunchRequest(n,i)}catch(o){throw new te(yT(o.message))}return new da(s,this.logger,r.killBehavior)}sendLaunchRequest(e,r){return r.dap.runInTerminalRequest(e)}};fp=z([(0,Ib.injectable)(),x(0,(0,Ib.inject)(le))],fp);var M8=U(pe());var dp=class{getTreatment(e,r){return Promise.resolve(r)}};dp=z([(0,M8.injectable)()],dp);var k8=U(pe());var Lu=class{constructor(){this.flushEmitter=new J;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};Lu=z([(0,k8.injectable)()],Lu);var R8=t=>{},O8=t=>{};var B8=(t,e,r,i)=>{let n=new Eb.Container;return n.parent=t,n.bind(Ve).toConstantValue(e.launchConfig),n.bind(vc).toConstantValue(n),n.bind(bi).toConstantValue(r),n.bind(ft).toConstantValue(i),n.bind(Xn).toConstantValue(e),n.bind(Gq).toConstantValue(e.targetOrigin()),n.bind(Pa).to(iu).inSingletonScope(),n.bind(Rn).to(Da).inSingletonScope(),n.bind(Zm).to(Tc).inSingletonScope(),n.bind(_o).toSelf().inSingletonScope(),e.sourcePathResolver&&n.bind(et).toConstantValue(e.sourcePathResolver),n.bind(Ja).toSelf(),n.bind(KH).toDynamicValue(s=>s.container.get(Ja).create()).inSingletonScope(),e.parent()&&(n.bind(Oa).to(Ra).inSingletonScope(),n.bind(Fn).to(Cc).inSingletonScope()),n.bind(xr).to(process.env.DA_TEST_DISABLE_TELEMETRY?Lu:Nn).inSingletonScope().onActivation(Ot),n.bind(Ai).toSelf().inSingletonScope(),n.bind(Xt).toSelf().inSingletonScope(),n.bind($o).toSelf().inSingletonScope(),n.bind(Ho).to(Yn).inSingletonScope(),n.bind(Do).toSelf().inSingletonScope(),n.bind(tl).to(el).inSingletonScope(),n.bind(wH).to(Kc).inSingletonScope(),n.bind(_i).to(Lc).inSingletonScope(),n.bind(qH).to(sl).inSingletonScope(),n.bind(bo).to(Ac).inSingletonScope(),n.bind(Zt).toSelf(),n.bind(ni).toSelf(),n.bind(si).toSelf(),n.bind(YH).to(Ss).inSingletonScope(),n.bind(QH).to(il).inSingletonScope(),n.bind(_H).to(Vc).inSingletonScope().onActivation(Ot),n},F8=t=>{let e=new Eb.Container;e.parent=t,e.bind(vc).toConstantValue(e),e.bind(le).to(Ti).inSingletonScope().onActivation(Ot),e.bind(Pa).to(iu).inSingletonScope(),e.bind(xr).to(process.env.DA_TEST_DISABLE_TELEMETRY?Lu:Nn).inSingletonScope().onActivation(Ot),e.bind(Bn).to(Bn).inSingletonScope(),e.bind(bs).to(bs).inSingletonScope(),e.bind(bl).to(yl).inSingletonScope(),e.bind(Ec).to(Bl).inSingletonScope(),e.bind(pa).to(Ql),e.bind(ss).toSelf().inSingletonScope().onActivation(Ot),e.bind(cs).toSelf(),e.bind(Pr).to(pn).onActivation(Ot),e.bind(Pr).to(Zl).onActivation(Ot),e.bind(Pr).to(ep).onActivation(Ot),e.bind(Pr).to(op).onActivation(Ot),e.bind(Zd).to(lp),e.bind(Zd).to(fp),e.bind(Iu).to(Yl).inSingletonScope(),O8(e),e.bind(Pr).to(np).onActivation(Ot),e.bind(vu).toSelf().inSingletonScope().onActivation(Ot),e.bind(Pr).toService(vu),e.bind(Pr).to(jl).inSingletonScope().onActivation(Ot),e.bind(Pr).to(Wl).inSingletonScope().onActivation(Ot),e.bind(Pr).to(ql).inSingletonScope().onActivation(Ot),e.bind(Pr).to(Vl).inSingletonScope().onActivation(Ot),e.bind(Pr).to(Oi).onActivation(Ot),e.bind(Pr).toDynamicValue(()=>t.get(wu).createLauncher(e.get(le))).inSingletonScope();let r=i=>n=>new i(n.container.get(j_),n.container.get(it),n.container.get(of));return e.bind($a).toDynamicValue(r(Sb.ChromeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","chrome"),e.bind($a).toDynamicValue(r(Sb.EdgeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","edge"),e},U8=t=>{let e=new Eb.Container;return e.bind(vc).toConstantValue(e),e.bind(wu).toSelf().inSingletonScope(),e.bind(zl).toSelf().inSingletonScope(),e.bind(lH).to(dp).inSingletonScope(),e.bind(FT).toConstantValue(new Qn),e.bind(vF).to(wl).inSingletonScope(),e.bind(On).toConstantValue(t.storagePath),e.bind(_c).toConstantValue(t.isVsCode),e.bind(D8).to(up),e.bind(Ei).to(Wc).inSingletonScope(),e.bind(j_).toConstantValue(process.env),e.bind(of).toConstantValue(N8.default),e.bind(it).toConstantValue(Ab.promises),e.bind(Br).toConstantValue(new Ki(Ab.promises)),e.bind(Ta).toConstantValue(t.isRemote?"remote":"local"),t.context&&e.bind(BT).toConstantValue(t.context),R8(e),e},j8=(t,e,r)=>{t.bind(Bf).toConstantValue(iR(e)),t.bind(Ve).toService(Bf),t.bind(ln).to(Xl).inSingletonScope(),t.bind(yc).toConstantValue(r),t.bind(et).toDynamicValue(i=>i.container.get(ln).create(e,i.container.get(le))).inSingletonScope(),t.bind(Br).toConstantValue(bm.create(e.__remoteFilePrefix,Ab.promises,r)),t.bind(N_).to(ho).inSingletonScope().onActivation(Ot),t.bind(yo).to(Ic).inSingletonScope(),t.bind(ht).toSelf().inSingletonScope().onActivation(Ot),t.bind(Rn).to(Da).inSingletonScope(),t.bind(ka).toSelf().inSingletonScope(),t.bind(Oa).to(Ra).inSingletonScope(),t.bind(Fn).to(xc).inSingletonScope()};var xb=U(w("path"));function W8(t,e,r){let i=q8(t,e,"uncaughtException",r),n=q8(t,e,"unhandledRejection",r);return process.addListener("uncaughtException",i),process.addListener("unhandledRejection",n),{dispose:()=>{process.removeListener("uncaughtException",i),process.removeListener("unhandledRejection",n)}}}var q8=(t,e,r,i=!0)=>n=>{Ele(n)&&(e.report("error",{"!error":n,error:i?void 0:n,exceptionType:r}),t.error("runtime.exception","Unhandled error in debug adapter",n))},Ale=t=>typeof t=="object"&&!!t&&"stack"in t,Sle=xb.dirname(xb.dirname(xb.dirname(__dirname)));function Ele(t){var e;return!V8||Ale(t)&&!!((e=t.stack)!=null&&e.includes(Sle))}var V8=!1;function G8(){V8=!0}var Cb=class{constructor(e,r,i,n){this._delegate=e;this._rootServices=i;this._disposables=new Ye;this._serviceTree=new WeakMap;this._root=new ma(void 0);this.getLaunchers=Pe(()=>{let e=new Set(this._rootServices.getAll(Pr));for(let r of e)this._disposables.push(r.onTargetListChanged(()=>{let i=this.targetList();this._attachToNewTargets(i,r),this._terminateOrphanThreads(i)}));return e});this._dap=r.dap(),this._targetOrigin=n,this._disposables.callback(()=>Wm(i)),this._disposables.push(W8(i.get(le),i.get(xr),i.get(_c))),r.attachTelemetry(i.get(xr));let s=this._dap,o=0,a;s.on("initialize",async u=>{this._rootServices.bind(hr).toConstantValue(u);let c=Es.capabilities();return u.clientID==="vscode"&&G8(),setTimeout(()=>s.initialized({}),0),c}),s.on("setExceptionBreakpoints",async()=>({})),s.on("setBreakpoints",async u=>{var c,l;return(c=u.breakpoints)!=null&&c.length&&i.get(ht).notifyHadBreakpoint(),{breakpoints:((l=u.breakpoints)==null?void 0:l.map(()=>({id:++o,verified:!1,message:K8.t("Unbound breakpoint")})))??[]}}),s.on("configurationDone",async()=>({})),s.on("threads",async()=>({threads:[]})),s.on("loadedSources",async()=>({sources:[]})),s.on("breakpointLocations",()=>Promise.resolve({breakpoints:[]})),s.on("attach",async u=>(await this.boot(u,s),{})),s.on("launch",async u=>(await this.boot(u,s),{})),s.on("pause",async()=>({})),s.on("terminate",()=>this._terminateRoot(!0)),s.on("disconnect",u=>this._disconnectRoot(u)),s.on("restart",async({arguments:u})=>(await this._restart(u),{})),s.on("startSelfProfile",async({file:u})=>(a==null||a.dispose(),a=new ZH(u),await a.start(),{})),s.on("stopSelfProfile",async()=>(a&&(await a.stop(),a.dispose(),a=void 0),{}))}async _terminateRoot(e){return this._root.state=1,await Promise.all([...this.getLaunchers()].map(r=>r.terminate(e))),await this._root.waitUntilChildrenAre(2),this._root.state=2,{}}async _disconnectRoot(e){return this._root.state<1&&await this._terminateRoot(e.terminateDebuggee),this._rootServices.get(xr).flush(),await this._root.waitUntilChildrenAre(3),this._root.state=3,{}}async boot(e,r){return this._boot(bc(e,this._rootServices.get(Ta)),r)}async _boot(e,r){xle(r),this.reportBootTelemetry(e),j8(this._rootServices,e,r),this._rootServices.get(le).setup(UE(r,e.trace));let i=e.timeout>0?Yt.withTimeout(e.timeout):new Yt;e.rootPath&&(e.rootPath=zi(e.rootPath)),this._launchParams=e;let n=await Promise.all([...this.getLaunchers()].map(s=>this._launch(s,e,i.token)));return Promise.all(n.map(s=>s.terminated)).then(s=>{let o=s.find(ur);this._markTargetAsTerminated(this._root,{restart:!!(o!=null&&o.restart)})}),{}}reportBootTelemetry(e){let r=bc({type:e.type,request:e.request,name:"<string>",__workspaceFolder:"<workspace>"}),i=(n,s)=>typeof n=="string"?s&&r[s]===n?n:"<string>":n instanceof Array?n.map(o=>i(o)):n&&typeof n=="object"?ls(n,o=>i(o)):n;this._rootServices.get(xr).report("launch",{type:e.type,request:e.request,os:`${Lb.platform()} ${Lb.arch()}`,nodeVersion:process.version,adapterVersion:sf,parameters:ls(e,i)})}async _restart(e){let r;if(e){let i=this._rootServices.get(Bf);r=bc({__workspaceFolder:i.__workspaceFolder,...e},this._rootServices.get(Ta)),i.update(r)}await Promise.all([...this.getLaunchers()].map(i=>i.restart(r)))}async _launch(e,r,i){return(await this.captureLaunch(e,r,i)).blockSessionTermination?{terminated:new Promise(s=>{let o=this._disposables.push(e.onTerminated(a=>{o.dispose(),s(a)}))})}:{terminated:Promise.resolve(void 0)}}async captureLaunch(e,r,i){let n=e.constructor.name,s;try{s=await e.launch(r,{telemetryReporter:this._rootServices.get(xr),cancellationToken:i,targetOrigin:this._targetOrigin,dap:this._dap})}catch(o){throw this._rootServices.get(le).warn("runtime.launch","Launch returned error",{error:o,wasCancelled:i.isCancellationRequested,name:n}),o}return s.blockSessionTermination&&this._rootServices.get(le).info("runtime.launch","Launched successfully",{name:n}),s}dispose(){this._disposables.dispose(),this._terminateOrphanThreads([])}targetList(){let e=[];for(let r of this.getLaunchers())e.push(...r.targetList());return e}async attach(e,r){if(!this._launchParams)throw new Error("Cannot launch before params have been set");let i=e.value;if(!i.canAttach())return;let n=await i.attach();if(!n)return;let s=await this._delegate.acquireDap(i),o=s.dap(),a=this._launchParams;this._asyncStackPolicy||(this._asyncStackPolicy=eR(a.showAsyncStacks));let u=i.parent(),c=u&&this._serviceTree.get(u)||this._rootServices,l=B8(c,i,o,n);s.attachTelemetry(l.get(xr)),this._serviceTree.set(i,c);let p=new Es(o,this._asyncStackPolicy,a,l),f=p.createThread(n,i),H=async()=>(await p.launchBlocker(),i.runIfWaitingForDebugger(),e.threadData.resolve({thread:f,debugAdapter:p}),{});o.on("disconnect",m=>this._disconnectTarget(e,m)),o.on("terminate",()=>this._terminateTarget(e)),o.on("restart",async()=>(i.canRestart()?i.restart():await this._restart(),Promise.resolve({}))),await this._delegate.initAdapter(p,i,r)?H():(o.on("attach",H),o.on("launch",H)),await i.afterBind()}_attachToNewTargets(e,r){for(let i of e.values()){if(!i.waitingForDebugger()||ma.targetNodes.has(i))continue;let n=i.parent(),s=n?ma.targetNodes.get(n):this._root;if(!s)throw new Error(`Got target with unknown parent: ${i.name()}`);let o=new ma(i);s.add(o),this.attach(o,r)}}async _terminateOrphanThreads(e,r){let i=[...this._root.all()].filter(n=>!e.includes(n.value));return Promise.all(i.map(n=>this._markTargetAsTerminated(n,r)))}async _markTargetAsTerminated(e,r={}){if(e.state>=1)return await e.waitUntil(2),{};if(e.state=1,z8(e)){let i=await e.threadData.promise;await i.thread.dispose(),i.debugAdapter.dap.terminated(r),i.debugAdapter.dispose()}else this._dap.terminated(r);return await e.waitUntilChildrenAre(2),e.state=2,{}}async _terminateTarget(e){return e.state>=3?{}:(e.value.canStop()?e.value.stop():this._terminateRoot(!0),await e.waitUntil(2),{})}async _disconnectTarget(e,r){if(e.state>=3)return{};e.state<1&&(r.terminateDebuggee!==!0&&e.value.canDetach()?await e.value.detach():e.value.canStop()?e.value.stop():this._terminateRoot(r.terminateDebuggee)),await e.waitUntil(2),await e.waitUntilChildrenAre(3),e.state=3,queueMicrotask(()=>this._delegate.releaseDap(e.value));let i=e.value.parent(),n=i?ma.targetNodes.get(i):this._root;return n==null||n.remove(e),{}}};function xle(t){NT&&t.output({category:"console",output:`Note: Using the "preview" debug extension
`})}var z8=t=>!!t.value,yE=class{constructor(e){this.value=e;this.threadData=je();this._state=0;this._children=new Set;this._stateChangeEmitter=new J;e&&yE.targetNodes.set(e,this)}get state(){return this._state}set state(e){e>this._state&&(this._state=e,this._stateChangeEmitter.fire(e))}add(e){this._children.add(e)}remove(e){this._children.delete(e)}async waitUntil(e){return this._state>=e?Promise.resolve():new Promise(r=>{let i=this._stateChangeEmitter.event(n=>{n>=e&&(i.dispose(),r())})})}async waitUntilChildrenAre(e){await Promise.all([...this._children].map(r=>r.waitUntil(e)))}*all(){z8(this)&&(yield this);for(let e of this._children)yield*e.all()}},ma=yE;ma.targetNodes=new WeakMap;var X8=`\r
\r
`,Cle=0,Pb=class{constructor(e,r,i){this.inputStream=e;this.outputStream=r;this._contentLength=-1;this._connectionId=Cle++;this.msgEmitter=new J;this.messageReceived=this.msgEmitter.event;this.endedEmitter=new J;this.closed=this.endedEmitter.event;this._handleData=e=>{var i;let r=new Lr;for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){let n=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,n.length>0)try{let s=JSON.parse(n);(i=this.logger)==null||i.verbose("dap.receive",void 0,{connectionId:this._connectionId,message:s}),this.msgEmitter.fire({message:s,receivedTime:r})}catch(s){console.error("Error handling data: "+(s&&s.message))}continue}}else{let n=this._rawData.indexOf(X8);if(n!==-1){let o=this._rawData.toString("utf8",0,n).split(`\r
`);for(let a=0;a<o.length;a++){let u=o[a].split(/: +/);u[0]==="Content-Length"&&(this._contentLength=+u[1])}this._rawData=this._rawData.slice(n+X8.length);continue}}break}};this.logger=i,this._rawData=Buffer.alloc(0),e.on("end",()=>this.endedEmitter.fire()),e.on("data",this._handleData)}send(e,r=!0,i){var o,a;let n=JSON.stringify(e);if(r){let u=e;e.type==="response"&&e.command==="source"&&(u={...e,body:{...e.body,content:"<script source>"}}),(o=this.logger)==null||o.verbose("dap.send",void 0,{connectionId:this._connectionId,message:u})}let s=`Content-Length: ${Buffer.byteLength(n,"utf8")}\r
\r
${n}`;if(this.outputStream.destroyed){(a=this.logger)==null||a.warn("dap.send","Message not sent. Connection was closed."),i==null||i();return}this.outputStream.write(s,"utf8",u=>{var c;i==null||i(),u&&(console.log(e),(c=this.logger)==null||c.error("dap.send","Error while writing to output stream",u),this.close())})}close(){this.inputStream.destroy(),this.outputStream.destroy()}setLogger(e){return this.logger=e,this}};process.env.L10N_FSPATH_TO_BUNDLE&&Db.config({fsPath:process.env.L10N_FSPATH_TO_BUNDLE});var Lle=Y8.mkdtempSync(Tb.join(Z8.tmpdir(),"vscode-js-debug-"));function Ple(t){let e,r=[],i=new Set,n=je(),s=0,o;return t.on("setBreakpoints",async a=>{var l;let u=((l=a.breakpoints)==null?void 0:l.map(()=>++s))??[];return r.push({params:a,ids:u}),{breakpoints:u.map(p=>({id:p,verified:!1,message:Db.t("breakpoint.provisionalBreakpoint","Unbound breakpoint")}))}}),t.on("setExceptionBreakpoints",async a=>(e=a,{})),t.on("enableCustomBreakpoints",async a=>{for(let u of a.ids)i.add(u);return{}}),t.on("disableCustomBreakpoints",async a=>{for(let u of a.ids)i.delete(u);return{}}),t.on("configurationDone",async()=>(n.resolve(),{})),t.on("threads",async()=>({threads:[]})),t.on("loadedSources",async()=>({sources:[]})),t.on("initialize",async a=>(o=a,setTimeout(()=>t.initialized({}),0),Es.capabilities())),new Promise(a=>{let u=async c=>{await n.promise;let l=je();if(!o)throw new Error("cannot call launch/attach before initialize");return a({initializeParams:o,setExceptionBreakpointsParams:e,setBreakpointsParams:r,customBreakpoints:i,launchParams:c,deferred:l}),l.promise};t.on("launch",c=>u(c)),t.on("attach",u)})}var vE=class{constructor(e,r){this.dapRoot=e;this.services=r;this.sessions=new Map}async acquireDap(e){var o;let r=this.sessions.get(e.id());if(r){let{connection:a}=await r.promise;return a}let i=e.parent(),n;if(i){let a=(o=this.sessions.get(i.id()))==null?void 0:o.settledValue;if(!a)throw new Error("Expected parent session to have a settled value");n=a.connection.dap()}else n=this.dapRoot;let s=je();return this.sessions.set(e.id(),s),n.startDebuggingRequest({request:e.launchConfig.request,configuration:{type:e.launchConfig.type,name:e.name(),__pendingTargetId:e.id()}}).catch(a=>s.reject(a)),s.promise.then(a=>a.connection)}async initAdapter(e,r){var n;let i=(n=this.sessions.get(r.id()))==null?void 0:n.settledValue;if(!i)throw new Error(`Expected to find pending init for target ${r.id()}`);i.setExceptionBreakpointsParams&&await e.setExceptionBreakpoints(i.setExceptionBreakpointsParams);for(let{params:s,ids:o}of i.setBreakpointsParams)await e.breakpointManager.setBreakpoints(s,o);return await e.enableCustomBreakpoints({ids:Array.from(i.customBreakpoints)}),await e.onInitialize(i.initializeParams),await e.configurationDone(),await e.launchBlocker(),i.deferred.resolve({}),!0}releaseDap(e){this.sessions.delete(e.id())}hasPendingTarget(e){var r;return((r=this.sessions.get(e))==null?void 0:r.hasSettled())===!1}handleConnection(e){if(!("__pendingTargetId"in e.launchParams)||!e.launchParams.__pendingTargetId)throw new Error("Incoming session is missing __pendingTargetId");let r=e.launchParams.__pendingTargetId,i=this.sessions.get(r);if(!i)throw new Error(`__pendingTargetId ${r} not found`);i.resolve(e)}};function J8(t){let e=U8({storagePath:Lle,isVsCode:!1}),r=new Set,i=Q8.createServer(async n=>{try{let s=new la,o=new Pb(n,n,s),a=new ef(o,s),u=a.dap(),c=await Ple(u);if("__pendingTargetId"in c.launchParams){let l=c.launchParams.__pendingTargetId,p=l&&[...r].find(f=>f.hasPendingTarget(l));if(!p)throw new Error(`Cannot find pending target for ${l}`);s.connectTo(p.services.get(le)),p.handleConnection({...c,connection:a})}else{let l=F8(e),p=new vE(u,l);r.add(p),l.bind(hr).toConstantValue(c.initializeParams),s.connectTo(l.get(le));let f=new Cb(p,a,l,new ub("targetOrigin"));o.closed(()=>{f.dispose(),r.delete(p)}),c.deferred.resolve(await f.boot(c.launchParams,u))}}catch(s){return console.error(s),n.destroy()}}).on("error",n=>{console.error(n),process.exit(1)}).listen(t,()=>{let n=i.address();console.log(`Debug server listening at ${typeof n=="string"?n:`${n.address}:${n.port}`}`)})}var[,Dle,bE="8123",Tle="localhost"]=process.argv;process.argv.includes("--help")?console.log(`Usage: ${Tb.basename(Dle)} [port|socket path=8123] [host=localhost]`):isNaN(Number(bE))?J8({path:bE}):J8({port:Number(bE),host:Tle});})();
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-windows/index.js:
  (*!
   * is-windows <https://github.com/jonschlinkert/is-windows>
   *
   * Copyright  2015-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
